var Faug=new function(){var e,t,a,i,r,n,s,o,l,d,c={},u={},f={},m={},g={},h={},p={"":{}},v={},y={},b=void 0,_={},w={},F={},x={},O={},k=!1,T="c",S="u",A="d",N="ra",C="YYYY-MM-DD",P="YYYY-MM-DD HH:mm:ss",j="HH:mm:ss",I="X",D={defaultroute:"",routes:{}},B=!1,E="faug-freeze-element",z=void 0,V=0,M={},R=!0,L={},U="__SCOPED_VAR__"+(new Date).getTime()+"__",q="__EVERY__"+(new Date).getTime()+"__",H=void 0,J=void 0,W=0,X={},G={},Y="__RARGS__"+(new Date).getTime()+"__",Q=void 0,K=!1,Z=void 0,ee=void 0,te=!1,ae="USD",ie=!1,re={},ne="",se="",oe=!1,le=void 0,de=!1,ce=!1,ue={},fe={},me=!1,ge=!0,he={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},pe={},ve=!1,ye=!1,be=!1,_e=-2,we={},Fe=!1,xe=void 0,Oe=void 0,$e=void 0,ke=void 0,Te=void 0,Se=void 0,Ae=void 0,Ne=!0,Ce={o:null,i:[],pid:null,m:{}},Pe={layout:{},form:{ele:"form",style:"width:95%;",class:"form",validationErrorMsg:"Please Fill all the mandatory fields",file:{maxSizeMb:null,errorFunc:null},element:{container:{class:"form-group",ele:"div",style:"",attrs:{},class:""},label:{ele:"label",style:"",attrs:{},class:"",requiredHtml:"<span style='color:red'>*</span>"},icon:{ele:"i",style:"",attrs:{},class:""},this:{class:"form-control",style:"",attrs:{}},helptext:{class:"help-block",ele:"span",errorSeparator:"<br/>",errorClass:"has-error",successClass:"has-success",errorText:" is Required",errorPos:"append",style:"",attrs:{}}},radio:{this:{ele:"input",style:"",attrs:{},class:""},label:{ele:"label",style:"",attrs:{},class:""},container:{class:"radio",ele:"div",style:"",attrs:{}}},checkbox:{this:{ele:"input",style:"",attrs:{},class:""},label:{ele:"label",style:"",attrs:{},class:""},container:{class:"radio",ele:"div",style:"",attrs:{}}},groupMarker:{html:'<div class="clearfix">&nbsp;</div>'},object:{section:{ele:"div",style:"",attrs:{},class:""},container:{class:"form-group clearfix",ele:"div",style:"",attrs:{}}},array:{container:{class:"form-group clearfix",attrs:{}},section:{ele:"div",eleIfAbsent:"b",style:"margin-top:10px;display:inline-block;",attrs:{}},header:{ele:"div",style:"",attrs:{},class:""},addButton:{ele:"button",style:"float:right",attrs:{},class:""},remButton:{ele:"button",style:"float:right",attrs:{},class:""},this:{class:"div",header:{ele:"div",style:"",attrs:{},class:"",remButton:{ele:"button",style:"float:right",attrs:{},class:""},minlabel:{ele:"span",style:"",attrs:{},class:""},minmaxButton:{ele:"span",style:"float:right",attrs:{}}},container:{class:"form-group clearfix",ele:"div",style:"",attrs:{}}}},actionsArea:{ele:"ul",class:"list-group",style:"",attrs:{},edit:{ele:"li",style:"",class:"list-group-item",label:"Edit",attrs:{}},delete:{ele:"li",style:"",class:"list-group-item",label:"Delete",attrs:{}},appendTo:"body"},submitButton:{ele:"input",label:"Create",style:"",attrs:{},class:""},resetButton:{ele:"button",class:"btn-primary pull-right",style:"margin-bottom:20px;",text:"Reset",attrs:{}},progress:{ele:"progress",style:"",attrs:{},class:""}},viewer:{editButton:{ele:"button",style:"",attrs:{},class:""},deleteButton:{ele:"button",msg:"Are you sure?",style:"",attrs:{},class:""},this:{table:{ele:"table",style:"width:100%;",class:"table table-striped table-bordered table-hover",container:{ele:"div",style:"overflow-x:auto",attrs:{},class:""},header:{ele:"thead",rowEle:"tr",colEle:"th",style:"",attrs:{},class:""},row:{ele:"tr",style:"",attrs:{},class:""},column:{ele:"td",style:"",attrs:{},class:""}},default:{ele:"div",style:"",attrs:{},class:""},dropdown:{ele:"ul",class:"dropdown-menu",itemEle:"li",style:"",attrs:{}}},pagination:{html:'<button class="faug-trigger-read-prev-button">Previous</button><button class="faug-trigger-read-next-button">Next</button>'}},helperForm:{ele:"form",style:"width:95%;",class:"form",attrs:{}},search:{selector:null,regex:null,errorFunc:null},input:{regex:null,errorFunc:null},table:{search:{regex:null},settings:{template:"<div class='container-fluid'><div class='row'><div class='col-lg-12 col-md-12 col-sm-12 col-xs-12'><ul class='_t_stg_lst list-group column-list'><%itemshtml%></ul></div><div class='col-lg-12 col-md-12 col-sm-12 col-xs-12'><button class='_t_stg_but btn btn-success pull-right'>Apply</button></div></div></div>",items:{itemshtml:{template:"<li class='ui-state-default list-group-item <%active%>' style='margin: 2px 2px;border-radius: 0px;cursor: move;text-transform: capitalize;'><i class='glyphicon glyphicon-resize-vertical margin-right-15 font-size-12'></i><%name%></li>"}}},container:{template:"<div class='_t_mc container-fluid col-md-12'><%header%><%body%><%notfound%><%footer%></div>",items:{header:{template:"<div class='_t_hc row' style='margin:20px 0 20px 0'><%itemperpage_yes%><%itemperpage_no%><%blank%><%searchdownload%></div>",items:{itemperpage_yes:{cond:"|=|true:object@page_enabled",template:"<div class='_t_h1 col-md-2 row' style='padding-left: 0px;'><div class='col-md-2'><i style='font-size:25px;padding-top:5px;' class='_t_stg fa fa-cog cursor-pointer' aria-hidden='true'></i></div><div class='col-md-10'><select class='_t_ps form-control'><%options%></select></div></div>"},itemperpage_no:{cond:"|!=|true:object@page_enabled",template:"<div class='_t_h1 col-md-1' style='padding-left: 0px;'><div class='col-md-2'><i style='font-size:25px;padding-top:5px;' class='_t_stg fa fa-cog cursor-pointer' aria-hidden='true'></i></div></div>"},blank:"<div class='_t_h2 col-md-6'>&nbsp;</div>",searchdownload:{template:"<div class='_t_h3 col-md-4 col-sm-12 col-xs-12' style='padding-right: 0px;'><div class='_t_h3_s col-md-10'><%search%></div><%download%><%downloadpdf%></div>",items:{search:{cond:"|=|true:object@search_enabled",template:"<input type='text' class='_t_sb form-control' placeholder='Search' value='<%_f_search_text%>'/>"},download:{cond:"|=|true:object@dwnld_enabled",template:"<div class='_t_h3_d floatingRightBtn'><i style='font-size:25px;padding-top:5px;' class='_t_dw fa fa-download'></i></div>"},downloadpdf:{cond:"|=|true:object@dwnldpdf_enabled",template:"<div class='_t_h3_dp floatingRightBtn'><i style='font-size:25px;padding-top:5px;' class='_t_dwpdf fa fa-file-pdf'></i></div>"}}}}},body:"<div class='_t_bc'></div>",notfound:"<div class='_t_gc row hidden' style='margin:20px 0 20px 0'><center><p>No Data Found</p></center></div>",footer:{template:"<div class='_t_fc row' style='margin:20px 0 20px 0'><%previous%><%pagination%><%next%></div>",items:{previous:"<div class='_t_f1 col-md-1' style='padding-left: 0px;'><button type='button' class='_t_f11 previous btn'>Previous</button></div>",pagination:{template:"<div class='_t_f2 col-md-10 <%isHidden%>'><center><div class='_t_f21'>Page <span class='_t_f211w'><input type='text' class='_t_f211'></span> of <span class='_t_f212'></span></div></center></div>",items:{isHidden:{cond:"|=|true:object@invoke_apionchange",template:"hidden"}}},next:{template:"<div class='_t_f3 col-md-1 <%pullRight%>' style='padding-right: 0px;'><button type='button' class='_t_f31 btn next pull-right'>Next</button></div>",items:{pullRight:{cond:"|=|true:object@invoke_apionchange",template:"pull-right"}}}}}}},items:{table:"<table class='_t_tl table'>",thead:"<thead class='_t_th'>",theadtr:"<tr class='_t_hr'>",theadth:"<th class='_t_hc'>",tbody:"<tbody class='_t_tb'>",tbodytr:"<tr class='_t_rw'>",tbodytd:"<td><%content%></td>",pagelistitem:"<option value='<%pagenum%>' <%selected%>><%display%></option>",sorthtml:"<i class='fa fa-fw fa-sort'></i>"}},freezeLoaderHtml:'<h3><img src="resources/busy.gif" /> Just a moment...</h3>',freezeUiContainer:"",modal:{template:"<div id='<%id%>' class='modal fade' role='dialog'><div class='modal-dialog' style='<%width%><%height%>'><div class='modal-content'><%header%><%body%><%footer%></div></div></div>",items:{header:{template:"<div class='modal-header'><%closebutton%><%headerContent%></div>",items:{closebutton:{cond:"|=|true:object@isCloseAllwd",template:"<button type='button' class='close' data-dismiss='modal'>&times;</button>"}}},body:"<div class='modal-body clearfix'><%html%></div>",footer:"<div class='modal-footer'><%footerContent%></div>"}}};this.escapeHtml=function(e){return Ee(e)?"":String(e).replace(/[&<>"'`=\/]/g,(function(e){return he[e]}))},this.eh=this.escapeHtml,this.unEscapeHtml=function(e){return Ee(e)?"":e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(/&amp;/g,"&")).replace(/&lt;/g,"<")).replace(/&gt;/g,">")).replace(/&quot;/g,'"')).replace(/&#39;/g,"'")).replace(/&#x2F;/g,"/")).replace(/&#x60;/g,"`")).replace(/&#x3D;/g,"=")).replace(/&#34;/g,'"')},this.ueh=this.unEscapeHtml,this.getConfigPath=function(){return"fjs-config.json"},this.copy=function(e){if(De("Object",e)){var t={};for(var a in e)e.hasOwnProperty(a)&&(t[a]=this.copy(e[a]));return t}if(De("Array",e)){t=[];for(var i=0;i<e.length;i++)t.push(this.copy(e[i]));return t}return e},this.getProperty=function(t){return"loadconfigafterauth"==t?K:"stateFreeze"==t?Z:"inited"==t?ot:"initialLoaderScreen"==t?R:"isRecord"==t?ce:"baseUrl"==t?ne:"pbaseUrl"==t?se:"templateResources"==t?this.copy(e):"debugEnabled"==t?k:"catchApiUncaughtExceptions"==t?ge:"prefilterRegex"==t?le:"generateCorrelationId"==t?de:"authObject"==t?b:"errFn"==t?Ae:"errRegex"==t?Se:"numApiWebWorkers"==t?W:void 0},this.gp=this.getProperty,this.setProperty=function(e,t){"loadconfigafterauth"==e&&De("Boolean",t)?K=t:"stateFreeze"!=e||void 0!==t&&!De("Array",t)?"recorder"==e?n=t:"previousElement"==e?H=t:"cdfs"==e?Pe=t:"catchApiUncaughtExceptions"==e?ge=t:"baseUrl"==e?ne=t:"pbaseUrl"==e&&(se=t):Z=t},this.sp=this.setProperty,this.getString=function(e){return e?e+"":e},this.getSchemaHtmlTemplatesStr=function(){return JSON.stringify(X)},this.getOtherHtmlTemplatesStr=function(){return JSON.stringify(G)},this.getSchemaMapStr=function(){return JSON.stringify(u)},this.getRouteArgs=function(){return this.copy(x[Y])},this.getRouteArg=function(e){return x[Y][e]};var je=[["resources/javascript-xpath-latest-cmp.js"],["resources/bootstrap.min.js"],["resources/json2.js"],["resources/jquery.dataTables.js"],["resources/dataTables.bootstrap.js"],["resources/canvas-datagrid.js"],["resources/jspdf.min.js"],["resources/jspdf.plugin.autotable.min.js"],["resources/csv.min.js"]];this.dependencies=function(e,t){if(e&&e.length>0){var a=!0===window.onlyFaugCore;t&&(this.deps=[]);for(var i=0;i<e.length;i++)a||this.deps.push([e[i]])}};var Ie=this.dependencies;this.settings=function(e,t,a,i,r,n,s,o,l,d,c,u,f,m){t&&(k=t),a&&(T=a),i&&i,r&&(S=r),n&&(A=n),s&&(N=s),o&&(C=o),l&&(P=l),d&&(j=d),c&&(I=c),u&&(B=u),f&&(E=f),m&&(z=m)},this.initAuthObject=function(e,t,a,i){Fg.isN(i)&&!1!==i&&0!==i&&(i=!0),b={aTokenName:e,aTokenValue:t,aTokenWhere:a},K&&i&&__loadfaugconfig(b)},this.ia=this.initAuthObject,this.getSchemaMap=function(){return this.copy(u)};this.getSchemaMap;this.gsm=this.getSchemaMap,this.is=function(e,t){var a=Object.prototype.toString.call(t).slice(8,-1);return null!=t&&a===e};var De=this.is;this.isNode=function(e){return"object"==typeof Node?e instanceof Node:e&&"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName};this.isNode;this.isElement=function(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName};this.isElement;this.ise=this.isElement,this.byId=function(e){return Ee(e)?$(""):0==e.indexOf("#")?$(document.getElementById(e.substring(1))):$(document.getElementById(e))};var Be=this.byId;this.bi=this.byId,this.byName=function(e){return $(document.getElementsByName(e))};this.byName;this.bn=this.byName,this.byIdEsc=function(e){if(!Ee(e))try{return $(e).length>0?$(e):0==e.indexOf("#")?$(document.getElementById(e.substring(1))):$(document.getElementById(e))}catch(t){return 0==e.indexOf("#")?$(document.getElementById(e.substring(1))):$(document.getElementById(e))}return $("")};this.byIdEsc;this.byie=this.byIdEsc,this.isN=function(e){return void 0===e||null==e||""===e};var Ee=this.isN;this.returnIfN=function(e,t){return Ee(e)?t:e};var ze=this.returnIfN;function Ve(e,t,a){var i=t[e],r=a.split("|");if("len"==r[0]||"length"==r[0])i=i.length;else if("regex"==r[0])return M[r[2]]||(M[r[2]]=new RegExp(r[2])),M[r[2]].test(i);return"="==r[1]?i==r[2]:"!="==r[1]?i!=r[2]:"<"==r[1]?i<r[2]:"<="==r[1]?i<=r[2]:">"==r[1]?i>r[2]:">="==r[1]?i>=r[2]:"!tb"==r[1]?i&&""!=i.trim():"tb"==r[1]?i&&""==i.trim():"!n"==r[1]?null!==i:"n"==r[1]?null===i:"u"==r[1]?void 0===i:"!u"==r[1]?void 0!==i:"e"==r[1]&&(null==i||""==i.trim())}function Me(e,t){if(!e)return[!1];var a,i=e.split("@");i.length>3?a=i[3].trim():("this"==i[0]&&3==i.length||"parent"==i[0]&&3==i.length)&&(a=i[2].trim());var r=!1;if("id"==i[0]){var n="#"+i[2];t=$(n)}else if("parent"==i[0])t=t.parent();else if("name"==i[0]){n='[name="'+i[2]+'"]';t=$(n)}else if("class"==i[0]){n="."+i[2];t=$(n)}else if("selector"==i[0]){n=i[2];t=$(n)}else if(0==i[0].indexOf("group:")){var s=i[0].split(":");if(s.length>=5)for(var o=s[1],l=s[2],d=s[3],c=s[4],u=s.length>5?s[5]:"",f=i[2],m=0;m<o;m++){n=("id"==c?"#":"")+f+(m+1);if("class"==l&&$(n).hasClass(d)){r=!0,t=$(n);break}if("attr"==l&&""!=u&&$(n).attr(d)==u||$(n).is("["+d+"]")){r=!0,t=$(n);break}}}return!r||0==i[0].indexOf("group:")&&r?function(e,t,a){var i,r=!0,n=t[0],s=t[1],o=0==n.indexOf("constant:"),l="value"==n,d="var"==n,c="gvar"==n,u="data"==n,f="route"==n,m="form"==n;if(e&&"object"==n)return(i=e[t[1]])&&a&&(i=Tt(a,{value:i},!1,void 0,!1)),[!0,i];if(!e||0==e.length||o||d||l||c||u||f||m){if(d)return(v=0==t[1].indexOf("!"))&&(t[1]=t[1].substring(1)),(i=Fg.getVar(t[1]))&&a&&(i=Tt(a,{value:i},!1,void 0,!1)),[!0,v?!i:i];if(c)return(v=0==t[1].indexOf("!"))&&(t[1]=t[1].substring(1)),(i=Lt(t[1]))&&a&&(i=Tt(a,{value:i},!1,void 0,!1)),[!0,v?!i:i];if(f)return(v=0==t[1].indexOf("!"))&&(t[1]=t[1].substring(1)),(i=x[Y][t[1]])&&a&&(i=Tt(a,{value:i},!1,void 0,!1)),[!0,v?!i:i];if(u){(v=0==t[1].indexOf("!"))&&(t[1]=t[1].substring(1));var g=Yt(e);if(g)return(i=g[t[1]])&&a&&(i=Tt(a,{value:i},!1,void 0,!1)),[!0,v?!i:i]}else if(m){(v=0==t[1].indexOf("!"))&&(t[1]=t[1].substring(1));var h=function(e){var t=e.closest(".faug-form");if(t.length>0&&void 0!==t.attr("faug-sch-name"))return t.serializeObject(t.attr("faug-sch-name"))}(e);if(h){let e=[];if(-1!=t[1].indexOf("|")){let a=t[1].split("|");for(const t of a)e.push(t)}else e.push(t[1]);for(const t of e)if((i=h[t])&&a&&(i=Tt(a,{value:i},!1,void 0,!1)),void 0!==i)break;return[!0,v?!i:i]}}else{if(o){var p=n.substring(9);return"undefined"==p?[!0,void 0]:"null"==p?[!0,null]:"true"==p?[!0,!0]:"false"==p?[!0,!1]:(a&&(i=Tt(a,{value:p},!1,void 0,!1)),[!0,i])}var v;if(t.length>1)return(v=0==t[1].indexOf("!"))&&(t[1]=t[1].substring(1)),i=t[1],t[1]&&a&&(i=Tt(a,{value:i},!1,void 0,!1)),[!0,v?!i:i]}return[!1]}return"value"==s?i=e.first().val():"text"==s?i=e.first().text():"html"==s?i=e.first().html():-1!=s.indexOf("a:")?i=e.first().attr(s.substring(2)):"valuetrim"==s?i=e.first().val().trim():"texttrim"==s?i=e.first().text().trim():"htmltrim"==s?i=e.first().html().trim():r=!1,r&&i&&a&&(i=Tt(a,{value:i},!1,void 0,!1)),[r,i]}(t,i,a):[!1]}function Re(e,t,a,i){if(-1!=e.indexOf(":")){var r,n=e.substring(0,e.indexOf(":")),s=e.substring(e.indexOf(":")+1);if("func"==n){var o=Qe(s,[t,a,i]);return!!o.valid&&o.result}var l=n.split("|"),d=a&&t.length>0?a:Me(s,t);if(d[0]){if("!n"==l[1])return null!==d[1];if("n"==l[1])return null===d[1];if("u"==l[1])return void 0===d[1];if("!u"==l[1])return void 0!==d[1];if("e"==l[1])return null===d[1]||void 0===d[1]||""==d[1].trim();if(void 0===d[1])return!1;if(r=d[1]+"","len"==l[0]||"length"==l[0])r=r.trim().length;else if("regex"==l[0])return M[l[2]]||(M[l[2]]=new RegExp(l[2])),M[l[2]].test(r);try{if(!isNaN(r)){var c=1*l[2];isNaN(c)||(l[2]=c)}}catch(e){}if("="==l[1])return r==l[2];if("!="==l[1])return r!=l[2];if("<"==l[1])return r<l[2];if("<="==l[1])return r<=l[2];if(">"==l[1])return r>l[2];if(">="==l[1])return r>=l[2];if("!tb"==l[1])return r&&""!=r.trim();if("tb"==l[1])return r&&""==r.trim()}}return!0}this.infixToPostfixEvaluate=function(e){if(!e||0==e.length)return!0;if(1==e.length)return e[0];for(var t,a,i,r=[],n=[],s=0;s<e.length;s++)if("&&"==e[s]||"||"==e[s]||"("==e[s])r.push(e[s]);else if(")"==e[s])for(;r.length>0;){var o=r[r.length-1];r.splice(-1,1),"("!=o&&n.push(o)}else n.push(e[s]),r.length>0&&("&&"==r[r.length-1]||"||"==r[r.length-1])&&(n.push(r[r.length-1]),r.splice(-1,1));n=n.reverse();for(var l=0,d=[];l<n.length;)if("&&"==n[l]||"||"==n[l]?(i&&d.push(i),i=n[l],t=void 0,a=void 0):void 0!==i&&void 0===a?a=n[l]:void 0!==i&&void 0!==a&&void 0===t?t=n[l]:d.push(n[l]),void 0!==t&&void 0!==a&&void 0!==i&&(a="&&"==i?t&&a:t||a,t=void 0,i=void 0,d.push(a)),++l==n.length&&d.length>0){if(n=d,1==d.length)break;d=[],l=0}return n[0]};var Le=this.infixToPostfixEvaluate;function Ue(e,t,a){var i=!0;if(e){De("String",e)&&(e=[e]);for(var r=[],n=0;n<e.length;n++){var s=e[n];Ee(s)||("&&"==s.trim()||"||"==s.trim()||"("==s.trim()||")"==s.trim()?r.push(s.trim()):r.push(Re(s,t,void 0,a)))}i=Le(r)}return i}function qe(e,t,a){var i=!0,r=[];if(e&&e.cond)for(var n=0;n<e.cond.length;n++){var s=e.cond[n];if(s.length>1&&s[0]){var o=Re(s[0],t,a);!o&&s[1]?r.push(s[1]):r.push(void 0),i&=o}}return[i,r]}function He(e){var a=t.getDialog(e,We);return a||We(e)}function Je(e,t){var a=e.cond;if((e.show||e.hide)&&Ue(a,t)){var i=e.showclass?e.showclass:void 0,r=e.hideclass?e.hideclass:void 0,n=e.show,s=e.hide;if(n&&n.length>0)for(var o=0;o<n.length;o++)i&&r?(Be(n[o]).removeClass(r),Be(n[o]).addClass(i)):i?Be(n[o]).addClass(i):r?Be(n[o]).removeClass(r):Be(n[o]).show();if(s&&s.length>0)for(o=0;o<s.length;o++)i&&!r?(Be(s[o]).removeClass(i),Be(s[o]).addClass(r)):i?Be(s[o]).removeClass(i):r?Be(s[o]).addClass(r):Be(s[o]).hide()}}function We(e){return function(t,a,i,r,n){t&&!a&&(a=$(t.currentTarget),t.stopPropagation()),J=H,t&&"hashchange"!=t.type&&(H=$(t.currentTarget));var s=x[Y],o=Yt(J),l=Yt(H),d=(e.crudop,e.load),c={};if(e.vars)for(var u in e.vars){if(e.vars.hasOwnProperty(u))(g=Me(e.vars[u],a))[0]&&(c[u]=g[1])}var m=[t,a,l,o,s,i,c];if(e.varAssign)for(var u in e.varAssign){var g;if(e.varAssign.hasOwnProperty(u))(g=Me(e.varAssign[u],a))[0]&&Fg.addGlobalVar(u,g[1])}var h=Ue(e.cond,a,m);if(h||!0===n){var p=!0;if(!Ee(d)&&!Ee(d.selector)&&!Ee(d.template)&&(!d.checkPresence||d.checkPresence&&0==$(d.checkPresence).length)){p=!1;if(Ue(d.cond,a)||!0===n)if(!Ee(d.store_var)&&!Ee(d.store_var.name)&&!Ee(d.store_var.key)&&f[d.store_var.name]&&Fg.g(d.store_var.key)&&f[d.store_var.name][Fg.g(d.store_var.key)]){var v=f[d.store_var.name][Fg.g(d.store_var.key)];const t=Fg.templatizeByName(d.template);Xe(e,m,a,e.load.selector,v,t,r)}else $(d.selector).html(Fg.templatizeByName(d.template)),Xe(e,m,a,void 0,void 0,void 0,r)}p&&Xe(e,m,a,void 0,void 0,void 0,r)}return h}}function Xe(e,a,i,n,s,o,l){var d=e.eleid,c=e.jqselector,f=e.func,m=e.outfunc,g=(e.load,e.crudop),h=e.showhide,p=e.routeTo,v=e.preRouteTo,y=e.draw,b=e.every,_=e.forRoute;if(we)for(var w in we)"windows"!=w&&we.hasOwnProperty(w)&&w!=r&&(clearInterval(we[w]),delete we[w]);g&&!De("Array",g)&&(g=[g]),y&&!De("Array",y)&&(y=[y]),a.push(!0);var F=[];if(l){for(var O=0;O<l.length;O++)F.push(l[O]);for(O=3;O<a.length;O++)F.push(a[O])}else for(O=0;O<a.length;O++)F.push(a[O]);if(n&&o&&(o=t.templateEngine(o,s,!1),$(n).html(o)),v){var k={};if(a[4]){var T=a[4];for(var S in T)T.hasOwnProperty(S)&&(k[S]=T[S])}if(a[6]){T=a[6];for(var S in T)T.hasOwnProperty(S)&&(k[S]=T[S])}v=Tt(v,k,void 0,void 0,!1),Zt(v)}if(Ee(f)||Qe(f,F),g)for(var A=0;A<g.length;A++){var N=u[g[A].schemaName].crud[g[A].op];if(g[A].vars)for(var S in N.transientVars={},g[A].vars){if(g[A].vars.hasOwnProperty(S))(C=Me(g[A].vars[S],a[1]))[0]&&(N.transientVars[S]=C[1])}if(a[4]){N.transientVars||(N.transientVars={});T=a[4];for(var S in T)T.hasOwnProperty(S)&&(N.transientVars[S]=T[S])}if(a[6]){N.transientVars||(N.transientVars={});T=a[6];for(var S in T)T.hasOwnProperty(S)&&(N.transientVars[S]=T[S])}if(g[A].setVars)for(var S in g[A].setVars){if(g[A].setVars.hasOwnProperty(S))(C=Me(g[A].setVars[S],a[1]))[0]&&Fg.addVar(S,C[1])}if(g[A].setGlobals)for(var S in g[A].setGlobals){var C;if(g[A].setGlobals.hasOwnProperty(S))(C=Me(g[A].setGlobals[S],a[1]))[0]&&Fg.addGlobalVar(S,C[1])}It(1==g.length?f:null,g[A],[a[0],a[1]],d,c)}if(y)for(A=0;A<y.length;A++){var P=y[A];if(P.schemaName){var j=!0===P.show;"edit"===P.type?gt(P.schemaName,void 0,j):"editCM"===P.type?gt(P.schemaName,a[2],j):"editPM"===P.type?gt(P.schemaName,a[3],j):"reset"===P.type?ht(P.schemaName):mt(P.schemaName,void 0,j)}}if(h)for(A=0;A<h.length;A++)Je(h[A],i);if(Ee(m)||Qe(m,F),b&&b.duration&&!isNaN(b.duration)){var I=!0;if(b.forRoute)for(var D=0;D<b.forRoute.length;D++)I|=r==_[D];if(I&&!we[r])return void(we[r]=setInterval((function(){x[q]=!0,Fg.routeTo(Fg.getRoute()),x[q]=!1}),b.duration))}if(p){k={};if(a[4]){T=a[4];for(var S in T)T.hasOwnProperty(S)&&(k[S]=T[S])}if(a[6]){T=a[6];for(var S in T)T.hasOwnProperty(S)&&(k[S]=T[S])}p=Tt(p,k,void 0,void 0,!1),Zt(p)}}this.execSchemaCallBack=function(e,t,a,i,r){if(e in u){var n=u[e];if(n.crud&&t in n.crud){var s=n.crud[t];"callbacks"in s&&Ye(s.callbacks,a,[i],r)}}};this.execSchemaCallBack;this.escb=this.execSchemaCallBack;var Ge=null;this.execCallBack=function(e,t,a,i){void 0===i&&(i=!0),i&&a.unshift(t);var r={valid:!1,result:void 0},n={};if(e){if(void 0!==e&&void 0!==e[t]){e[t];var s=void 0;if(De("Object",e[t])){for(var o in e[t])if(e[t].hasOwnProperty(o)&&"controlEvents"==o&&De("Array",e[t][o]))for(var l=e[t][o],d=0;d<l.length;d++){var c=l[d].jqselector,u=l[d].eleid,f=l[d].event;if(De("Array",l[d].cond)||(l[d].cond=[l[d].cond]),f)for(var m=f.split(","),g=0;g<m.length;g++)Ee(u)?Ee(c)?$(window).off(m[g]+".fg.sl"):$(c).off(m[g]+".fg.sl"):Ee(c)?Be(u).off(m[g]+".fg.sl"):Be(u).off(m[g]+".fg.sl",c)}for(var o in e[t])if(e[t].hasOwnProperty(o)&&"controlEvents"==o&&De("Array",e[t][o]))for(l=e[t][o],d=0;d<l.length;d++){c=l[d].jqselector,u=l[d].eleid,f=l[d].event;var h=l[d].delay;l[d].crudop;if(De("Array",l[d].cond)||(l[d].cond=[l[d].cond]),f)for(m=f.split(","),g=0;g<m.length;g++){var p=function(e,t){return function(a){if($(this).attr("data-regex")&&Ae){if(""!=$(this).val()&&"file"!=$(this).prop("type")&&!new RegExp($(this).attr("data-regex")).test($(this).val()))return Fg.execFunc(Ae,[$(this)]),a.stopPropagation(),!1}else if(Se&&Ae){if(""!=$(this).val()&&"file"!=$(this).prop("type")&&!Se.test($(this).val()))return Fg.execFunc(Ae,[$(this)]),a.stopPropagation(),!1}else if(xe&&(xe===e.jqselector||xe===e.eleid)&&Oe&&"file"!=$(this).prop("type")&&""!=$(this).val()&&!Oe.test($(this).val()))return Fg.execFunc($e,[$(this)]),!1;if($(".faug-scrollable-menu").attr("prev-child-bgc")||$(".faug-scrollable-menu").attr("prev-child-bgc",$(".faug-scrollable-menu").children().eq(0).css("background-color")),$(".faug-scrollable-menu").is(":visible")&&(38==a.keyCode||40==a.keyCode||13==a.keyCode))return 38==a.keyCode?(-2==_e&&(_e=1),0==_e&&(_e=faugScrollableListLength),--_e>=0&&($(".faug-scrollable-menu").children().css("background-color",$(".faug-scrollable-menu").attr("prev-child-bgc")),$(".faug-scrollable-menu").children().eq(_e).css("background-color","#cccccc"),$(".faug-scrollable-menu").children().eq(_e)[0].scrollIntoView(!1))):40==a.keyCode?(-2==_e&&(_e=-1),++_e==faugScrollableListLength&&(_e=0),_e<faugScrollableListLength&&($(".faug-scrollable-menu").children().css("background-color",$(".faug-scrollable-menu").attr("prev-child-bgc")),$(".faug-scrollable-menu").children().eq(_e).css("background-color","#cccccc"),$(".faug-scrollable-menu").children().eq(_e)[0].scrollIntoView(!1))):13==a.keyCode&&$(".faug-scrollable-menu").children().eq(_e>=0?_e:0).trigger("click"),a.stopPropagation(),!1;var i=He;"keyup"!=t.toLowerCase()&&"keydown"!=t.toLowerCase()&&"keypress"!=t.toLowerCase()||(h||(h=1e3),i=function(e){return function(t,a){clearTimeout(Ge),Ge=setTimeout(function(t,a){return function(){13==t.keyCode&&t.stopPropagation(),He(e)(t,a)}}(t,a),h)}}),i(e)(a)}};Ee(u)?Ee(c)?$(window).fgOn(m[g]+".fg.sl",p(l[d],m[g])):($(c).fgOn(m[g]+".fg.sl",p(l[d],m[g])),"INPUT"!=$(c).prop("tagName")&&"TEXTAREA"!=Be(u).prop("tagName")||$(c).attr("data-rgo","1")):Ee(c)?(Be(u).fgOn(m[g]+".fg.sl",p(l[d],m[g])),"INPUT"!=Be(u).prop("tagName")&&"TEXTAREA"!=Be(u).prop("tagName")||Be(u).attr("data-rgo","1")):(Be(u).fgOn(m[g]+".fg.sl",c,p(l[d],m[g])),"INPUT"!=Be(u).prop("tagName")&&"TEXTAREA"!=Be(u).prop("tagName")||Be(u).attr("data-rgo","1"))}}else n[o]=e[t][o]}We(n)(void 0,void 0,void 0,a)}}else if(t){var v=x[Y],y={};if(s)for(var b in s)if(s.hasOwnProperty(b)){var _=Me(s[b],void 0);_[0]&&(y[b]=_[1])}a.push(v),a.push(y),r=Qe(t,a)}return r};var Ye=this.execCallBack;this.ecb=this.execCallBack,this.execFunc=function(e,t,a){var i={valid:!1,result:void 0};try{if(e){if("function"==typeof e)i.result=a?e.apply(null,t):e(t),i.valid=!0;else if(De("String",e)){var r=window[e];-1!=e.indexOf(".")&&(r=lt(window,e)),"function"==typeof r&&(i.result=a?r.apply(null,t):r(t),i.valid=!0)}}else;}catch(e){console.error(e)}return i};var Qe=this.execFunc;function Ke(t,a){t=templateFile;var i={rows:null,options:null,row:null},r=0;De("Array",e[templateFile])&&(t=e[templateFile][0],i=e[templateFile][1],r=3==e[templateFile].length?e[templateFile][2]:0),$.get(t,function(e,t,a,i,r){return function(n){X[t]=a?[n,3,a]:[n,i],e(t,n,a,a?3:0),r()}}(kt,t,i,r,a))}function Ze(e,t,a){$.get(e,function(e,t){return function(a){try{try{var i=JSON.stringify(a,ia);a=JSON.parse(i)}catch(t){t+=" ("+e+")",console.log("Problem templatizing schema "+t)}bt(a,!1,!1,!1,!1,!1,!0,t)}catch(t){t+=" ("+e+")",console.log("Problem parsing schema "+t)}}}(t,a))}function et(e){return e.headers?{method:e.method,headers:e.headers,status:e.status,responseURL:e.responseURL,responseText:e.responseText,responseXML:e.responseXML,responseJSON:e.responseJSON,statusText:e.statusText,readyState:e.readyState,getAllResponseHeaders:function(){return this.headers},statusCode:function(){return this.status},getResponseHeader:function(e){for(var t=this.headers.split("\n"),a=[],i=0;i<t.length;i++){e==t[i].substring(0,t[i].indexOf(": "))&&a.push(t[i].substring(t[i].indexOf(": ")+2))}return 1==a.length?a[0]:0!=a.length?a:void 0}}:e}this.ef=this.execFunc,this.clearApiCache=function(e,t,a){if(!Ee(e)&&!Ee(t)){var i=e+t;for(var r in Ee(a)||(i=a),fe)fe.hasOwnProperty(r)&&0==r.indexOf(i)&&delete fe[r]}},this.cac=this.clearApiCache,this.ajaxGet=function(e,t,a,i,r,n,s,o,l){tt(e,"GET",t,"",null,a,i,r,n,s,o,l)},this.aj=this.ajaxGet,this.ajaxPost=function(e,t,a,i,r,n,s,o,l,d,c){tt(e,"POST",t,a,i,r,n,s,o,l,d,c)},this.apo=this.ajaxPost,this.ajaxPut=function(e,t,a,i,r,n,s,o,l,d,c){tt(e,"PUT",t,a,i,r,n,s,o,l,d,c)},this.apu=this.ajaxPut,this.ajaxDelete=function(e,t,a,i,r,n,s,o,l,d,c){tt(e,"DELETE",t,a,i,r,n,s,o,l,d,c)},this.ad=this.ajaxDelete,this.ajaxCall=function(e,t,a,i,r,n,s,o,l,d,c,u){if(null==l&&(l=!0),l){var f=t+a+r;at(e,t,a,i,r,n,u).done(function(e,t,a){return function(i,r,n){null==i&&(i=n.responseText),u&&!isNaN(u)&&(fe[t]={t:(new Date).getTime(),d:i}),a&&(e?(e.unshift(i),a.apply(null,e)):a(i))}}(d,f,s)).fail(function(e,t,a){return function(t,i){null==t&&(t=i.responseText),a&&(e?(e.unshift(t),a.apply(null,e)):a(t))}}(c,0,o))}else{le&&!Fg.isN(ne)&&le.test(a)&&0!=a.indexOf(ne)&&(a=0==a.indexOf("/")?ne+a:ne+"/"+a),n=n||{},b&&("queryparam"===b.aTokenWhere?-1===a.indexOf("?")?a+="?"+b.aTokenName+"="+b.aTokenValue:"?"===a[a.length-1]?a+=b.aTokenName+"="+b.aTokenValue:a+="&"+b.aTokenName+"="+b.aTokenValue:"header"!==b.aTokenWhere||n.hasOwnProperty(b.aTokenName)||(n[b.aTokenName]=b.aTokenValue)),"application/json"===i&&!Fg.isN(r)&&Fg.is("String",r)&&JSON.parse(r),e&&Dt(!0);f=t+a+r;if(De("String",de)){var m=Fg.execFunc(de,[a,t]);m.valid&&m.result&&(n["X-Correlation-Id"]=m.result,-1==a.indexOf("?")?a+="?X_Correlation_Id="+m.result:"?"==a[a.length-1]?a+="X_Correlation_Id="+m.result:a+="&X_Correlation_Id="+m.result)}if(/get/i.test(t)&&(r=void 0,i=void 0),u&&fe[f]&&(new Date).getTime()-fe[f].t<u){e&&Dt(!1);var g=fe[f].d;s&&(d?(d.unshift(g),s.apply(null,d)):s(g))}else $.ajax({headers:n,type:t,processData:!1,url:a,contentType:i,data:r,async:l}).done((function(t,a,i){e&&Dt(!1);var r=i.responseJSON;if(null==r)try{r=JSON.parse(i.responseText)}catch(e){i.parseErr=e,r=i.responseText}u&&!isNaN(u)&&(fe[f]={t:(new Date).getTime(),d:r}),s&&(d?(d.unshift(r),s.apply(null,d)):s(r))})).fail((function(t,a,i){if(e&&Dt(!1),499==t.status){var r=atob(t.responseText);return Fg.sp("baseUrl",r),void $.ajax(this)}var n=t.responseJSON;if(null==n)try{n=JSON.parse(t.responseText)}catch(e){t.parseErr=e,n=t.responseText}o&&(c?(c.unshift(n),o.apply(null,c)):o(n))}))}};var tt=this.ajaxCall;this.ac=this.ajaxCall,this.get=function(e,t,a,i){return at(e,"GET",t,"",null,a,i)},this.post=function(e,t,a,i,r,n){return at(e,"POST",t,a,i,r,n)},this.put=function(e,t,a,i,r,n){return at(e,"PUT",t,a,i,r,n)},this.del=function(e,t,a,i,r,n){return at(e,"DELETE",t,a,i,r,n)},this.api=function(e,t,a,i,r,n,s){-1===document.URL.indexOf("http://")&&document.URL.indexOf("https://");if(W<=0||"undefined"==typeof Worker){n=n||{},b&&("queryparam"==b.aTokenWhere?-1==a.indexOf("?")?a+="?"+b.aTokenName+"="+b.aTokenValue:"?"==a[a.length-1]?a+=b.aTokenName+"="+b.aTokenValue:a+="&"+b.aTokenName+"="+b.aTokenValue:"header"==b.aTokenWhere&&!n.hasOwnProperty(b.aTokenName)&&b.aTokenValue&&(n[b.aTokenName]=b.aTokenValue)),"application/json"==i&&!Fg.isN(r)&&Fg.is("String",r)&&JSON.parse(r),e&&Dt(!0);var l=t+a+r;if(De("String",de))(c=Fg.execFunc(de,[a,t])).valid&&c.result&&(n["X-Correlation-Id"]=c.result,-1==a.indexOf("?")?a+="?X_Correlation_Id="+c.result:"?"==a[a.length-1]?a+="X_Correlation_Id="+c.result:a+="&X_Correlation_Id="+c.result);if(/get/i.test(t)&&(r=void 0,i=void 0),le&&!Fg.isN(ne)&&le.test(a)&&0!=a.indexOf(ne)&&(a=0==a.indexOf("/")?ne+a:ne+"/"+a),s){if(fe[l]&&(new Date).getTime()-fe[l].t<s){var d=fe[l].d;return{_d:null,_f:null,done:function(e){return this._d=e,this},fail:function(e){return this._f=e,this},init:function(){return setTimeout(function(e,t){return function(){t&&Fg.freezeUI(!1),e._d&&e._d(d)}}(this,e),100),this}}.init()}return{_d:null,_f:null,done:function(e){return this._d=e,this},fail:function(e){return this._f=e,this},init:function(){return setTimeout(function(e,o){return function(){$.ajax({headers:n,type:t,processData:!1,dataType:"text",url:a,contentType:i,data:r,async:!0}).always((function(e,t,a){o&&Dt(!1)})).done((function(t,a,i){if(t="json"===i.responseType?i.response:void 0,204!=i.status&&!t&&i.responseText)try{t=JSON.parse(i.responseText),i.responseJSON=t}catch(e){i.parseErr=e,t=i.responseText}s&&!isNaN(s)&&(fe[l]={t:(new Date).getTime(),d:t}),e._d&&e._d(t,a,i)})).fail((function(t,a,i){if(i="json"===t.responseType?t.response:void 0,204!=t.status){if(499==t.status){var r=atob(t.responseText);return Fg.sp("baseUrl",r),void $.ajax(this)}if(!i&&t.responseText)try{i=JSON.parse(t.responseText),t.responseJSON=i}catch(i){t.parseErr=i,i=t.responseText}}e._f&&e._f(i,t,a)}))}}(this,e),100),this}}.init()}return{_d:null,_f:null,done:function(e){return this._d=e,this},fail:function(e){return this._f=e,this},init:function(){return setTimeout(function(e,s){return function(){$.ajax({headers:n,type:t,processData:!1,dataType:"text",url:a,contentType:i,data:r,async:!0}).always((function(e,t,a){s&&Dt(!1)})).done((function(t,a,i){if(t="json"===i.responseType?i.response:void 0,204!=i.status&&!t&&i.responseText)try{t=JSON.parse(i.responseText),i.responseJSON=t}catch(e){i.parseErr=e,t=i.responseText}e._d&&e._d(t,a,i)})).fail((function(t,a,i){if(i="json"===t.responseType?t.response:void 0,204!=t.status){if(499==t.status){var r=atob(t.responseText);return Fg.sp("baseUrl",r),void $.ajax(this)}if(!i&&t.responseText)try{i=JSON.parse(t.responseText),t.responseJSON=i}catch(i){t.parseErr=i,i=t.responseText}}e._f&&e._f(i,t,a)}))}}(this,e),100),this}}.init()}if(W>0){n=n||{},b&&("queryparam"==b.aTokenWhere?-1==a.indexOf("?")?a+="?"+b.aTokenName+"="+b.aTokenValue:"?"==a[a.length-1]?a+=b.aTokenName+"="+b.aTokenValue:a+="&"+b.aTokenName+"="+b.aTokenValue:"header"!=b.aTokenWhere||n.hasOwnProperty(b.aTokenName)||(n[b.aTokenName]=b.aTokenValue)),"application/json"==i&&!Fg.isN(r)&&Fg.is("String",r)&&JSON.parse(r);var c;l=t+a+r;if(De("String",de))(c=Fg.execFunc(de,[a,t])).valid&&c.result&&(n["X-Correlation-Id"]=c.result,-1==a.indexOf("?")?a+="?X_Correlation_Id="+c.result:"?"==a[a.length-1]?a+="X_Correlation_Id="+c.result:a+="&X_Correlation_Id="+c.result);/get/i.test(t)&&(r=void 0,i=void 0),le&&!Fg.isN(ne)&&le.test(a)&&0!=a.indexOf(ne)&&(a=0==a.indexOf("/")?ne+a:ne+"/"+a),e&&Dt(!0);var u=[t,a,i,r,n,s,e,(new Error).stack];if(s){if(fe[l]&&(new Date).getTime()-fe[l].t<s){d=fe[l].d;return{_d:null,_f:null,done:function(e){return this._d=e,this},fail:function(e){return this._f=e,this},init:function(){return setTimeout(function(e,t){return function(){t&&Fg.freezeUI(!1),e._d&&e._d(d)}}(this,e),100),this}}.init()}var f=o.execute(u);return{_d:null,_f:null,done:function(e){return this._d=e,this},fail:function(e){return this._f=e,this},init:function(){return setTimeout(function(e,t){f.done((function(a,i,r){s&&!isNaN(s)&&(fe[l]={t:(new Date).getTime(),d:a}),t&&Fg.freezeUI(!1),e._d&&e._d(a,i,r)})).fail((function(a,i){t&&Dt(!1),e._f&&e._f(a,i)}))}(this,e),100),this}}.init()}return o.execute(u)}};var at=this.api;function it(e,t,a,i,r){var n="";if(De("Object",i)){for(var s in i)i.hasOwnProperty(s)&&null!=i[s]&&void 0!==i[s]&&(n+=s+'="'+Xt(Fg.eh(i[s]))+'" ');i=n}if(null==r&&(r="div"),null==e||void 0===e)return[t,a,i,r];var o="",l="",d="";if(e.hasOwnProperty("el")&&(r=e.el),e.hasOwnProperty("attrpos")&&(o=e.attrpos),e.hasOwnProperty("stylepos")&&(l=e.stylepos),e.hasOwnProperty("classpos")&&(d=e.classpos),""==o&&(o="append"),""==l&&(l="append"),""==d&&(d="append"),void 0!==e.style&&""!=e.style&&("append"==l?t+=";"+e.style+";":t="prepend"==l?e.style+";"+t:e.style+";"),void 0!==e.attrs){var c="";for(var s in e.attrs)e.attrs.hasOwnProperty(s)&&null!=e.attrs[s]&&void 0!==e.attrs[s]&&(c+=s+'="'+Xt(Fg.eh(e.attrs[s]))+'" ');"append"==o?i+=" "+c:"prepend"==o?t=i+" "+c:i=c}return void 0!==e.class&&""!=e.class&&("append"==d?a+=" "+Fg.eh(e.class):a="prepend"==d?" "+Fg.eh(e.class)+" "+a:Fg.eh(e.class)+" "),[Xt(t),Xt(a),i,r]}function rt(e,t,a,i,r,n,s,o,l,d,c,u,f,m,g,h){var p,v;s&&De("Array",s)?(p=s[0],s.length>1&&(v=s[1])):p=s;var y=!1;n&&n.hasOwnProperty("showhelptext")&&(y=1==n.showhelptext||1==n.showhelptext);var b,_,w=Fg.getString(Pe.form.element.container.style),F=Fg.copy(Pe.form.element.container.attrs),O=Fg.getString(Pe.form.element.container.class),$=Fg.getString(Pe.form.element.container.ele),k=Fg.getString(Pe.form.element.label.style),T=Fg.copy(Pe.form.element.label.attrs),S=Fg.getString(Pe.form.element.label.class),A=Fg.getString(Pe.form.element.label.ele),N=Fg.getString(Pe.form.element.this.style),C=Fg.copy(Pe.form.element.this.attrs),P=Fg.getString(Pe.form.element.this.class),j=e,I=Fg.getString(Pe.form.element.icon.style),D=Fg.copy(Pe.form.element.icon.attrs),B=Fg.getString(Pe.form.element.icon.class),E=Fg.getString(Pe.form.element.icon.ele),z=void 0;void 0!==t&&(w=t[0],O=t[1],F=t[2],$=t.length>3?t[3]:$),void 0!==a&&(k=a[0],S=a[1],T=a[2],A=a[3]>3?a[3]:A),void 0!==r&&(N=r[0],P=r[1],C=r[2],j=r[3]>3?r[3]:j),void 0!==i&&(I=i[0],B=i[1],D=i[2],E=i[3]>3?i[3]:E),!n||!0!==n.transient&&"true"!==n.transient||(C["faug-transient"]="yes");var V=void 0,M=void 0,R=void 0,L=void 0,U=void 0,q=void 0;Ee(o)||(V=o,o&&(void 0!==o.label&&(M=o.label.custom),void 0!==o.container&&(R=o.container.custom),void 0!==o.helpText&&(L=o.helpText.custom),void 0!==o.icon&&(U=o.icon.custom),_=o.customTemplate),"radio"!=z&&"checkbox"!=z||(P=P.replace("form-control",""))),Ee(n)||(V=n.custom,n.hasOwnProperty("custom")&&(void 0!==n.custom.label&&(M=n.custom.label.custom),void 0!==n.custom.container&&(R=n.custom.container.custom),void 0!==n.custom.helpText&&(b=n.custom.helpText,L=n.custom.helpText.custom),void 0!==n.custom.icon&&(U=n.custom.icon.custom),void 0!==n.custom.opts&&(q=n.custom.opts),void 0!==n.custom.customTemplate&&(_=n.custom.customTemplate)),"radio"!=(z=n.ui)&&"checkbox"!=z||(P=P.replace("form-control","")));var H=C.value,J=C.id;C.id=void 0;var W="";-1!=P.indexOf("faug-comp-add-button")?W=" faug-comp-add-button":-1!=P.indexOf("faug-comp-remove-button")?W=" faug-comp-remove-button":-1!=P.indexOf("faug-comp-min-button")?W=" faug-comp-min-button":-1!=P.indexOf("faug-comp-max-button")?W=" faug-comp-max-button":-1!=P.indexOf("faug-input-reset")?W=" faug-input-reset":-1!=P.indexOf("faug-input-submit")&&(W=" faug-input-submit"),-1!=P.indexOf("faug-comp-min-state")?W=" faug-comp-min-state":-1!=P.indexOf("faug-comp-max-state")&&(W=" faug-comp-max-state");var X=it(V,N,P,C,j);if(N=X[0],P=X[1],C=X[2],j=X[3],P+=W,k=(X=it(M,k,S,T,A))[0],S=X[1],T=X[2],A=X[3],I=(X=it(U,I,B,D,E))[0],B=X[1],D=X[2],E=X[3],w=(X=it(R,w,O,F,$))[0],O=X[1],F=X[2],$=X[3],$=ze($,"div"),A=ze(A,"label"),j=ze(j,e),E=ze(E,"i"),n&&"html"==n.type&&n.value){var G=n.value;return!0===n.isTemplate&&(G=Tt(G,Lt())),!0===n.container&&(G=Ut($,null,w,O,F,G,!0)),G}Ee(n)||(n.type?C+=' faug-data-type="'+Xt(Fg.eh(n.type))+'" ':C+=' faug-data-type="other" ');var Q="";if(y){var K=Fg.getString(Pe.form.element.helptext.style),Z=Fg.getString(Pe.form.element.helptext.class),ee=Fg.copy(Pe.form.element.helptext.attrs),te=Fg.getString(Pe.form.element.helptext.ele);!b||void 0!==b.show&&b.show||(K="display:none;"),b&&(Q=b.value),K=(X=it(L,K,Z,ee,te))[0],Z=X[1],ee=X[2],te=X[3],Q=Ut(te=ze(te,"span"),null,K,Z,ee,Q,!0)}var ae="";U&&U.html&&(ae=U.html);var ie=d?Ut(E,null,I,B,D,ae,!0):"";M&&M.html&&(c=M.html),n.required&&n.required+"".toLowerCase()=="true"&&(M&&M.requiredHtml?!0!==n["required-nohtm"]&&(c+=M.requiredHtml):Pe.form.element.label.requiredHtml&&!0!==n["required-nohtm"]&&(c+=Pe.form.element.label.requiredHtml));var re,ne=l?Ut(A,null,k,S,T,c,!0):"";n&&n.posistioning&&(re=n.posistioning,(""!=ne&&-1==re.indexOf("label")||""!=ie&&-1==re.indexOf("icon")||""!=Q&&-1==re.indexOf("helptext")||-1==re.indexOf("this"))&&(re=void 0)),re||(re=["label","icon","this","helptext","html"]);var se=n?n.html:"";se||(se="");var oe="value";(void 0!==n&&n.serializeValuePosition&&0==(oe=n.serializeValuePosition).indexOf("a:")&&(oe=oe.substring(2)),void 0!==n&&n.serializeValueFunction)&&(C+=' faug-serialize-function="'+Xt(n.serializeValueFunction)+'" ');if(C+=' faug-serialize-position="'+Xt(Fg.eh(oe))+'" ',(g=!0===g)&&(F+=' faug-read-only="true"'),void 0!==n&&u){var le="",de=n.hasOwnProperty("default")?n.default:null,ce=n.attrAssign;!De("Array",n.attrAssign)&&ce&&(ce=[n.attrAssign]),ce||(ce=[]);for(var ue=0;ue<ce.length;ue++){var fe=ce[ue];fe&&fe.to&&(fe.fromVar?le=Xt(fe.to)+'"'+Xt(Fg.eh(Lt(fe.fromVar)))+'" ':fe.fromRoute?le=Xt(fe.to)+'"'+Xt(Fg.eh(x[Y][fe.fromRoute]))+'" ':v&&fe.fromData&&(le=Xt(fe.to)+'"'+Xt(Fg.eh(v[fe.fromData]))+'" '))}var me=n.valueAssign;!De("Array",n.valueAssign)&&me&&(me=[n.valueAssign]),me||(me=[]);for(ue=0;ue<me.length;ue++){var ge=me[ue];ge&&(de=v&&ge.fromData?v[ge.fromData]:ge.fromVar?Lt(ge.fromVar):ge.fromRoute?x[Y][ge.fromRoute]:Lt(ge))}var he=n.hasOwnProperty("defaultIndex")?n.defaultIndex:null;if(C+=n.hasOwnProperty("multiple")&&n.multiple?"multiple=true ":"",void 0!==z&&null!=z||(z="select"),z=z.toLowerCase(),null==(null!=f&&he<f.length&&he>=0?he:null)&&null!=de&&null==p&&(p=de),null!=p&&null!=f){he=null;for(ue=0;ue<f.length;ue++)if(f[ue][0]==p+""){he=ue;break}}var pe="";if(null!=p){var ve="str@"+p;De("Array",p)&&p.length>1&&(ve="jsn@"+Xt(JSON.stringify(p))),F+=' acvalue="'+Fg.eh(ve)+'"'}else he&&(F+=' acvalue="ind@'+he+'"');if(g)pe=Ut(j="div",null,N,P,C,pe="",!0);else if("select"==z){if(!0===n.addId&&(C+=' id="'+Xt(J)+'" '),n.hasOwnProperty("multiple")&&n.multiple?(C+="multiple=true ",P+=" faug-input-select-multiple "):P+=" faug-input-select ",j="select",null!=f){Ee(he);for(ue=0;ue<f.length;ue++){var ye=f[ue].length>1?f[ue][1]:f[ue][0],be=null!=he&&he==ue?"selected":"";pe+='<option value="'+Xt(Fg.eh(f[ue][0]))+'" '+le+be+">"+Fg.eh(ye)+"</option>"}}pe=Ut(j,null,N,P,C,pe,!0)}else if("radio"==z){var _e=Fg.getString(Pe.form.radio.label.style),we=Fg.copy(Pe.form.radio.label.attrs),Fe=Fg.getString(Pe.form.radio.label.class),xe=Fg.getString(Pe.form.radio.label.ele),Oe=Fg.getString(Pe.form.radio.container.style),$e=Fg.copy(Pe.form.radio.container.attrs),ke=Fg.getString(Pe.form.radio.container.class),Te=Fg.getString(Pe.form.radio.container.ele);V&&(V.innerlabel&&(je=V.innerlabel.custom),V.innercontainer&&(Ie=V.innercontainer.custom)),Oe=(X=it(Ie,Oe,ke,$e,Te))[0],ke=X[1],$e=X[2],Te=X[3],_e=(X=it(je,_e,Fe,null,xe))[0],Fe=X[1],xe=X[3];var Se="";if(je&&void 0!==je.labelpos&&null!==je.labelpos&&(Se=je.labelpos),""==Se&&(Se="contained"),null!=f){Ee(he),j=Fg.getString(Pe.form.radio.this.ele),C+='type="radio" '+le,P+=" faug-input-radio ";for(ue=0;ue<f.length;ue++){var Ae=C+'type="radio" value="'+Xt(Fg.eh(f[ue][0]))+'" ';J&&(Ae+=' id="'+Xt(J+ue)+'" ',we||(we={}),we.for=J+ue);var Ne=(X=it(je,null,null,we,null))[2];ye=f[ue].length>1?Fg.eh(f[ue][1]):Fg.eh(f[ue][0]);Ae+=null!=he&&he==ue?"checked":"";var Ce="";"before"==Se?(Ce=Ut(xe,null,_e,Fe,Ne,ye,!0),Ce+=Ut(j,null,N,P,Ae,null,!0)):"contained"==Se?(Ce=Ut(j,null,N,P,Ae,null,!0),Ce=Ut(xe,null,_e,Fe,Ne,ye+Ce,!0)):"after"==Se&&(Ce=Ut(j,null,N,P,Ae,null,!0),Ce+=Ut(xe,null,_e,Fe,Ne,ye,!0)),pe+=Ut(Te,null,Oe,ke,$e,Ce,!0)}}}else if("checkbox"==z){var je,Ie;_e=Fg.getString(Pe.form.checkbox.label.style),we=Fg.copy(Pe.form.checkbox.label.attrs),Fe=Fg.getString(Pe.form.checkbox.label.class),xe=Fg.getString(Pe.form.checkbox.label.ele),Oe=Fg.getString(Pe.form.checkbox.container.style),$e=Fg.copy(Pe.form.checkbox.container.attrs),ke=Fg.getString(Pe.form.checkbox.container.class),Te=Fg.getString(Pe.form.checkbox.container.ele);V&&(V.innerlabel&&(je=V.innerlabel.custom),V.innercontainer&&(Ie=V.innercontainer.custom)),Oe=(X=it(Ie,Oe,ke,null,Te))[0],ke=X[1],$e=X[2],Te=X[3],_e=(X=it(je,_e,Fe,null,xe))[0],Fe=X[1],xe=X[3];Se="";if(je&&void 0!==je.labelpos&&null!==je.labelpos&&(Se=je.labelpos),""==Se&&(Se="contained"),(!f||De(f,"Array")&&0==f.length)&&(f=[[""]],Se="after"),null!=f){Ee(he),j=Fg.getString(Pe.form.checkbox.this.ele),C+='type="checkbox" ',P+=" faug-input-checkbox ";for(ue=0;ue<f.length;ue++){Ae=C+'type="checkbox" value="'+Xt(f[ue][0])+'" ';J&&(Ae+=' id="'+Xt(J+ue)+'" ',we||(we={}),we.for=J+ue);Ne=(X=it(je,null,null,we,null))[2],ye=f[ue].length>1?Fg.eh(f[ue][1]):Fg.eh(f[ue][0]);Ae+=null!=he&&he==ue?'checked="checked"':"";Ce="";"before"==Se?(Ce=Ut(xe,null,_e,Fe,Ne,ye,!0),Ce+=Ut(j,null,N,P,Ae,null,!0)):"contained"==Se?(Ce=Ut(j,null,N,P,Ae,null,!0),Ce=Ut(xe,null,_e,Fe,Ne,ye+Ce,!0)):"after"==Se&&(Ce=Ut(j,null,N,P,Ae,null,!0),Ce+=Ut(xe,null,_e,Fe,Ne,ye,!0)),pe+=Ut(Te,null,Oe,ke,$e,Ce,!0)}}}if(_&&!1!==n.show){var Be={label:ne,icon:ie,helptext:Q,html:se,element:pe,cc:O,cs:w,ca:F};if(q)for(var Ve in q)q.hasOwnProperty(Ve)&&!/label|icon|helptext|customhtml|element|cc|cs|ca/.test(Ve)&&(Be[Ve]=q[Ve]);return Tt(_,Be,!1)}var Me=pe;pe="";for(var Re=0;Re<re.length;Re++)"label"==re[Re]?pe+=ne:"icon"==re[Re]?pe+=ie:"helptext"==re[Re]?pe+=Q:"this"==re[Re]?pe+=Me:"html"==re[Re]&&(pe+=se);return h?pe:Ut($,null,w,O,F,pe,!0)}if(n&&!0===n.addId&&(C+=' id="'+Xt(J)+'" '),g&&(p=H,j="div"),("input"==j||"hidden"==j||Ee(p))&&(p=""),m)return Ut(j,null,N,P,C,p,!0);"input"!=j&&"hidden"!=j&&"textarea"!=j||z&&(P+=" faug-input-"+z+" ");var Le=n.elementHtml?n.elementHtml:Ut(j,null,N,P,C,Fg.eh(p),!0);if(!_||n&&!1===n.show){pe="";for(Re=0;Re<re.length;Re++)"label"==re[Re]?pe+=ne:"icon"==re[Re]?pe+=ie:"helptext"==re[Re]?pe+=Q:"this"==re[Re]?pe+=Le:"html"==re[Re]&&(pe+=se);return h?pe:Ut($,null,w,O,F,pe,!0)}return Tt(_,Be={label:ne,icon:ie,helptext:Q,html:se,element:Le,cc:O,cs:w,ca:F},!1)}var nt="abcdefghijklmnopqrstuvwxyz ~`!@#$%^&*()_+-=[]\\;'/.,<>?:\"{}|";function st(e,a,i,r,n,s,o,c,u,f,h,v,b,O,T){T=!0===T,isTreeView=!0===a.tree;let S=!isNaN(a.columns)&&1*a.columns>0&&1*a.columns<=6?1*a.columns:void 0;var A,N,D;if(S=S?" col-md-"+S:"",b=!0===b,o&&De("Array",o)?(A=o[0],o.length>1&&(N=o[1])):A=o,Fg.isN(i)||Fg.isN(i.type))return"";if("copyof"==i.type&&!Ee(i.target)){if(e.properties&&e.properties[i.target]){var B=JSON.parse(JSON.stringify(e.properties[i.target]));return Ee(i.show)||(B.show=i.show),Ee(i.display)||(B.display=i.display),Ee(i.events)||(B.events=i.events),Ee(i.section)||(B.section=i.section),Ee(i.groupMarker)||(B.groupMarker=i.groupMarker),st(e,a,B,r,n,s,o,c,u,f,h,void 0,b)}return""}if("html"==i.type&&i.value){if(i.showForAliases&&i.showForAliases.length>0&&-1==i.showForAliases.indexOf(a.name)||i.hideForAliases&&i.hideForAliases.length>0&&-1!=i.hideForAliases.indexOf(a.name))return"";if(i.condition&&!Ue(i.condition,void 0,[a,i,A]))return"";var E=Fg.getString(Pe.form.element.container.style),z=Fg.copy(Pe.form.element.container.attrs),V=Fg.getString(Pe.form.element.container.class);if(i.custom&&i.custom.container&&"clear"!==i.custom.container.classpos&&(V=Fg.getString(Pe.form.element.container.class)),null!=s&&void 0!==s)if(De("Array",s))for(var M=0;M<s.length;M++)for(var R in s[M])s[M].hasOwnProperty(R)&&(z[R]=s[M][R]);else if(De("Object",s))for(var R in s)z[R]=s[R];var L=!0;return i.hasOwnProperty("show")&&(L=i.show),L||(E+="display:none;"),/true|yes|1/.test(i.required)&&(V+=" required has-error"),z.id=n+"_cont",rt(Pe.form.element.container.ele+"",[E,V,z],void 0,void 0,void 0,i,void 0,h,!1,!1,"",!0,[],void 0,b)}if("string"==(D=i.type)||"number"==D||"integer"==D||"file"==D||"fileasbase64"==D||"boolean"==D||"date"==D||"float"==D||"double"==D||"decimal"==D||"datetime"==D||"time"==D||"timestamp"==D||"customdate"==D||"email"==D||"url"==D||"password"==D){if(i.showForAliases&&i.showForAliases.length>0&&-1==i.showForAliases.indexOf(a.name)||i.hideForAliases&&i.hideForAliases.length>0&&-1!=i.hideForAliases.indexOf(a.name))return"";if(i.condition&&!Ue(i.condition,void 0,[a,i,A]))return"";var U=!1,q=(E=Fg.getString(Pe.form.element.container.style),z=Fg.copy(Pe.form.element.container.attrs),V=Fg.getString(Pe.form.element.container.class),Fg.getString(Pe.form.element.container.ele)),H=Fg.getString(Pe.form.element.label.style),J=Fg.copy(Pe.form.element.label.attrs),W=Fg.getString(Pe.form.element.label.class),X=(Fg.getString(Pe.form.element.label.ele),Fg.getString(Pe.form.element.this.style)),G=Fg.copy(Pe.form.element.this.attrs),Q=Fg.getString(Pe.form.element.this.class),K=(Fg.getString(Pe.form.element.this.ele),Fg.getString(Pe.form.element.icon.style)),Z=Fg.copy(Pe.form.element.icon.attrs),ee=Fg.getString(Pe.form.element.icon.class);Fg.getString(Pe.form.element.icon.ele);(i.custom&&i.custom.container&&"clear"!==i.custom.container.classpos||!i.custom||!i.custom.container)&&(V=Fg.getString(Pe.form.element.container.class));var ae=null==A?"":A,ie=A;if("string"==typeof ae&&""!=ae&&(ae=ae.replace(/"/g,"&quot;")),null!=s&&void 0!==s)if(De("Array",s))for(M=0;M<s.length;M++)for(var R in s[M])s[M].hasOwnProperty(R)&&(z[R]=s[M][R]);else if(De("Object",s))for(var R in s)z[R]=s[R];var re={};re.name=n,re.id=n,i.hasOwnProperty("isattr")&&(re.isattr=i.isattr),m[a.name]&&i.hasOwnProperty("edit")&&!i.edit&&(re.disabled=!0),i.hasOwnProperty("showlabel")&&(u&=1==i.showlabel||1==i.showlabel),i.hasOwnProperty("showicon")&&(U=1==i.showicon||1==i.showicon),(i.custom&&"clear"!==i.custom.classpos||!i.custom)&&(Q=Fg.getString(Pe.form.element.this.class));var ne=null;null!=f&&(ne=f.substring(0,1).toUpperCase()+f.substring(1)),i.hasOwnProperty("display")&&(ne=te&&!1!==i.translate?Fg.translate(i.display):i.display);L=!0;i.hasOwnProperty("show")&&(L=i.show);var se=!1;L&&!1!==i.decoratePicker&&("date"==i.type?(se=!0,Q+=" faug-date ",re["faug-date-format"]=C):"datetime"==i.type?(se=!0,Q+=" faug-datetime ",re["faug-date-format"]=P):"time"==i.type?(se=!0,Q+=" faug-time ",re["faug-date-format"]=j):"timestamp"==i.type?(se=!0,Q+=" faug-timestamp ",re["faug-date-format"]=I):"customdate"==i.type&&(se=!0,Q+=" faug-customdate "),i.dateFormat&&(re["faug-date-format"]=i.dateFormat),""===i.default?(ae=null,re["faug-date-default"]=""):re["faug-date-default"]="val"),L||(E+="display:none;");var oe={};i.hasOwnProperty("events")&&(oe=Fg.copy(i.events)),i.validations&&i.validations.cond||(i.validations=void 0),/true|yes|1/.test(i.required+"")&&!0!==i["added--required"]&&(i.validations||(i.validations={},i.validations.cond=[]),i.validations.cond.push(["len|>|0:this@value",ne+Pe.form.element.helptext.errorText]),i.validations.errorselector="helpText",i["added--required"]=!0);i.hasOwnProperty("multiple")&&i.multiple;var le=function(e,t,a,i){return function(i,r){var n=!0;if((e.validationForAliases&&e.validationForAliases.length>0&&-1==e.validationForAliases.indexOf(t.name)||e.noValidationForAliases&&e.noValidationForAliases.length>0&&-1!=e.noValidationForAliases.indexOf(t.name))&&(n=!1),e.enum||function(e,t){void 0===t&&(t=e.getAttribute("faug-data-type")),"boolean"==(t=t.toLowerCase())?Fg.isBoolean(e.value)||k&&alert("A Boolean value was expected.."):"number"==t||"integer"==t?Fg.isNumber(e.value)||(k&&alert("A Numeric value was expected.."),e.value=""):"aplha-strict"==t?Fg.isStrictAlpha(e.value)||(k&&alert("A Strict alphabetical value was expected.."),e.value=""):"alpha"==t?Fg.isAlpha(e.value)||(k&&alert("A Alphabetical value was expected.."),e.value=""):"alpha-numeric"==t?Fg.isAlphaNumeric(e.value)||(k&&alert("An Alphanumeric value was expected.."),e.value=""):"float"==t||"double"==t?Fg.isFloat(e.value)||(k&&alert("A Floating point value was expected.."),e.value=""):"char"==t&&1!=e.value.length&&k&&alert("A Character value was expected..")}(i[0],e.type),n&&e.validations){if(!/true|yes|1/.test(e.required)&&Fg.isN(i.val()))return;var s=qe(e.validations,i);if(s[0]){if("helpText"==e.validations.errorselector)0==(c=(o=i.parent()).find(".help-block")).length?(c=(o=Be(a+"_cont")).find(".help-block")).length>0&&c.hide():c.hide(),o.addClass("has-success"),o.removeClass("has-error")}else{for(var o,c,u=s[1],f="",m=0;m<u.length;m++)if(u[m]){f+=Fg.eh(u[m])+"<br/>";break}if("helpText"==e.validations.errorselector)0==(c=(o=i.parent()).find(".help-block")).length?(c=(o=Be(a+"_cont")).find(".help-block")).length>0&&(c.html(f),c.show()):(c.html(f),c.show()),o.addClass("has-error"),o.removeClass("has-success");"text"!=i.attr("type")&&"number"!=i.attr("type")&&"url"!=i.attr("type")&&"email"!=i.attr("type")||i.val("")}}if(Ye(t.callbacks,"modelChanged",[i]),"function"==typeof FgBind){let e=i.attr("name").replace(/\['/g,"").replace(/\']/g,".").replace(/\]/g,"].").replace(/\[/g,"").replace(/\]/g,"");"."==e[e.length-1]&&(e=e.substring(0,e.length-1));const t=i.closest("form").data("fg-bind");i.data("fg-no-chng",!0);try{Fg.setref(t,e,i.val())}catch(r){}i.data("fg-no-chng",!1)}if(!Ee(e.copyto)){var g=e.copyto.split(",");for(var h in g){var p="";-1!=a.lastIndexOf("['")?(p=a.substring(0,a.lastIndexOf("['")),p+="['"+g[h]+"']"):p=g[h],i.val()&&$('[name="'+p+'"]').val(i.val())}}if(void 0!==t.__ishelper&&void 0===t.form.submit){void 0!==t.resetStartOnModelChange&&t.resetStartOnModelChange&&void 0!==t.crudop&&(t.crudop.start=0);var v=Be(t.id).serializeObject(t.name,!0);(n=Ue(e.cond,i))&&Ot({schemaName:t.schemaName,op:t.crudopName},t.defviewerId,!0,!0,v)}if($(i).attr("ftype")&&"file"==$(i).attr("type")&&(i[0].files[0].size/1024/1024).toFixed(4)>l)return Fg.execFunc(d,[i]),!1;if($(i).attr("ftype")&&"base64"==$(i).attr("ftype")&&"file"==$(i).attr("type")){var y=new FileReader;y.onloadend=function(e){return function(){var t=this.result;if(-1!=t.indexOf("data:image")&&$(e).attr("compress")&&1*$(e).attr("compress")<100&&1*$(e).attr("compress")>0)try{var a=1*$(e).attr("compress"),i=t.substring(t.indexOf(":")+1,t.indexOf(";")),r=new Image;r.src=t;var n=document.createElement("canvas");n.width=r.naturalWidth,n.height=r.naturalHeight;n.getContext("2d").drawImage(r,0,0);t=n.toDataURL(i,a/100)}catch(e){}e.data=t.substring(t.indexOf(",")+1)}}(i[0]),y.readAsDataURL(i[0].files[0])}}}(i,a,n),de="change",ce=!1;if(!i.noevents){void 0===oe[de]?(oe[de]=[],oe[de][0]=le):oe[de].push(le);var ue=function(e,t){if(("INPUT"==e.prop("tagName")||"TEXTAREA"==e.prop("tagName"))&&Se&&Ae)if(e.attr("data-rgo","1"),e.attr("data-regex")&&Ae){if(""!=e.val()&&"file"!=e.prop("type")&&!new RegExp(e.attr("data-regex")).test(e.val()))return Fg.execFunc(Ae,[e]),t.stopPropagation(),!1}else if("file"!=e.prop("type")&&""!=e.val()&&!Se.test(e.val()))return Fg.execFunc(Ae,[e]),t.stopPropagation(),!1};if(void 0===oe.input?(oe.input=[],oe.input[0]=ue):oe.input.push(ue),se&&i.dateConfig){var fe=function(e,a,i,r){return function(a,i){var r=C;a.attr("faug-date-format")&&(r=a.attr("faug-date-format"));var n,s=!a.hasClass("faug-date");a.val()?n=a.val():""===e.dateConfig.value||""===a.attr("faug-date-default")?n=void 0:"val"===a.attr("faug-date-default")&&(n=t.formatDate(null,r)),t.configureDateTimePicker(a,e.dateConfig,We,i,r,n,s)}}(i);void 0===oe[de="default"]?(oe[de]=[],oe[de][0]=fe):oe[de].push(fe)}if((i.templateFile||i.genericTemplateFile)&&i.enum&&i.enum.length>0){ce=!0;var me=function(e,t,a,i,r,n){return function(i,s){var o=e.hasOwnProperty("default")?e.default:null;Ee(r)&&(r=o);var l=e.valueAssign;!De("Array",e.valueAssign)&&l&&(l=[e.valueAssign]),l||(l=[]);for(var d=0;d<l.length;d++){var c=l[d];c&&(r=n&&c.fromData?n[c.fromData]:c.fromVar?Lt(c.fromVar):c.fromRoute?x[Y][c.fromRoute]:Lt(c))}var u={};for(var f in e.vars)if(e.vars.hasOwnProperty(f)){var g=Me(e.vars[f],i);g[0]&&(u[f]=g[1])}var h=e.templateFile?"templateFile":"genericTemplateFile",p=void 0!==a.__ishelper?a.id:void 0;p||(m[a.name]&&(p=a.editForm.id),p||(p=a.form.id));var v={isTransient:!0===e.transient||"true"===e.transient,elName:t,rows:e.enum,selectedVal:r,details:a,vars:u},y=Nt(e[h],v);Faug.byId(t+"_cont").append(y),Et(void 0,a,p,t,!0)}}(i,n,a,void 0!==a.__ishelper?a.id:a.form.id,ie,N);void 0===oe[de="defaultOnce"]?(oe[de]=[],oe[de][0]=me):oe[de].push(me)}}if(g[a.name][n]=oe,G=Ft(G,re),/true|yes|1/.test(i.required)&&(Q+=" required",V+=" required",G.required=!0),V+=S,Q+=" faug-"+i.type+"-type",G["faug-data-type"]=i.type,z.id=n+"_cont","boolean"==i.type)return rt("select",[E,V,z],[H,W,J],[K,ee,Z],[X,Q,G],i,[ie,N],h,u,U,ne,!0,[["false"],["true"]],void 0,b,O);if(i.hasOwnProperty("enum")){var ge=null;if(De("Array",i.enum)&&i.enum.length>0)ge=i.enum;else if(De("String",i.enum)){ge=null;var he=window[i.enum];ge="function"==typeof he?he():he}return ce&&(ge=[]),rt("select",[E,V,z],[H,W,J],[K,ee,Z],[X,Q,G],i,[ie,N],h,u,U,ne,!0,ge,void 0,b,O)}if(i.hasOwnProperty("ui")&&"textarea"==i.ui){var pe=i.hasOwnProperty("default")?i.default:null;Ee(ae)&&(ae=pe);var ve=i.attrAssign;!De("Array",i.attrAssign)&&ve&&(ve=[i.attrAssign]),ve||(ve=[]);for(var ye=0;ye<ve.length;ye++){(we=ve[ye])&&we.to&&(we.fromVar?G[we.to]=Lt(we.fromVar):we.fromRoute?G[we.to]=x[Y][we.fromRoute]:N&&we.fromData&&(G[we.to]=N[we.fromData]))}G.spellcheck="true";var be=i.valueAssign;!De("Array",i.valueAssign)&&be&&(be=[i.valueAssign]),be||(be=[]);for(ye=0;ye<be.length;ye++){(Fe=be[ye])&&(ae=N&&Fe.fromData?N[Fe.fromData]:Fe.fromVar?Lt(Fe.fromVar):Fe.fromRoute?x[Y][Fe.fromRoute]:Lt(Fe))}return rt("textarea",[E,V,z],[H,W,J],[K,ee,Z],[X,Q,G],i,[ae,N],h,u,U,ne,void 0,void 0,void 0,b,O)}var _e=i.ui;void 0!==_e&&null!=_e||(_e="text"),"file"==i.type?(y[a.name]=!0,_e="file"):"fileasbase64"==i.type?(_e="file",G.ftype="base64"):"url"==i.type?(_e="url",G.ftype="url"):"email"==i.type?(_e="email",G.ftype="email"):"password"==i.type?(_e="password",G.ftype="password"):i.type,G.type=_e;pe=!se&&i.hasOwnProperty("default")?i.default:null;Ee(ae)&&(ae=pe);ve=i.attrAssign;!De("Array",i.attrAssign)&&ve&&(ve=[i.attrAssign]),ve||(ve=[]);for(ye=0;ye<ve.length;ye++){var we;(we=ve[ye])&&we.to&&(we.fromVar?G[we.to]=Lt(we.fromVar):we.fromRoute?G[we.to]=x[Y][we.fromRoute]:N&&we.fromData&&(G[we.to]=N[we.fromData]))}be=i.valueAssign;!De("Array",i.valueAssign)&&be&&(be=[i.valueAssign]),be||(be=[]);for(ye=0;ye<be.length;ye++){var Fe;(Fe=be[ye])&&(ae=N&&Fe.fromData?N[Fe.fromData]:Fe.fromVar?Lt(Fe.fromVar):Fe.fromRoute?x[Y][Fe.fromRoute]:Lt(Fe))}return G.value=ae,i.ui=i.ui?i.ui:_e,rt("input",[E,V,z],[H,W,J],[K,ee,Z],[X,Q,G],i,null,h,u,U,ne,void 0,void 0,void 0,b,O)}if("object"==i.type){if(i.showForAliases&&i.showForAliases.length>0&&-1==i.showForAliases.indexOf(a.name)||i.hideForAliases&&i.hideForAliases.length>0&&-1!=i.hideForAliases.indexOf(a.name))return"";if(i.condition&&!Ue(i.condition,void 0,[a,i,A]))return"";if(i.hasOwnProperty("properties")){var xe;""==n&&(n=a.name),xe=n+"_cont";var Oe=null==A?{}:A,$e="";i.hasOwnProperty("section")&&($e=Ut(Fg.getString(Pe.form.object.section.ele),i.custom.headerlb,"",null,null,i.section,!0,!1,!1,null,null));L=!0;i.hasOwnProperty("show")&&(L=i.show);E=Fg.getString(Pe.form.object.container.style),z={id:xe},V=Fg.getString(Pe.form.object.container.class),q=Fg.getString(Pe.form.object.container.ele);if(L||(E+="display:none;"),E=(xt=it(i.custom,E,V,z,q))[0],V=xt[1],z=xt[2],q=xt[3],q=ze(q,"div"),null!=s&&void 0!==s)if(De("Array",s))for(M=0;M<s.length;M++)for(var R in s[M])s[M].hasOwnProperty(R)&&(z+=" "+Fg.eh(R)+'="'+Fg.eh(s[M][R])+'" ');else if(De("Object",s))for(var R in s)z+=" "+Fg.eh(R)+'="'+Fg.eh(s[R])+'" ';null!=A&&void 0!==i.editMinimize&&i.editMinimize&&(E+=";display:none;");var ke=n;0==ke.indexOf(a.name)&&(ke=ke.replace(a.name,""));var Te="",Ne=!Ee(i.template)||!Ee(i.templateFile),Ce={};Ne||(Te=$e);var je=!1;if(i.propertyOrder)for(var Ie=0;Ie<i.propertyOrder.length;Ie++)if(i.propertyOrder[Ie]in i.properties){je=!0;break}const e=!0===i.inline;let o=!1;for(var Ve in i.properties)if(i.properties.hasOwnProperty(Ve)){(It=n)&&""!=It?It+="['"+Ve+"']":It=Ve,null!=A&&void 0!==i.editMinimize&&i.editMinimize,c=c&&i.hasOwnProperty("isSpan")&&i.isSpan,i.hasOwnProperty("nolabel")&&i.nolabel&&(u=!1);var Re=i.properties[Ve],Le=ke.replace(/\['/g,".").replace(/'|\[|\]|[\[0-9\]]+/g,"")+"."+Ve;0==Le.indexOf(".")&&(Le=Le.substring(1)),e&&o&&(Re.display=void 0);var He=st(i,a,Re,r+1,It,[{"ffead-pth":Le}],[Oe[Ve],Oe],c,u,Ve,h,void 0,b,!0===i.inline);o=!0,Re&&!0===Re.groupMarker&&(He+=Fg.getString(Pe.form.groupMarker.html)),Ne||je?Ce[Ve]=He:Te+=He}if(Ne)Te=Ee(i.template)?p[i.templateFile]?p[i.templateFile].apply(null,[Ce]):t.templateEngine(i.templateFile,Ce,!1,!0):Tt(i.template,Ce,!1);else if(je){for(Ie=0;Ie<i.propertyOrder.length;Ie++)i.propertyOrder[Ie]in Ce&&(Te+=Ce[i.propertyOrder[Ie]],delete Ce[i.propertyOrder[Ie]]);for(var Ve in Ce)Ce.hasOwnProperty(Ve)&&(Te+=Ce[Ve])}if(isTreeView&&!T){let e="",t="";i.display&&(e=i.display),i["display-desc"]&&(t=i["display-desc"]);let a="open",r="⬆",n=" faug-object-tree-cont";!1===i.open&&(a="close",r="⬇",n+=" hidden"),Te='<p class="col-md-12" style="margin-top:10px;"><a state="'+a+'" class="faug-object-ctrl">'+r+'</a><span class="faug-object-title" title='+t+">"+e+"</span></p>"+(Te='<div class="faug-cont col-md-12'+n+'">'+Te+"</div>")}else V+=" faug-cont";return S&&(V+=" col-md-12"),Ut(q,null,E,V,z,Te,!0)}}else if("array"==i.type){if(i.showForAliases&&i.showForAliases.length>0&&-1==i.showForAliases.indexOf(a.name)||i.hideForAliases&&i.hideForAliases.length>0&&-1!=i.hideForAliases.indexOf(a.name))return"";if(i.condition&&!Ue(i.condition,void 0,[a,i,A]))return"";if(i.hasOwnProperty("items")){void 0===i.custom&&(i.custom={}),void 0===i.items.custom&&(i.items.custom={}),(It=n)&&""!=It||(It=""),_.hasOwnProperty(It)||(_[It]=0),w[It]=i.items;Oe=null==A?[]:A;if(i.initialentries&&(null==Oe||0==Oe.length)){Oe=[];for(ye=0;ye<i.initialentries;ye++)Oe.push(null)}Oe.length>_[It]&&(rvalue=Oe[_[It]]);$e="",ne=f.substring(0,1).toUpperCase()+f.substring(1);i.hasOwnProperty("display")&&(ne=i.display);L=!0;i.hasOwnProperty("show")&&(L=i.show);E=Fg.getString(Pe.form.array.container.style),V=Fg.getString(Pe.form.array.container.class),z={id:It+"_cont"},q=Fg.getString(Pe.form.array.container.ele);if(E=(xt=it(i.custom,E,V,z,q))[0],V=xt[1],z=xt[2],q=xt[3],L||(E+="display:none;"),q=ze(q,"div"),null!=s&&void 0!==s)if(De("Array",s))for(M=0;M<s.length;M++)for(var R in s[M])s[M].hasOwnProperty(R)&&(z+=" "+Fg.eh(R)+'="'+Fg.eh(s[M][R])+'" ');else if(De("Object",s))for(var R in s)z+=" "+Fg.eh(R)+'="'+Fg.eh(s[R])+'" ';!1===i.nolabel&&($e=i.hasOwnProperty("section")?Ut(Fg.getString(Pe.form.array.section.ele),i.custom.headerlb,Fg.getString(Pe.form.array.section.style),null,null,i.section,!0,!1,!1,null,null):Ut(Fg.getString(Pe.form.array.section.eleIfAbsent),i.custom.headerlb,Fg.getString(Pe.form.array.section.style),null,null,ne,!0,!1,!1,null,null));var Je="";if(!1===i.noaddbutton&&!b){void 0===i.custom.addButton&&(i.custom.addButton={}),void 0===i.custom.addButton.custom&&(i.custom.addButton.custom={}),i.custom.addButton.custom.attrpos="append";var Xe="Add";i.custom.addButton.text&&(Xe=i.custom.addButton.text),i.custom.addButton.html&&(Xe=i.custom.addButton.html),Je=rt(Pe.form.array.addButton.ele+"",void 0,void 0,void 0,[Fg.getString(Pe.form.array.addButton.style),Fg.getString(Pe.form.array.addButton.class)+" faug-comp-add-button",{type:"button",list_value_cls:It}],i.custom.addButton,Xe,h,!1,!1,null,!1,null,!0)}var Ge="";if(!1===i.norembutton&&!b){void 0===i.custom.remButton&&(i.custom.remButton={}),void 0===i.custom.remButton.custom&&(i.custom.remButton.custom={}),i.custom.remButton.custom.attrpos="append";Xe="Remove";i.custom.remButton.text&&(Xe=i.custom.remButton.text),i.custom.remButton.html&&(Xe=i.custom.remButton.html),Ge=rt(Pe.form.array.remButton.ele+"",void 0,void 0,void 0,[Fg.getString(Pe.form.array.remButton.style),Fg.getString(Pe.form.array.remButton.class)+" faug-comp-remove-button",{type:"button",list_value_cls:It}],i.custom.remButton,Xe,h,!1,!1,null,!1,null,!0)}Te=Ut(Fg.getString(Pe.form.array.header.ele),i.custom.header,Fg.getString(Pe.form.array.header.style),null,null,$e+Ge+Je,!0,!1,!1,null,null),u=null==i.items.nolabel||!i.items.nolabel;if(Oe.length>0){!0;var Ke=Fg.getString(Pe.form.array.this.container.ele),Ze=Fg.getString(Pe.form.array.this.container.style),et=Fg.getString(Pe.form.array.this.container.class),tt=Fg.copy(Pe.form.array.this.container.attrs);Ze=(xt=it(i.items.custom.container,Ze,et,tt,Ke))[0],et=xt[1],tt=xt[2],Ke=xt[3],Ke=ze(Ke,"div");var at=Fg.getString(Pe.form.array.this.header.ele);void 0!==i.items.custom&&(at=i.items.custom.el),null!=at&&""!==at||(at="div");var nt=Oe.length;z+=" faug-tot-size="+nt,nt>20&&(nt=void 0!==i.maxobjects?(nt=i.maxobjects)>Oe.length?Oe.length:nt:20),z+=" faug-curr-size="+nt,z+=" faug-offset="+nt;for(var ot=0;ot<nt;ot++){var lt=It+"["+ot+"]";_[It]=ot;var dt="",ct="",ut="";if(!0===i.items.itemrembutton){void 0===i.items.custom.remButton&&(i.items.custom.remButton={}),void 0===i.items.custom.remButton.custom&&(i.items.custom.remButton.custom={}),i.items.custom.remButton.custom.attrpos="append";Xe="Remove";i.items.custom.remButton.text&&(Xe=i.items.custom.remButton.text),i.items.custom.remButton.html&&(Xe=i.items.custom.remButton.html),ut=rt(Pe.form.array.this.header.remButton.ele+"",void 0,void 0,void 0,[Fg.getString(Pe.form.array.this.header.remButton.style),Fg.getString(Pe.form.array.this.header.remButton.class)+" faug-comp-remove-button",{type:"button",list_value_cls:It,"ffead-el-link":lt+"_cont"}],i.items.custom.remButton,Xe,h,!1,!1,null,!1,null,!0)}if(!1===i.items.nominmaxbutton){if(Oe[ot])if(i.items.summaryTemplate){var ft=!(!Ee(i.summaryTemplateDynamic)&&!0!==i.summaryTemplateDynamic);ct+=Tt(i.items.summaryTemplate,Oe[ot],ft)}else if(i.items.summaryTemplateFunc){(At=Qe(i.items.summaryTemplateFunc,[Oe[ot]])).valid&&(ct+=At.result)}if(!b){var mt="display:none;";null!=A&&void 0!==i.items.editMinimize&&i.items.editMinimize&&(mt=""),ct=Ut(Fg.getString(Pe.form.array.this.header.minlabel.ele),i.items.custom.minlabel,mt,null,null,ct,!0,!1,!1,null,null),void 0===i.custom.minmaxbutton&&(i.custom.minmaxbutton={}),void 0===i.custom.minmaxbutton.custom&&(i.custom.minmaxbutton.custom={}),i.custom.minmaxbutton.custom.attrpos="append";var gt=Xt(lt,"'"),ht=Xt(It,"'");(Ct={})["faug-comp-min-state"]=i.custom.minmaxbutton.custom["faug-comp-min-state"],Ct["faug-comp-max-state"]=i.custom.minmaxbutton.custom["faug-comp-max-state"],Ct["faug-comp-min-state"]||(Ct["faug-comp-min-state"]="-"),Ct["faug-comp-max-state"]||(Ct["faug-comp-max-state"]="+"),Ct.cntid=gt,Ct.schnm=ht,Ct.type="button";var pt=Ct["faug-comp-min-state"],vt="faug-comp-min-button faug-comp-min-state";null!=A&&void 0!==i.items.editMinimize&&i.items.editMinimize&&(pt=Ct["faug-comp-max-state"],vt="faug-comp-max-button faug-comp-max-state"),ct+=Ut(Fg.getString(Pe.form.array.this.header.minmaxButton.ele),i.items.custom.minmaxbutton,Fg.getString(Pe.form.array.this.header.minmaxButton.style),vt,Ct,pt,!0)}}dt+=Ut(at,i.items.custom,null,"clearfix",null,ut+ct,!0,!1,!1,null,null);var yt=st(i.items,a,i.items,r+1,lt,{},[Oe[ot],Oe],!1,u,Pt,h,void 0,b);!0===i.items.groupMarker&&(yt+=Fg.getString(Pe.form.groupMarker.html));var bt=tt+' data-pos="'+ot+'"';Te+=Ut(Ke,i.custom.container,Ze,et,bt,dt+yt,!0)}if(Oe.length>nt){var _t=(new Date).getTime();F[It]=Oe;var wt=It;wt=(wt=(wt=wt.replace(/\[/g,"")).replace(/\]/g,".")).replace(/'/g,""),g[a.name]["faug-load-more"]={__internal__:void 0},Te+=Ut("a",i.custom.loadmore,null,"faug-load-more",{posref:wt,schname:a.name,ident:_t,total:Oe.length,size:nt,current:nt,list_value_cls:It},"Load More...",!0)}}else z+=" faug-tot-size=0 faug-curr-size=0 faug-offset=0";if(isTreeView){let e="",t="";i.display&&(e=i.display),i["display-desc"]&&(t=i["display-desc"]);let a="open",r="⬆",n=" faug-object-tree-cont";!1===i.open&&(a="close",r="⬇",n+=" hidden"),Te='<p class="col-md-12" style="margin-top:10px;"><a state="'+a+'" class="faug-object-ctrl">'+r+'</a><span class="faug-object-title" title='+t+">"+e+"</span></p>"+(Te='<div class="faug-cont col-md-12'+n+'">'+Te+"</div>")}else V+=" faug-cont";return S&&(V+=" col-md-12"),Ut(q,null,E,V,z,Te,!0)}}else if("marray"==i.type){if(i.showForAliases&&i.showForAliases.length>0&&-1==i.showForAliases.indexOf(a.name)||i.hideForAliases&&i.hideForAliases.length>0&&-1!=i.hideForAliases.indexOf(a.name))return"";if(i.condition&&!Ue(i.condition,void 0,[a,i,A]))return"";if(i.hasOwnProperty("items")){(It=n)&&""!=It||(It=""),_.hasOwnProperty(It)||(_[It]=0),w[It]=i.items;Oe=null==A?{}:A,$e="",ne=f.substring(0,1).toUpperCase()+f.substring(1);i.hasOwnProperty("display")&&(ne=i.display);L=!0;i.hasOwnProperty("show")&&(L=i.show);E=Fg.getString(Pe.form.array.container.style),V=Fg.getString(Pe.form.array.container.class),z={id:It+"_cont"},q=Fg.getString(Pe.form.array.container.ele);if(E=(xt=it(i.custom,E,V,z,q))[0],V=xt[1],z=xt[2],q=xt[3],L||(E+="display:none;"),q=ze(q,"div"),null!=s&&void 0!==s)if(De("Array",s))for(M=0;M<s.length;M++)for(var R in s[M])s[M].hasOwnProperty(R)&&(z+=" "+Fg.eh(R)+'="'+Fg.eh(s[M][R])+'" ');else if(De("Object",s))for(var R in s)z+=" "+Fg.eh(R)+'="'+Fg.eh(s[R])+'" ';!1===i.nolabel&&($e=i.hasOwnProperty("section")?Ut(Fg.getString(Pe.form.array.section.ele),i.custom.headerlb,Fg.getString(Pe.form.array.section.style),null,null,i.section,!0,!1,!1,null,null):Ut(Fg.getString(Pe.form.array.section.eleIfAbsent),i.custom.headerlb,Fg.getString(Pe.form.array.section.style),null,null,ne,!0,!1,!1,null,null));Je="";if(!1===i.noaddbutton&&!b){void 0===i.custom.addButton&&(i.custom.addButton={}),void 0===i.custom.addButton.custom&&(i.custom.addButton.custom={}),i.custom.addButton.custom.attrpos="append";Xe="Add";i.custom.addButton.text&&(Xe=i.custom.addButton.text),i.custom.addButton.html&&(Xe=i.custom.addButton.html),Je=rt(Pe.form.array.addButton.ele+"",void 0,void 0,void 0,[Fg.getString(Pe.form.array.addButton.style),Fg.getString(Pe.form.array.addButton.class)+" faug-comp-add-button",{type:"button",list_value_cls:It}],i.custom.addButton,Xe,h,!1,!1,null,!1,null,!0)}Ge="";if(!1===i.norembutton&&!b){void 0===i.custom.remButton&&(i.custom.remButton={}),void 0===i.custom.remButton.custom&&(i.custom.remButton.custom={}),i.custom.remButton.custom.attrpos="append";Xe="Remove";i.custom.remButton.text&&(Xe=i.custom.remButton.text),i.custom.remButton.html&&(Xe=i.custom.remButton.html),Ge=rt(Pe.form.array.remButton.ele+"",void 0,void 0,void 0,[Fg.getString(Pe.form.array.remButton.style),Fg.getString(Pe.form.array.remButton.class)+" faug-comp-remove-button",{type:"button",list_value_cls:It}],i.custom.remButton,Xe,h,!1,!1,null,!1,null,!0)}Te=Ut(Fg.getString(Pe.form.array.header.ele),i.custom.header,Fg.getString(Pe.form.array.header.style),null,null,$e+Ge+Je,!0,!1,!1,null,null);var xt,$t=null!=i.items.isSpan&&i.items.isSpan,kt=(u=null==i.items.nolabel||!i.items.nolabel,Re=i.items.properties.value,i.items.properties.key);Ke=Fg.getString(Pe.form.array.this.container.ele),Ze=Fg.getString(Pe.form.array.this.container.style),et=Fg.getString(Pe.form.array.this.container.class),tt=Fg.copy(Pe.form.array.this.container.attrs);Ze=(xt=it(i.items.custom.container,Ze,et,tt,Ke))[0],et=xt[1],tt=xt[2],Ke=xt[3],Ke=ze(Ke,"div");at=Fg.getString(Pe.form.array.this.header.ele);void 0!==i.items.custom&&(at=i.items.custom.el),null!=at&&""!==at||(at="div"),"object"!=Re.type&&(w[It].showMinMax=!1);var St=0;for(var Ve in Oe){lt=It+"["+St+"]";if(Oe.hasOwnProperty(Ve)){ct="";if(!0===i.items.itemrembutton&&!b){void 0===i.items.custom.remButton&&(i.items.custom.remButton={}),void 0===i.items.custom.remButton.custom&&(i.items.custom.remButton.custom={}),i.items.custom.remButton.custom.attrpos="append";Xe="Remove";i.items.custom.remButton.text&&(Xe=i.items.custom.remButton.text),i.custom.remButton.html&&(Xe=i.items.custom.remButton.html),ct=rt(Pe.form.array.this.header.remButton.ele+"",void 0,void 0,void 0,[Fg.getString(Pe.form.array.this.header.remButton.style),Fg.getString(Pe.form.array.this.header.remButton.class)+" faug-comp-remove-button",{type:"button",list_value_cls:It,"ffead-el-link":lt+"_cont"}],i.items.custom.remButton,Xe,h,!1,!1,null,!1,null,!0)}if(!1===i.items.nominmaxbutton){if(Oe[Ve])if(i.items.summaryTemplate){ft=!(!Ee(i.summaryTemplateDynamic)&&!0!==i.summaryTemplateDynamic);ct+=Tt(i.items.summaryTemplate,Oe[Ve],ft)}else if(i.items.summaryTemplateFunc){var At;(At=Qe(i.items.summaryTemplateFunc,[Oe[Ve]])).valid&&(ct+=At.result)}if(!b){mt="display:none;";null!=A&&void 0!==i.items.editMinimize&&i.items.editMinimize&&(mt=""),ct=Ut(Fg.getString(Pe.form.array.this.header.minlabel.ele),i.items.custom.minlabel,mt,null,null,ct,!0,!1,!1,null,null),void 0===i.custom.minmaxbutton&&(i.custom.minmaxbutton={}),void 0===i.custom.minmaxbutton.custom&&(i.custom.minmaxbutton.custom={}),i.custom.minmaxbutton.custom.attrpos="append",void 0===i.items.custom.minmaxbutton&&(i.items.custom.minmaxbutton={}),void 0===i.items.custom.minmaxbutton.custom&&(i.items.custom.minmaxbutton.custom={}),i.items.custom.minmaxbutton.custom.attrpos="append";var Ct;gt=Xt(lt,"'"),ht=Xt(It,"'");(Ct={})["faug-comp-min-state"]=i.custom.minmaxbutton.custom["faug-comp-min-state"],Ct["faug-comp-max-state"]=i.custom.minmaxbutton.custom["faug-comp-max-state"],Ct["faug-comp-min-state"]||(Ct["faug-comp-min-state"]="-"),Ct["faug-comp-max-state"]||(Ct["faug-comp-max-state"]="+"),Ct.cntid=gt,Ct.schnm=ht,Ct.type="button";pt=Ct["faug-comp-min-state"],vt="faug-comp-min-button faug-comp-min-state";null!=A&&void 0!==i.items.editMinimize&&i.items.editMinimize&&(pt=Ct["faug-comp-max-state"],vt="faug-comp-max-button faug-comp-max-state"),ct+=Ut(Fg.getString(Pe.form.array.this.header.minmaxButton.ele),i.items.custom.minmaxbutton,Fg.getString(Pe.form.array.this.header.minmaxButton.style),vt,Ct,pt,!0)}}Te+=Ut(at,i.items.custom,"clearfix",null,null,ct,!0,!1,!1,null,null);var Pt=It+"["+St+"]['key']",jt=st(i.items,a,kt,r+1,Pt,[{orig_val_cls:Pt}],[Ve],$t,u,Ve,h,void 0,b);Pt=It+"["+St+"]['value']",jt+=st(i.items,a,Re,r+1,Pt,[{}],[Oe[Ve],Oe],$t,u,Pt,h,void 0,b),Te+=Ut(Ke,i.custom.container,Ze,et,tt,jt,!0),St++}}if(_[It]=St,0==St?z+=" faug-tot-size=0 faug-curr-size=0 faug-offset=0":(z+=" faug-tot-size="+St,St>20&&(St=void 0!==i.maxobjects?i.maxobjects:20),z+=" faug-curr-size="+St,z+=" faug-offset="+St),isTreeView){let e="",t="";i.display&&(e=i.display),i["display-desc"]&&(t=i["display-desc"]);let a="open",r="⬆",n=" faug-object-tree-cont";!1===i.open&&(a="close",r="⬇",n+=" hidden"),Te='<p class="col-md-12" style="margin-top:10px;"><a state="'+a+'" class="faug-object-ctrl">'+r+'</a><span class="faug-object-title" title='+t+">"+e+"</span></p>"+(Te='<div class="faug-cont col-md-12'+n+'">'+Te+"</div>")}else V+=" faug-cont";return S&&(V+=" col-md-12"),Ut(q,null,E,V,z,Te,!0)}}else if("map"==i.type){var It;if((It=n)||(It=""),i.hasOwnProperty("types")&&i.types.hasOwnProperty("key")&&i.types.hasOwnProperty("value")){var Dt={type:"marray",mtype:"map"};return i.hasOwnProperty("display")&&(Dt.display=i.display),i.hasOwnProperty("show")&&(Dt.show=i.show),i.hasOwnProperty("custom")&&(Dt.custom=i.custom),Dt.items={},i.types.hasOwnProperty("summaryTemplate")&&(Dt.items.summaryTemplate=i.types.summaryTemplate),i.types.hasOwnProperty("summaryTemplateFunc")&&(Dt.items.summaryTemplateFunc=i.types.summaryTemplateFunc),i.types.hasOwnProperty("custom")&&(Dt.items.custom=i.types.custom),Dt.noaddbutton=i.noaddbutton,Dt.norembutton=i.norembutton,Dt.nolabel=i.nolabel,Dt.items.mtype="marray",Dt.items.isSpan="object"!=i.types.value.type,Dt.items.nolabel="object"!=i.types.value.type,Dt.items.type="object",Dt.items.properties={},Dt.items.properties.key=i.types.key,Dt.items.properties.value=i.types.value,"object"==i.types.value.type&&(Dt.items.properties.value.isGroup=!0),Dt.label=i.label,w[It+"_dummymap"]=Dt,st(Dt.items,a,Dt,r,It,s,o,!1,!0,f,h,void 0,b)}}else if("group"==i.type&&i["html-pre"]&&i["html-post"]&&i.properties&&"object"===i.properties.type){let e=i["html-pre"];return e+=st(i,i.details,i.properties,r,"","",[data],!1,!0,"",h,void 0,b),e+=i["html-post"],e}return""}this.isInteger=function(e){return e==parseInt(e)},this.isFloat=function(e){if(""==e)return!0;e=e.toLowerCase();for(var t=0;t<e.length;t++)if(-1=="0123456789.".indexOf(e.charAt(t)))return!1;return!(e.split(".")>1)},this.isStrictAlpha=function(e){if(""==e)return!0;e=e.toLowerCase();for(var t=0;t<e.length;t++)if(-1=="abcdefghijklmnopqrstuvwxyz".indexOf(e.charAt(t)))return e="",!1;return!0},this.isAlpha=function(e){if(""==e)return!0;e=e.toLowerCase();for(var t=0;t<e.length;t++)if(-1==nt.indexOf(e.charAt(t)))return!1;return!0},this.isNumber=function(e){return!isNaN(e)},this.isAlphaNumeric=function(e){if(""==e)return!0;e=e.toLowerCase();for(var t=0;t<e.length;t++)if(-1==nt.indexOf(e.charAt(t))&&-1=="0123456789".indexOf(e.charAt(t)))return!1;return!0},this.isBoolean=function(e){return""==e||("string"==typeof e&&("true"==e.toLowerCase()||"yes"==e.toLowerCase()||"1"==e||"false"==e.toLowerCase()||"no"==e.toLowerCase()||"0"==e)||1==e||0==e)},this.showHideGroupedEntity=function(e,t,a,i,r){if(e.preventDefault(),$(t).hasClass("faug-comp-min-state")){if($(t).removeClass("faug-comp-min-state"),$(t).addClass("faug-comp-max-state"),Be(a+"_cont").hide(),t.innerHTML=$(t).attr("faug-comp-max-state"),void 0!==w[i].summaryTemplate){var n=Be(a+"_cont").serializeObject(a),s=!(!Ee(w[i].summaryTemplateDynamic)&&!0!==w[i].summaryTemplateDynamic);$(t).prev().html(Tt(w[i].summaryTemplate,n,s))}else if(w[i].summaryTemplateFunc){n=Be(a+"_cont").serializeObject(a);var o=Qe(w[i].summaryTemplateFunc,[n]);o.valid&&$(t).prev().html(o.result)}$(t).prev().show()}else $(t).removeClass("faug-comp-max-state"),$(t).addClass("faug-comp-min-state"),Be(a+"_cont").show(),t.innerHTML=$(t).attr("faug-comp-min-state"),$(t).prev().hide(),Et(a,u[r].details,a+"_cont");return!1};var ot=!1;this.init=function(e){ot||(0==n.cmdlist.length&&(n=new Faug.FgRecorder(e)),Faug.execFunc("onInit",[]).valid||console.log("No onInit method found to bootstrap"),$(document).fgOn("click.fg.6",(function(e){var t=e.target;$(t).hasClass("faug-ctxt-action-menu")||$(t).parents().hasClass("faug-ctxt-action-menu")||$(t).parents().hasClass("faug-valid-row")||$(".faug-ctxt-action-menu").hide(),$(".dropdown, .open").removeClass("open"),$(t).hasClass("faug-object-ctrl")&&("open"==$(t).attr("state")?($(t).parent().siblings(".faug-object-tree-cont").addClass("hidden"),$(t).attr("state","close"),$(t).html("⬇")):($(t).parent().siblings(".faug-object-tree-cont").removeClass("hidden"),$(t).attr("state","open"),$(t).html("⬆")))})),!0===ve&&$(document).fgOn("contextmenu.fg.7",(function(e){return e.stopPropagation(),!1})),ot=!0)},this.i=this.init,this.startRecording=function(){n.startRecording()},this.stopRecording=function(){n.stopRecording()},this.executeCommand=function(e){n.execute(e)},this.play=function(e){n.play(e)},this.translate=function(e){return t?t.translate(e):e},this.t=this.translate,this.l=this.t,this.ref=function(e,t,a){t=(""+t).split(a=void 0===a?".":a);for(var i=0;i<t.length;i++){if(!e)return;e=e[t[i]]}return e};var lt=this.ref;this.setref=function(e,t,a,i){t=(""+t).split(i=void 0===i?".":i);for(var r=0;r<t.length;r++)r==t.length-1?e[t[r]]=a:e=e[t[r]]};var dt=this.setref;this.setrefNewObj=function(e,t,a,i){t=(""+t).split(i=void 0===i?".":i);for(var r=0;r<t.length;r++)r==t.length-1?e[t[r]]=a:(e[t[r]]||(e[t[r]]={}),e=e[t[r]])};this.setrefNewObj;this.delref=function(e,t,a){t=(""+t).split(a=void 0===a?".":a);for(var i=0;i<t.length-1;i++){if(!e)return;e=e[t[i]]}delete e[t[i]]};var ct=this.delref;function ut(e,t,a,i,r,n,s,o,l,d){if(!0!==d){var c=t.details;if(n)(p=s.reset)||(p={}),Be(r).prepend(rt(Pe.form.resetButton.ele+"",void 0,void 0,void 0,[Fg.getString(Pe.form.resetButton.style),Fg.getString(Pe.form.resetButton.class)+" faug-input-reset",{type:"button"}],p,"Reset",l,!1,!1,null)+"<br/>"),$(".faug-input-reset").fgOn("click.fg.8",(function(){return ht(c.name),!1}));if(y[t.details.name]){var f=s.progress,m=r+"_progressbar",g="progress";f&&f.custom&&f.custom.el&&(g=f.custom.el);var h=Ut(g,f,"","",{max:100,value:0,id:m},null,!0);Be(r).append(h)}var p,v=c.name+"_submit_butt"+i,_={type:"submit",id:v,value:e};(p=s.submit)||(p={});var w="append";p&&(p.addId=!0,w=/^(append|prepend)$/i.test(p.position)?p.position.toLowerCase():w),"append"==w?Be(r).append(rt(Pe.form.submitButton.ele+"",void 0,void 0,void 0,[Fg.getString(Pe.form.submitButton.style),Fg.getString(Pe.form.submitButton.class)+" btn faug-input-submit",_],p,e,void 0,!1,!1,null)):Be(r).prepend(rt(Pe.form.submitButton.ele+"",void 0,void 0,void 0,[Fg.getString(Pe.form.submitButton.style),Fg.getString(Pe.form.submitButton.class)+" btn faug-input-submit",_],p,e,void 0,!1,!1,null)),a&&a[i]&&a[i].url?Be(v).fgOn("click.fg.9",function(e,t,a,i,r,n){return function(s){if($(".faug-scrollable-menu").is(":visible"))return!1;if(s.preventDefault(),$(this).attr("disabled")){if("disabled"==$(this).attr("disabled"))return!1}else $(this).attr("disabled","disabled");!function(e,t,a,i,r,n,s,o){var l=e[t],d=a.details;if(!0===a.details.__ishelper){var c=Be(d.id).serializeObject(d.name,!0);return void Ot({schemaName:d.schemaName,op:d.crudopName},d.defviewerId,!0,!0,c,void 0,void 0,o)}l.callbacks&&l.callbacks.beforeOp&&Ye(void 0,l.callbacks.beforeOp,[Be(i).serializeObject(d.name,!0)]);for(var f=Be(i).serializeObject(d.name,!0),m=Be(i).find(".faug-load-more"),g=Be(i).data("data"),h=0;h<m.length;h++){var p=$(m[h]).attr("list_value_cls"),v=1*$(m[h]).parent().attr("faug-tot-size"),_=1*$(m[h]).parent().attr("faug-curr-size");"."==(p=(p=(p=(p=p.replace(d.name,"")).replace(/\[/g,"")).replace(/\]/g,".")).replace(/'/g,"")).charAt(p.length-1)&&(p=p.substr(0,p.length-1));for(var w=lt(g,p),F=_;F<v;F++)lt(f,p)[F]=w[F]}var x=e[t].url,O=void 0;if(l.callbacks&&l.callbacks.onOp&&(O=Ye(void 0,l.callbacks.onOp,[f,o])).valid)return Ye(l.callbacks,"afterOp",[void 0,void 0,null,O.result,!0]),!1;l.callbacks&&l.callbacks.onValidateOp&&(O=void 0,O=Ye(void 0,l.callbacks.onValidateOp,[f,i,o]));var k=Be(i),T=!1!==d.form.validateHiddenElements;if(k.length>0&&!Jt(d.name,"",void 0,T))return alert(Pe.form.validationErrorMsg+""),o.removeAttr("disabled"),!1;if(!0!==d.form.noHtml5Validation&&!k[0].checkValidity())return alert(Pe.form.validationErrorMsg+""),o.removeAttr("disabled"),!1;if(O&&O.valid&&!1===O.result)return o.removeAttr("disabled"),!1;var S={},A=e[t].vars,N=Lt();for(var C in N)N.hasOwnProperty(C)&&(S[C]=N[C]);var P={};if(!Ee(A))for(var C in A)if(A.hasOwnProperty(C)){var j=Me(A[C]);j[0]&&(S[C]=j[1])}if(e[t].transientVars){for(var C in e[t].transientVars)e[t].transientVars.hasOwnProperty(C)&&(S[C]=e[t].transientVars[C],P[C]=e[t].transientVars[C]);e[t].transientVars=void 0}for(var C in f)f.hasOwnProperty(C)&&(S[C]=f[C]);var I=function(e,t,a,i){return a||(a=Be(t).serializeObject(i,!0)),Ee(e.serializeTemplate)?JSON.stringify(a,void 0,"\t"):Tt(e.serializeTemplate,a,void 0,void 0,!1)}(a,i,f,d.name);if((O=Ye(void 0,l.callbacks.serializeContent,[I])).valid)if(O.result)I=O.result;else if(Ee(O.result)||!1===O.result)return!1;if(x=Tt(x,S,void 0,void 0,!1),x=encodeURI(x),y[d.name]){var D={};return b&&("queryparam"==b.aTokenWhere?-1==x.indexOf("?")?x+="?"+b.aTokenName+"="+b.aTokenValue:"?"==x[x.length-1]?x+=b.aTokenName+"="+b.aTokenValue:x+="&"+b.aTokenName+"="+b.aTokenValue:"header"==b.aTokenWhere&&(D[b.aTokenName]=b.aTokenValue)),Wt(i,x,D,d,function(e,t,a,i,r,n,s,o){return function(e){var t=a.details;i[r].successRsMsg&&Fg.alertDialog(i[r].successRsMsg),n==t.form.id?!0===t.form.resetOnDone&&ht(t.name):s.isModal?Be(n+"_tr").modal("hide"):Be(n).parent().parent().hide(),Ye(i[r].callbacks,"afterOp",[void 0,void 0,null,e,!0])}}(0,0,a,e,t,i,n),function(e,t){return function(a){Ye(e.callbacks,"failure",[a,!1]),t.removeAttr("disabled")}}(e[t],o),i+"_progressbar",[r,f,a,e,t,i,n,o])}tt(!0,e[t].meth,x,e[t].contentType,I,e[t].headers?Fg.copy(e[t].headers):{},(function(e,t,a,i,r,n,s,o,l){if(r[n].successRsMsg&&alert(r[n].successRsMsg),s==i.form.id?!0===i.form.resetOnDone&&ht(i.name):o.isModal&&Be(s+"_tr").modal("hide"),Ye(r[n].callbacks,"afterOp",[void 0,void 0,null,e,!0]),t){var d=t.attr("faug-data-crudopnm"),c=1*t.attr("faug-data-rownum"),f=t.data("viewerid"),m=i.__viewer[f],g=r[d].columns;if(!g&&u[i.name].properties)for(var h in g=[],u[i.name].properties)if(u[i.name].properties.hasOwnProperty(h)&&(Ee(u[i.name].properties[h].show)||u[i.name].properties[h].show)){var p=h.substring(0,1).toUpperCase()+h.substring(1);u[i.name].properties[h].display&&(p=u[i.name].properties[h].display),g.push([p,h])}De("Object",e)?t.html(wt(i,m,r[d],e,c,g)):t.html(wt(i,m,r[d],a,c,g)),Be(f).parent().find(".faug-edit-button").fgOn("click.fg.11",function(e){return function(){jt(u[e.name],$(this).closest(".faug-valid-row"),$(this))}}(i)),Be(f).parent().find(".faug-delete-button").fgOn("click.fg.12",(function(){Pt(u[i.name],$(this).closest(".faug-valid-row"),$(this))}))}else r[d]}),(function(e,t,a,i,r,n){Ye(i[r].callbacks,"failure",[e,!1]),n.removeAttr("disabled")}),!0,[r,f,d,e,t,i,n,o],[f,a,e,t,o])}(e,t,a,i,r,n,0,$(this))}}(a,i,t,r,o,s)):Be(r).fgOn("submit.fg.10",(function(e){$(this).find(".faug-input-submit").is(":visible")||e.preventDefault()}))}}this.triggerDynamicAspect=function(){};this.triggerDynamicAspect;function ft(e,t,a,i,r,n){var s=e.details.form,o=T;if(i&&e.details.editForm&&e.details.editForm.id&&(s=e.details.editForm),m[e.details.name]=!1,i&&(m[e.details.name]=!0,o=S),!1!==a&&(a=!0),Ye(s.callbacks,"beforeDraw",[e.details.name]),g[e.details.name]={},h[e.details.name]={},e.dynamicAspects){var l={};if(e.__changed_properties__)for(var d in e.__changed_properties__)e.__changed_properties__.hasOwnProperty(d)&&(void 0!==e.__changed_properties__[d]?dt(e,d,e.__changed_properties__[d]):ct(e,d));else{if(De("Object",e.dynamicAspects)){for(var d in e.dynamicAspects)if(e.dynamicAspects.hasOwnProperty(d)){var c=lt(e,d);l[d]=c}}else if(De("Array",e.dynamicAspects))for(var u=0;u<e.dynamicAspects.length;u++)if(De("Object",e.dynamicAspects[u])&&e.dynamicAspects[u].cond&&De("Object",e.dynamicAspects[u].valueset))for(var d in e.dynamicAspects[u].valueset)if(e.dynamicAspects[u].valueset.hasOwnProperty(d)){c=lt(e,d);l[d]=c}e.__changed_properties__=l}if(De("Object",e.dynamicAspects))for(var d in e.dynamicAspects){if(e.dynamicAspects.hasOwnProperty(d))if(De("String",e.dynamicAspects[d])&&-1!=e.dynamicAspects[d].indexOf("@"))(f=Me(e.dynamicAspects[d]))[0]&&(void 0===f[1]?ct(e,d):dt(e,d,f[1]));else if(De("Object",e.dynamicAspects[d])&&e.dynamicAspects[d].cond&&e.dynamicAspects[d].value){if(Ue(e.dynamicAspects[d].cond,null))if(De("String",e.dynamicAspects[d].value)&&-1!=e.dynamicAspects[d].value.indexOf("@"))(f=Me(e.dynamicAspects[d].value))[0]&&(void 0===f[1]?ct(e,d):dt(e,d,f[1]));else void 0===e.dynamicAspects[d].value?ct(e,d):dt(e,d,e.dynamicAspects[d].value)}else void 0===e.dynamicAspects[d]?ct(e,d):dt(e,d,e.dynamicAspects[d])}else if(De("Array",e.dynamicAspects))for(u=0;u<e.dynamicAspects.length;u++){if(De("Object",e.dynamicAspects[u])&&e.dynamicAspects[u].cond&&De("Object",e.dynamicAspects[u].valueset))if(Ue(e.dynamicAspects[u].cond,null))for(var d in e.dynamicAspects[u].valueset){var f;if(e.dynamicAspects[u].valueset.hasOwnProperty(d))if(De("String",e.dynamicAspects[u].valueset[d])&&-1!=e.dynamicAspects[u].valueset[d].indexOf("@"))(f=Me(e.dynamicAspects[u].valueset[d]))[0]&&(void 0===f[1]?ct(e,d):dt(e,d,f[1]));else void 0===e.dynamicAspects[u].valueset[d]?ct(e,d):dt(e,d,e.dynamicAspects[u].valueset[d])}}}e.details.hasOwnProperty("labelEleId")&&Be(e.details.labelEleId).html(e.details.label);var p,v=s.id;if(Ut(Fg.getString(Pe.form.ele),s,Fg.getString(Pe.form.style),Fg.getString(Pe.form.class),{role:"form",id:s.id},null,!1,!0,!0,void 0,r),s.custom&&s.custom.properties&&(p=s.custom.properties),Be(s.id).addClass("faug-form"),Be(s.id).attr("faug-sch-name",e.details.name),Be(s.id).html(st(e,e.details,e,0,"","",[t],!1,!0,"",p,0,n,!1,!0)),i&&Be(s.id).data("editData",t),void 0===e.details.__ishelper||!0===e.details.__ishelper&&void 0!==s.submit){var y=void 0===s.submit||void 0===s.submit.label?Fg.getString(Pe.form.submitButton.label):s.submit.label;o=!0===e.details.__ishelper&&void 0!==s.submit?e.details.crudopName:o,ut(y,e,e.crud,o,s.id,s.showReset,s,void 0,p,n)}if(Ye(s.callbacks,"afterDraw",[void 0,s.id]),!e.__namedCallbacks&&s.callbacks&&s.callbacks.afterDraw&&s.callbacks.afterDraw.controlEvents&&s.callbacks.afterDraw.controlEvents.length>0){e.__namedCallbacks={};for(var b=0;b<s.callbacks.afterDraw.controlEvents.length;b++){var _=s.callbacks.afterDraw.controlEvents[b].name;_&&(e.__namedCallbacks[_]={},e.__namedCallbacks[_].controlEvents=[s.callbacks.afterDraw.controlEvents[b]])}}s.callbacks&&s.callbacks.transformElements&&Ye(void 0,s.callbacks.transformElements,[]).valid;if(void 0!==s.visibilityControl&&void 0!==s.visibilityControl.eleId){var w=s.visibilityControl,F=w.eleId,x=w.event,O=w.type;null!=x&&""!=x||(x="click"),null!=O&&""!=O||(O="showhide"),Be(F).fgOn(x+".fg.13",function(e,t,a){return function(i){var r=Be(e).is(":visible");"showhide"!=a&&"hide"!=a||!r?"showhide"!=a&&"show"!=a||(s.isModal?Be(e).modal({show:!0}):Be(e).show()):s.isModal?Be(e).modal("hide"):Be(e).hide(),Qe(s.callbacks.visibilityEventCallback,[t,!r])}}(v,e.details,O))}a&&(Be(v).show(),s.isModal&&Be(v).modal({show:!0})),Et(void 0,e.details,s.id)}this.drawCreateForm=function(e,t,a,i,r,n){u[e]&&u[e].details.form?ft(u[e],t,a,!1,i,r):L[e]&&Ze(L[e][0],e,function(e,t,a,r,n,s){return function(){ft(e[t],a,r,!1,i,n),s&&s()}}(u,e,t,a,r,n))};var mt=this.drawCreateForm;this.dcf=this.drawCreateForm,this.drawEditForm=function(e,t,a,i,r,n){u[e]&&u[e].details.form?ft(u[e],t,a,!0,i,r):L[e]&&Ze(L[e][0],e,function(e,t,a,r,n,s){return function(){ft(e[t],a,r,!0,i,n),s&&s()}}(u,e,t,a,r,n))};var gt=this.drawEditForm;this.def=this.drawEditForm;var ht=function(e){var t;(m[e]=!1,g[e]={},u[e].details.form.custom&&u[e].details.form.custom.properties&&(t=u[e].details.form.custom.properties),Be(u[e].details.form.id).html(st(u[e],u[e].details,u[e],0,"","",null,!1,!0,"",t,0,!1,!1,!0)),Et(void 0,u[e].details,u[e].details.form.id),ut(void 0===u[e].details.form.submit||void 0===u[e].details.form.submit.label?Fg.getString(Pe.form.submitButton.label):u[e].details.form.submit.label,u[e],u[e].crud,T,u[e].details.form.id,u[e].details.form.showReset,u[e].details.form,void 0,t),Ye(u[e].details.form.callbacks,"onReset",[]),Ye(u[e].details.form.callbacks,"afterDraw",[void 0,u[e].details.form.id]),u[e].details.form.callbacks&&u[e].details.form.callbacks.transformElements)&&Ye(void 0,u[e].details.form.callbacks.transformElements,[]).valid};this.resetTheForm=ht,this.rtf=this.resetTheForm,this.loadSchema=function(e,t,a,i,r,n,s,o,l){if(!0===o&&delete u[e],u[e]){var d=u[e],c=d.details.__defviewerId;return l?void l():(a&&void 0!==d.details.form&&ft(d,null,i,!1),void(r&&_t(d,c,n,s)))}!t&&L[e]&&(t=L[e][0]),Ye(null,"beforeLoad",[e]),tt(!0,"GET",t,"application/json","",{},bt,(function(e,t,a){var i=t||"";i+="("+a+")",console.log("Error loading schema "+i)}),!0,[a,i,r,n,s,!0,l,o],[e,t])};this.loadSchema;function pt(e){void 0===e.details.callbacks&&(e.details.callbacks={});var t=null;if(e.details.__viewer={},void 0!==e.details.viewer){for(var a=0;a<e.details.viewer.length;a++){var i=e.details.viewer[a];void 0!==i.id&&(null==t&&(t=i.id),void 0===i.custom&&(i.custom={}),void 0===i.callbacks&&(i.callbacks={}),e.details.__viewer[i.id]=i)}e.details.viewer.custom={},e.details.__defviewerId=t}void 0!==e.details.form&&void 0===e.details.form.custom&&(e.details.form.custom={}),void 0!==e.details.form&&void 0===e.details.form.callbacks&&(e.details.form.callbacks={}),void 0===e.details.editForm&&(e.details.editForm={})}this.ls=this.loadSchema;var vt=function(e,t,a){(!Fg.isN(a)&&!1!==a||v.hasOwnProperty(e[0]))&&!0!==a||(v[e[0]]="",t.push(e))};function yt(e,t,a,i){var r;if("object"===t.type?r=t.properties:"array"==t.type&&t.items&&(r=t.items.properties),r)for(var n in r)if("object"!=r[n].type&&"array"!=r[n].type){if(r.hasOwnProperty(n)&&!Ee(r[n].optionTemplateFile)?vt([r[n].optionTemplateFile,"html",!0,1],a,i):r.hasOwnProperty(n)&&!Ee(r[n].genericOptionTemplateFile)?vt([r[n].genericOptionTemplateFile,"html",!0,2],a,i):r.hasOwnProperty(n)&&!Ee(r[n].templateFile)?vt([r[n].templateFile,"html",!0,1],a,i):r.hasOwnProperty(n)&&!Ee(r[n].genericTemplateFile)&&vt([r[n].genericTemplateFile,"html",!0,2],a,i),e.namedEvents&&De("Object",e.namedEvents)&&r.hasOwnProperty(n)&&r[n].events)for(var s in r[n].events)if(r[n].events.hasOwnProperty(s))if(De("String",r[n].events[s])&&e.namedEvents[r[n].events[s]])r[n].events[s]=e.namedEvents[r[n].events[s]];else if(De("Array",r[n].events[s]))for(var o=0;o<r[n].events[s].length;o++)De("String",r[n].events[s][o])&&e.namedEvents[r[n].events[s][o]]&&(r[n].events[s][o]=e.namedEvents[r[n].events[s][o]])}else yt(e,r[n],a,i)}this.onSchemaLoad=function(e,t,a,i,r,n,s,o,l){if(Fg.is("Object",e)){pt(e);var d=[];if(e.templateFile&&vt([e.templateFile,"html",!0,4],d,l),yt(e,e,d,l),e.details&&e.details.viewer)for(var c=0;c<e.details.viewer.length;c++){var f=e.details.viewer[c];f&&f.helperArea&&f.helperArea.schema&&(void 0===f.helperArea.details.form&&(f.helperArea.details.form=Fg.copy(f.helperArea.details),f.helperArea.details.custom&&delete f.helperArea.details.custom,f.helperArea.details.form.crudop&&delete f.helperArea.details.form.crudop,f.helperArea.details.form.callbacks&&delete f.helperArea.details.form.callbacks),yt(f=f.helperArea.schema,f,d,l))}for(var m in e.crud)if(e.crud[m].callbacks||(e.crud[m].callbacks={}),e.crud.hasOwnProperty(m)&&e.crud[m].template)if(De("Object",e.crud[m].template)&&e.crud[m].template.vars&&e.crud[m].template.values&&e.crud[m].template.vars.length>0&&e.crud[m].template.values.length>0)for(var g=e.crud[m].template,h=g.vars,p=0;p<g.values.length;p++){g.values[p][0].length==h.length&&vt([g.values[p][1],"html",!0,0],d,l)}else vt([e.crud[m].template,"html",!0,0],d,l);for(var m in e.crud)if(e.crud.hasOwnProperty(m)){var v=e.crud[m].callbacksRef;for(var y in v&&e.crud[v]&&e.crud[v].callbacks&&(e.crud[m].callbacks=e.crud[v].callbacks),e.crud[m]){if(e.crud[m].hasOwnProperty(y))(v=e.crud[m][y].controlEventsAppend)&&e.crud[v]&&e.crud[v][y].controlEvents&&(e.crud[m][y].controlEvents?e.crud[m][y].controlEvents.push.apply(e.crud[m][y].controlEvents,e.crud[v][y].controlEvents):e.crud[m][y].controlEvents=e.crud[v][y].controlEvents)}}if(ie&&pe&&pe.schemas&&pe.schemas[e.details.name]&&(e.details.name=pe.schemas[e.details.name]),s&&d.length>0)Fg.freezeUI(!0),$.fetchMultipleFilesRawMT(d,(function(e,t,a,i){t&&(1===i[3]||2===i[3]?kt(i[0],a.responseText,{isTransient:null,elName:null,rows:null,selectedVal:null,details:null,vars:null},void 0,l):4===i[3]?kt(i[0],a.responseText,null,4,l):kt(i[0],a.responseText,{rows:null,options:null},void 0,l),X[i[0]]=[a.responseText,i[3]])})).done(function(t,a,i,r,n){return function(){if(_(e),Fg.freezeUI(!1),n)n();else if(a&&(_t(t,e.details.__defviewerId,i,r),t.aliases&&t.aliases.length>0))for(var s=0;s<t.aliases.length;s++){var o=u[t.aliases[s].name];_t(o,o.details.__defviewerId,i&&t.aliases[s].isDrawViewer,r&&t.aliases[s].isShowViewer)}}}(e,i,r,n,o)).fail((function(e){Fg.freezeUI(!1),alert("Problem loading required template files")}));else if(o)_(e),o();else if(i){if(_(e),_t(e,e.details.__defviewerId,r,n),e.aliases&&e.aliases.length>0)for(p=0;p<e.aliases.length;p++){var b=u[e.aliases[p].name];_t(b,b.details.__defviewerId,r&&e.aliases[p].isDrawViewer,n&&e.aliases[p].isShowViewer)}}else _(e);return d}function _(e){if(e.aliases&&e.aliases.length>0)for(var i=0;i<e.aliases.length;i++){var r=jQuery.extend(!0,{},e);r.details.name=e.aliases[i].name,r.aliases=void 0,e.aliases[i].details&&(r.details=e.aliases[i].details,pt(r)),r.details.__defviewerId=e.aliases[i].defViewerId,e.aliases[i].defViewerId in e.details.__viewer||console.log("Could not find default viewer id "+e.aliases[i].defViewerId+" for schema "+e.aliases[i].name),u[r.details.name]=r,Ye(r.details.callbacks,"afterLoad",[r]),t&&e.aliases[i].isdrawCreateForm&&void 0!==r.details.form&&ft(r,null,a&&e.aliases[i].isShowCreateForm,!1)}u[e.details.name]=e,Ye(e.details.callbacks,"afterLoad",[e]),t&&void 0!==e.details.form&&ft(e,null,a,!1)}};var bt=this.onSchemaLoad;function _t(e,t,a,i){var r=N;void 0!==e.defaultOp&&(r=e.defaultOp),void 0!==e.crud[r]&&(void 0!==e.crud[r].viewerId&&(t=e.crud[r].viewerId),null!=t&&void 0!==e.details.__viewer[t]&&Ot({schemaName:e.details.name,op:r},t,a,i))}function wt(e,t,a,i,r,n){var s="",o="",l=-1,d=-1;void 0!==t.editButton&&t.editButton.colNum>0&&(s=Ut(Fg.getString(Pe.viewer.editButton.ele),t.editButton,Fg.getString(Pe.viewer.editButton.style),"faug-edit-button",{},Fg.getString(Pe.viewer.deleteButton.label),!0),l=t.editButton.colNum),void 0!==t.deleteButton&&t.deleteButton.colNum>0&&(o=Ut(Fg.getString(Pe.viewer.deleteButton.ele),t.deleteButton,Fg.getString(Pe.viewer.deleteButton.style),"faug-delete-button",{},Fg.getString(Pe.viewer.deleteButton.label),!0),d=t.deleteButton.colNum);for(var c="",u=0;u<n.length;u++)if(u+1==l)c+=Ut(Fg.getString(Pe.viewer.this.table.column.ele),t.custom.td,Fg.getString(Pe.viewer.this.table.column.style),Fg.getString(Pe.viewer.this.table.column.class),{},s,!0);else if(u+1==d)c+=Ut(Fg.getString(Pe.viewer.this.table.column.ele),t.custom.td,Fg.getString(Pe.viewer.this.table.column.style),Fg.getString(Pe.viewer.this.table.column.class),{},o,!0);else{var f=i[n[u][1]];if(a.callbacks&&a.callbacks.viewerColumnDataTf){var m=Ye(void 0,a.callbacks.viewerColumnDataTf,[i,r,u]);m.valid&&void 0!==m.result?f=m.result:3!=n[u].length||Ee(n[u][2])||(m=Qe(n[u][2],[i,n[u][1]])).valid&&void 0!==m.result&&(f=m.result)}c+=Ut(Fg.getString(Pe.viewer.this.table.column.ele),t.custom.td,Fg.getString(Pe.viewer.this.table.column.style),Fg.getString(Pe.viewer.this.table.column.class),{},f,!0)}return c}this.invokeCrudOp=function(e,t,a,i,r,n){if(i=i||!0,r=r||!0,u[e]){var s=u[e],o=n;o||void 0===s.details.viewer||(o=s.details.__defviewerId);var l=a;a||void 0===s.defaultOp||(l=s.defaultOp),l||(l=N),void 0!==s.crud[l]&&(void 0!==s.crud[l].viewerId&&(o=s.crud[l].viewerId),o&&s.details.__viewer[o]?(t&&(s.crud[l].transientVars=t),Ot({schemaName:s.details.name,op:l},o,i,r)):console.log("Could not find viewer by viewer id "+o))}else L[e]&&Ze(L[e][0],e,function(e,t,a,i,r,n,s){return function(){var o=e[t],l=s;l||void 0===o.details.viewer||(l=o.details.__defviewerId);var d=i;i||void 0===o.defaultOp||(d=o.defaultOp),d||(d=N),void 0!==o.crud[d]&&(void 0!==o.crud[d].viewerId&&(l=o.crud[d].viewerId),l&&o.details.__viewer[l]?(a&&(o.crud[d].transientVars=a),Ot({schemaName:o.details.name,op:d},l,r,n)):console.log("Could not find viewer by viewer id "+l))}}(u,e,t,a,i,r,n))},this.ic=this.invokeCrudOp,this.invokeCrudOpNoViewer=function(e,t,a,i){if(u[e]){var r=u[e],n=i,s=a;a||void 0===r.defaultOp||(s=r.defaultOp),s||(s=N),void 0!==r.crud[s]&&(n?(t&&(r.crud[s].transientVars=t),Ot({schemaName:r.details.name,op:s},n)):console.log("Could not find element by viewer id "+n))}else L[schemaName]&&Ze(L[schemaName][0],schemaName,function(t,a,i,r,n){return function(){var a=t[e],s=n,o=r;r||void 0===a.defaultOp||(o=a.defaultOp),o||(o=N),void 0!==a.crud[o]&&(s?(i&&(a.crud[o].transientVars=i),Ot({schemaName:a.details.name,op:o},s)):console.log("Could not find element by viewer id "+s))}}(u,schemaName,t,a,i))},this.icnv=this.invokeCrudOpNoViewer,this.mergeVars=function(e,t,a){var i={};if(e)for(var r in e)e.hasOwnProperty(r)&&(i[r]=e[r]);if(t)for(var r in t)t.hasOwnProperty(r)&&(i[r]=t[r]);if(a)for(var r in a)a.hasOwnProperty(r)&&(i[r]=a[r]);return i};var Ft=this.mergeVars;this.mergeVarsLR=function(e,t,a){var i={};if(!0===a){var r=!1;if(e)for(var n in e)t&&t.hasOwnProperty(n)&&(i[n]=t[n],r=!0),e.hasOwnProperty(n)&&(i[n]=e[n],r=!0);if(!r&&t)for(var n in t)t.hasOwnProperty(n)&&(i[n]=t[n])}else if(!1===a){r=!1;if(t)for(var n in t)e&&e.hasOwnProperty(n)&&(i[n]=e[n],r=!0),t.hasOwnProperty(n)&&(i[n]=t[n],r=!0);if(!r&&e)for(var n in e)e.hasOwnProperty(n)&&(i[n]=e[n])}return i};var xt=this.mergeVarsLR;function Ot(e,t,a,i,r,n,s,o){o&&o.removeAttr("disabled");var l=e.schemaName,d=e.op,c=u[l];if(c.dynamicAspects){var f={};if(c.__changed_properties__)for(var m in c.__changed_properties__)c.__changed_properties__.hasOwnProperty(m)&&(void 0!==c.__changed_properties__[m]?dt(c,m,c.__changed_properties__[m]):ct(c,m));else{if(De("Object",c.dynamicAspects)){for(var m in c.dynamicAspects)if(c.dynamicAspects.hasOwnProperty(m)){var h=lt(c,m);f[m]=h}}else if(De("Array",c.dynamicAspects))for(var p=0;p<c.dynamicAspects.length;p++)if(De("Object",c.dynamicAspects[p])&&c.dynamicAspects[p].cond&&De("Object",c.dynamicAspects[p].valueset))for(var m in c.dynamicAspects[p].valueset)if(c.dynamicAspects[p].valueset.hasOwnProperty(m)){h=lt(c,m);f[m]=h}c.__changed_properties__=f}if(De("Object",c.dynamicAspects))for(var m in c.dynamicAspects){if(c.dynamicAspects.hasOwnProperty(m))if(De("String",c.dynamicAspects[m])&&-1!=c.dynamicAspects[m].indexOf("@"))(k=Me(c.dynamicAspects[m]))[0]&&(void 0===k[1]?ct(c,m):dt(c,m,k[1]));else if(De("Object",c.dynamicAspects[m])&&c.dynamicAspects[m].cond&&c.dynamicAspects[m].value){if(C=Ue(c.dynamicAspects[m].cond,null))if(De("String",c.dynamicAspects[m].value)&&-1!=c.dynamicAspects[m].value.indexOf("@"))(k=Me(c.dynamicAspects[m].value))[0]&&(void 0===k[1]?ct(c,m):dt(c,m,k[1]));else void 0===c.dynamicAspects[m].value?ct(c,m):dt(c,m,c.dynamicAspects[m].value)}else void 0===c.dynamicAspects[m]?ct(c,m):dt(c,m,c.dynamicAspects[m])}else if(De("Array",c.dynamicAspects))for(p=0;p<c.dynamicAspects.length;p++){if(De("Object",c.dynamicAspects[p])&&c.dynamicAspects[p].cond&&De("Object",c.dynamicAspects[p].valueset))if(C=Ue(c.dynamicAspects[p].cond,null))for(var m in c.dynamicAspects[p].valueset){if(c.dynamicAspects[p].valueset.hasOwnProperty(m))if(De("String",c.dynamicAspects[p].valueset[m])&&-1!=c.dynamicAspects[p].valueset[m].indexOf("@"))(k=Me(c.dynamicAspects[p].valueset[m]))[0]&&(void 0===k[1]?ct(c,m):dt(c,m,k[1]));else void 0===c.dynamicAspects[p].valueset[m]?ct(c,m):dt(c,m,c.dynamicAspects[p].valueset[m])}}}var v=c.crud[d],y=c.details.__viewer[t];(Ee(a)||!1===a)&&(y={});var b={},_=v.vars,w=Lt();for(var F in w)w.hasOwnProperty(F)&&(b[F]=w[F]);var O={};if(!Ee(_))for(var F in _){var k;if(_.hasOwnProperty(F))(k=Me(_[F]))[0]&&(b[F]=k[1])}if(v.transientVars){for(var F in v.transientVars)v.transientVars.hasOwnProperty(F)&&(b[F]=v.transientVars[F],O[F]=v.transientVars[F]);v.transientVars=void 0}var T=v.template;if(void 0===T||null==T||""==T)T=void 0;else if(De("Object",T)&&T.vars&&T.values&&T.vars.length>0&&T.values.length>0){for(var S=T.vars,A=0;A<T.values.length;A++){for(var N=T.values[A][0],C=N.length==S.length,P=0;P<S.length;P++)C&=Ve(S[P],b,N[P]);if(C){T=T.values[A][1];break}}De("Object",T)&&(T=void 0)}if(s&&0!=s.length||0==(s=Be(t)).length&&(s=$(t)),a){var j=Ct(y.callbacks,v.callbacks,"beforeDraw");Ye(j,"beforeDraw",[l]),s.length>0&&$.fn.DataTable.fnIsDataTable(s)&&(s.dataTable().fnDestroy(),s.empty()),s.length>0&&((!0!==x[q]||!0!==y.diff&&"true"!==y.diff)&&s.empty(),s.parent().find(".faug-trigger-read-prev-button").remove(),s.parent().find(".faug-trigger-read-next-button").remove()),s.off();var I=v.columns,D=t;if(!T&&I&&(Ut(Fg.getString(Pe.viewer.this.table.ele),y,Fg.getString(Pe.viewer.this.table.style),Fg.getString(Pe.viewer.this.table.class),{id:D},null,!1,!0,!0,Fg.getString(Pe.viewer.this.table.container.ele),null,Fg.getString(Pe.viewer.this.table.container.style)),s&&0!=s.length||(s=Be(t)),0==s.find(Fg.getString(Pe.viewer.this.table.header.ele)).length)){var B="";if(!I&&c.properties)for(var E in I=[],c.properties)if(c.properties.hasOwnProperty(E)&&(Ee(c.properties[E].show)||c.properties[E].show)){var z=E.substring(0,1).toUpperCase()+E.substring(1);c.properties[E].display&&(z=c.properties[E].display),I.push([z,E])}for(A=0;A<I.length;A++)B+=Ut(Fg.getString(Pe.viewer.this.table.header.colEle),y.custom.theadtrth,"","",{},I[A][0],!0);B=Ut(Fg.getString(Pe.viewer.this.table.header.rowEle),y.custom.theadtr,"","",{},B,!0),B=Ut(Fg.getString(Pe.viewer.this.table.header.ele),y.custom.thead,"","",{},B,!0),s.append(B)}if(void 0!==y.helperArea){var V=d;y.helperArea.details&&y.helperArea.details.crudopName&&(V=y.helperArea.details.crudopName);var M=c.crud[V];if(function(e,t,a,i,r,n,s,o){if(Ye(a.helperArea.callbacks,"beforeDraw",[e]),void 0!==a.helperArea.details&&void 0!==a.helperArea.details.form&&void 0!==a.helperArea.schema){var l=a.helperArea.details.form.id;if(!(Be(l).length>0)){var d=a.helperArea.details;null==d.callbacks&&(d.callbacks={}),d.crudopName=n,d.defviewerId=s,d.crudop=r,d.__ishelper=!0,d.schemaName=e,d.initObject=a.helperArea.initObject,void 0===g[d.name]&&(g[d.name]={});var c=a.helperArea.schema;c.details=d,u[d.name]=c,c.crud={},c.crud[n]=r;var f=void 0;if(!Fg.isN(d.initObject))if(De("String",d.initObject)){var m=Qe(d.initObject);m.valid&&(f=m.result)}else f=d.initObject;mt(d.name,f,!1,l,!1)}}}(l,c.details,y,0,M,V,t),y.helperArea.initObject){if(De("String",y.helperArea.initObject))(K=Qe(y.helperArea.initObject)).valid&&(r=K.result);else r=y.helperArea.initObject;var R=Be(y.helperArea.details.id).serializeObject(y.helperArea.details.name,!0);r=xt(r,R,!1)}else r=Be(y.helperArea.details.id).serializeObject(y.helperArea.details.name,!0)}if(i&&(y.isModal?Be(D).modal({show:!0}):s.show()),void 0!==y.visibilityControl&&void 0!==y.visibilityControl.eleId){var L=y.visibilityControl,U=L.eleId,H=L.event,J=L.type;null!=H&&""!=H||(H="click"),null!=J&&""!=J||(J="showhide"),Be(U).fgOn(H+".fg.14",function(e,t,a){return function(i){var r=Be(e).is(":visible");"showhide"!=a&&"hide"!=a||!r?"showhide"!=a&&"show"!=a||(y.isModal?Be(e).modal({show:!0}):Be(e).parent().show()):y.isModal?Be(e).modal("hide"):Be(e).parent().hide(),Qe(y.callbacks.visibilityEventCallback,[t,!r])}}(D,c.details,J))}}if("local"==v.type){v.callbacks&&v.callbacks.beforeOp&&Ye(void 0,v.callbacks.beforeOp,[]);var W=v.from,X=W;if(0==W.indexOf("f:"))(Y=Qe(W.substring(2))).valid&&(X=Y.result);else 0==W.indexOf("v:")&&(X=b[W.substring(2)]);return void $t(X,a,c,T,I,v,s,t,e,O,n,d,y)}var G=v.url;if(v.callbacks&&v.callbacks.beforeOp){var Y=Ye(void 0,v.callbacks.beforeOp,[v.url]);G=v.url,Y.valid&&(G=Y.result)}if(v.associatedViewerId){var Q=c.details.__viewer[v.associatedViewerId];if(Q.helperArea.initObject){var K;if(De("String",Q.helperArea.initObject))(K=Qe(Q.helperArea.initObject)).valid&&(r=K.result);else r=Q.helperArea.initObject;R=Be(Q.helperArea.details.id).serializeObject(Q.helperArea.details.name,!0);r=xt(r,R,!1)}else r=Be(Q.helperArea.details.id).serializeObject(Q.helperArea.details.name,!0)}void 0===b._f_start&&(b._f_start=0),void 0===b._f_pagenum&&(b._f_pagenum=0),void 0===b._f_search_text&&(b._f_search_text=""),v.table&&(v.table.schemaName=c.details.name,v.table.op=d,isNaN(b._f_count)&&v.table.pagination&&!0===v.table.pagination.enabled&&(Ne&&!1!==config.pagination.infinite?b._f_count=config.pagination.infi_items_count?config.pagination.infi_items_count:10:b._f_count=v.table.pagination.numpages&&v.table.pagination.numpages.length>0?v.table.pagination.numpages[0]:10)),void 0===b._f_count&&(b._f_count=10);var Z={_f_start:b._f_start,_f_pagenum:b._f_pagenum,_f_count:b._f_count,_f_search_text:b._f_search_text,_f_prev_state:b._f_prev_state,_f_originated_from:b._f_originated_from,_f_infi_index:b._f_infi_index},ee=Ft(b,r);let te;if(G=Tt(G,ee,void 0,void 0,!1),G=encodeURI(G),v.table&&v.table.pagination&&!0===v.table.pagination.enabled){let e=v.table.pagination.infiniKey;e&&(e=Tt(e,ee,void 0,void 0,!1),te=[v.table.pagination.infiniKey,e])}var ae=v.content;if("GET"!=v.meth)if(ae){if(ae=Tt(ae,ee,void 0,void 0,!1),r)try{var ie=JSON.parse(ae),re=!0;for(var ne in ie)ie.hasOwnProperty(ne)&&(re&=r.hasOwnProperty(ne));re&&(ae=JSON.stringify(r))}catch(e){}}else r&&(ae=JSON.stringify(r));var se=!0!==x[q];!0===v.freezeUi?se=!0:!1===v.freezeUi&&(se=!1),tt(se,v.meth,G,v.contentType,ae,v.headers?Fg.copy(v.headers):{},$t,(function(e,t,a,i,r,n,s){var o=Ct(s.callbacks,a.callbacks,"failure");Ye(o,"failure",[e,!0,i,r,n])}),!0,[a,c,T,I,v,s,t,e,O,n,d,y,Z,te],[c,v,T,s,t,y])}this.crudOpCallback=function(e,t,a,i,r,n,s,o,l,d,u,m,g,h,v){var y=e;n.dataRef&&(y=lt(e,n.dataRef));var b=De("Array",y);if(void 0!==n.storeAs)if(De("Object",n.storeAs)&&n.storeAs.name)if(b&&n.storeAs.key)for(var _=0;_<y.length;_++)f[n.storeAs.name]||dt(f,n.storeAs.name,{}),dt(f,n.storeAs.name+"."+e[_][n.storeAs.key],y[_]);else y[n.storeAs.key]?dt(f,n.storeAs.name+"."+n.storeAs.key,y):dt(f,n.storeAs.name,y);else De("String",n.storeAs)&&dt(f,n.storeAs,y);if(c[a.details.name]=e,Ye(n.callbacks,"afterOp",[e]),(C=Ye(n.callbacks,"beforeDraw",[e])).valid&&!1===oid.result)return;!0!==n.forTemplate&&(y=e);var w=void 0;""!==l.drawSchmemaForm&&(w=l.drawSchmemaForm);var F,O=void 0;n.table&&(O=new Fg.table(n.table)),n.canvasDataGrid&&!0===n.canvasDataGrid.enabled&&(F=n.canvasDataGrid);x[U];if(x[U]=void 0,w&&De("Object",y))mt(w,y);else if(!i&&r){if(b)for(var T=0;T<y.length;T++){var S=a.details.name+"_inlinearea_"+T,A=a.details.name+"_inlinearea_"+T+"_ttr";html="";var N=n.callbacks&&n.callbacks.drawViewerColumns;if(Ee(N))html+=wt(a.details,g,n,y[T],T,r);else(C=Ye(void 0,n.callbacks.drawViewerColumns,[y[T],T])).valid&&(html+=C.result);html=Ut(Fg.getString(Pe.viewer.this.table.row.ele),g.tr,"","faug-valid-row",{id:A,"faug-data-inlfid":S,"faug-data-rownum":T,"faug-data-crudopnm":m,"faug-data-op-col-len":r.length,"faug-data-schemanm":a.details.name},html,!0),s.append(html)}else for(var T in y)if(y.hasOwnProperty(T)){S=a.details.name+"_inlinearea_"+T,A=a.details.name+"_inlinearea_"+T+"_ttr";html="";var C;N=n.callbacks&&n.callbacks.drawViewerColumns;if(Ee(N))html+=wt(a.details,g,n,y[T],T,r);else(C=Ye(void 0,n.callbacks.drawViewerColumns,[y[T],T])).valid&&(html+=C.result);html=Ut(Fg.getString(Pe.viewer.this.table.row.ele),g.tr,"","faug-valid-row",{id:A,"faug-data-inlfid":S,"faug-data-rownum":T,"faug-data-crudopnm":m,"faug-data-op-col-len":r.length,"faug-data-schemanm":a.details.name},html,!0),s.append(html)}var P=s.find(".faug-valid-row");for(T=0;T<P.length;T++){var j=T;void 0!==(V=$(P[T]).attr("faug-data-rownum"))&&!1!==V&&(j=V),$(P[T]).data("data",lt(y,j))}}else if(i&&function(e,t){return p[t]}(a.details.name,i)){if(u&&(_e=-2),u&&0==y.length)At(i,y,d);else if(u&&y.length>0){if(faugScrollableListLength=y.length,s.html(Ut(Fg.getString(Pe.viewer.this.dropdown.ele),g.dropdown,Fg.getString(Pe.viewer.this.dropdown.style),Fg.getString(Pe.viewer.this.dropdown.class)+" dropdown-menu faug-scrollable-menu",{role:"menu"},At(i,y,d),!0)),(z=x[U])||(z=y),"rtl"===$(document).prop("dir")&&s.find(".faug-scrollable-menu").css("left",""),s.length>0)for(P=s.find(".faug-valid-row"),T=0;T<P.length;T++){A=a.details.name+"_inlinearea_"+T+"_ttr";$(P[T]).attr("id",A);j=T;void 0!==(V=$(P[T]).attr("faug-data-rownum"))&&!1!==V?j=V:$(P[T]).attr("faug-data-rownum",T),$(P[T]).attr("faug-data-schemanm",a.details.name),void 0!==(V=$(P[T]).attr("faug-data-ind-sep"))&&!1!==V&&(M=V),$(P[T]).data("data",lt(z,j,M))}n.dropdownmenuItem&&n.dropdownmenuItem.click&&s.fgOn("click.fg.15",".dropdown-menu, .faug-scrollable-menu "+Fg.getString(Pe.viewer.this.dropdown.itemEle),(J=n.dropdownmenuItem.click,function(e){if($(this).prop("tagName")==Pe.viewer.this.dropdown.itemEle.toUpperCase()+""){var t=Faug.getFaugValidRowData($(this)),a=$(this).parent().parent(),i=a.attr("faug-data-ddtrgid"),r=Be(i);if(i||(i=a.attr("faug-data-ddtrgcls"),r=$(i)),J.attrAssign){var n=J.attrAssign;De("Array",J.attrAssign)||(n=[J.attrAssign]);for(var s=0;s<n.length;s++)if(Ue(n[s].cond,$(this)))if(t&&n[s].fromData){var o=lt(t,n[s].fromData);if(n[s].tF){var l=lt(window,n[s].tF);(u=Qe(l,[d],!0)).valid&&(d=u.result)}!De("Object",n[s].to)||Ee(n[s].to.attr)||Ee(n[s].to.selector)?Ee(n[s].to)?r.first().attr(n[s].fromData,d):r.first().attr(n[s].to,d):$(n[s].to.selector).first().attr(n[s].to.attr,d)}else if(n[s].fromVar){var d=Lt(n[s].fromVar);n[s].tF&&(l=lt(window,n[s].tF),(u=Qe(l,[d],!0)).valid&&(d=u.result)),!De("Object",n[s].to)||Ee(n[s].to.attr)||Ee(n[s].to.selector)?Ee(n[s].to)?r.first().attr(n[s].fromVar,d):r.first().attr(n[s].to,d):$(n[s].to.selector).first().attr(n[s].to.attr,d)}else n[s].fromAttr?(d=$(this).attr(n[s].fromAttr),n[s].tF&&(l=lt(window,n[s].tF),(u=Qe(l,[d],!0)).valid&&(d=u.result)),!De("Object",n[s].to)||Ee(n[s].to.attr)||Ee(n[s].to.selector)?Ee(n[s].to)?r.first().attr(n[s].fromAttr,d):r.first().attr(n[s].to,d):$(n[s].to.selector).first().attr(n[s].to.attr,d)):n[s].to&&(d=$(this).val(),n[s].tF&&(l=lt(window,n[s].tF),(u=Qe(l,[d],!0)).valid&&(d=u.result)),!De("Object",n[s].to)||Ee(n[s].to.attr)||Ee(n[s].to.selector)?Ee(n[s].to)||r.first().attr(n[s].to,d):$(n[s].to.selector).first().attr(n[s].to.attr,d))}if(J.valueAssign){var c=J.valueAssign;for(De("Array",J.valueAssign)||(c=[J.valueAssign]),s=0;s<c.length;s++)if(Ue(c[s].cond,$(this)))if(t&&c[s].fromData)o=lt(t,c[s].fromData),c[s].tF&&(l=lt(window,c[s].tF),(u=Qe(l,[o],!0)).valid&&(o=u.result)),"value"!=c[s].to?$(c[s].to).first().val(o):r.first().val(o);else if(c[s].fromVar)o=Lt(c[s].fromVar),n[s].tF&&(l=lt(window,c[s].tF),(u=Qe(l,[o],!0)).valid&&(o=u.result)),"value"!=c[s].to?$(c[s].to).first().val(o):r.first().val(o);else if(c[s].fromAttr)o=$(this).attr(c[s].fromAttr),c[s].tF&&(l=lt(window,c[s].tF),(u=Qe(l,[o],!0)).valid&&(o=u.result)),"value"!=c[s].to?$(c[s].to).first().val(o):r.first().val(o);else{var u;if(o=$(this).text(),c[s].tF)l=lt(window,c[s].tF),(u=Qe(l,[o],!0)).valid&&(o=u.result);"value"!=c[s].to?$(c[s].to).first().val(o):r.first().val(o)}}(J.crudop||J.func||J.outfunc)&&He(J)(e,$(this)),a.removeClass("open")}}))}else if(!u){var I=Be(g.parentEleId),D=(!0===g.diff||g.diff,Fg.getString(Pe.viewer.this.default.ele));g.ele&&(D=g.ele);a.details.name,g.id;const e=Ne&&O&&O.c.pagination.enabled&&!1!==O.c.pagination.infinite&&!0===O.c.pagination.invokeApiOnChange,t=!v&&void 0!==h._f_infi_index||v&&Ce.m[v[0]]===v[1];if(I.length>0){if(e&&t);else{var B=Ut(D,g.container,Fg.getString(Pe.viewer.this.default.style),Fg.getString(Pe.viewer.this.default.class),{id:g.id+"_container"},"",!0);Be(g.id+"_container").remove(),g.position&&"append"!=g.position?"clear"==g.position?I.html(B):"prepend"==g.position&&I.prepend(B):I.append(B)}s=$("#"+g.id+"_container")}var E=At(i,y,d);(z=x[U])||(z=y);let n=0,o=0;if(e&&t){let e=$(E).find("#"+O.c.id).find("tbody");0==e.length&&$(E).attr("id")==O.c.id&&(e=$(E).find("tbody"));const t=e.html();n=e.find("tr").length,t&&""!=t.trim()&&($("#"+O.c.id).children("tbody").append(t),s.data("backing_data")&&s.data("backing_data").length>0&&(o=s.data("backing_data").length,z=s.data("backing_data").concat(z)))}else s.html(E),n=e?$("#"+O.c.id).find("tr").length:0;if(e&&s.data("backing_data",z),s.length>0){for(P=s.find(".faug-valid-row"),T=0;T<P.length;T++){S=a.details.name+"_inlinearea_"+T,A=a.details.name+"_inlinearea_"+T+"_ttr";$(P[T]).attr("id",A),$(P[T]).attr("faug-data-inlfid",S);j=T;void 0!==(V=$(P[T]).attr("faug-data-rownum"))&&!1!==V?(j=V,isNaN(V)||(j=1*V+o,o>0&&$(P[T]).attr("faug-data-rownum",j))):$(P[T]).attr("faug-data-rownum",T),$(P[T]).attr("faug-data-crudopnm",m),$(P[T]).attr("faug-data-op-col-len",r?r.length:0),$(P[T]).attr("faug-data-schemanm",a.details.name),void 0!==(V=$(P[T]).attr("faug-data-ind-sep"))&&!1!==V&&(M=V),$(P[T]).data("data",lt(z,j,M))}s.find(".faug-valid-row-stateful").fgOn("click.fg.16",(function(e){Faug.setProperty("previousElement",$(e.currentTarget))})),O&&O.paint(void 0,void 0,h,g.id+"_container",n,v)}}}else if(n.func){var z;I=Be(g.parentEleId);if(Fg.execFunc(n.func,[y,g.parentEleId]),s=I,(z=x[U])||(z=y),s.length>0){s.data("data",y);for(P=s.find(".faug-valid-row"),T=0;T<P.length;T++){S=a.details.name+"_inlinearea_"+T,A=a.details.name+"_inlinearea_"+T+"_ttr";$(P[T]).attr("id",A),$(P[T]).attr("faug-data-inlfid",S);var V,M;j=T;void 0!==(V=$(P[T]).attr("faug-data-rownum"))&&!1!==V?j=V:$(P[T]).attr("faug-data-rownum",T),$(P[T]).attr("faug-data-crudopnm",m),$(P[T]).attr("faug-data-op-col-len",r?r.length:0),$(P[T]).attr("faug-data-schemanm",a.details.name),void 0!==(V=$(P[T]).attr("faug-data-ind-sep"))&&!1!==V&&(M=V),$(P[T]).data("data",lt(z,j,M))}s.find(".faug-valid-row-stateful").fgOn("click.fg.17",(function(e){Faug.setProperty("previousElement",$(e.currentTarget))})),O&&O.paint(void 0,void 0,h)}}else if(F){var R=F.schema;F.schemaFunc&&(y=Fg.execFunc(F.schemaFunc,[]));var L=y;if(F.dataFunc&&(L=Fg.execFunc(F.dataFunc,[y])),!R&&y)for(var q in R=[],L[0])L[0].hasOwnProperty(q)&&R.push({name:q});if(L&&R&&Fg.is("Array",L)){(I=Be(g.parentEleId)).grid&&I.grid.dispose(),I.html("");var H=canvasDatagrid({parentNode:I[0],borderDragBehavior:"move",allowMovingSelection:!0,columnHeaderClickBehavior:"select",allowFreezingRows:!0,allowFreezingColumns:!0,allowRowReordering:!0,tree:!1,debug:!1,showPerformance:!1});H.style.height="800px",H.style.width="100%",H.schema=R,H.data=y,I.grid=H}else{(I=Be(g.parentEleId)).html("<p>No data found</p>")}}else if(De("String",e)){(I=Be(g.parentEleId)).html(e)}else i&&k&&console.log("No template "+i+" found for "+a.details.name);var J,W;if(u&&s.hasClass("dropdown")&&y.length>0&&s.addClass("open"),a.details.editForm&&(W=a.details.editForm.showEvent),void 0!==g.editButton&&g.editButton.colNum>0);else if("contextmenu"==W||"click"==W){var X=function(e,t){var a=!0,i=!0,r=void 0,n="Edit",s="Delete";void 0!==t&&(r=it(t.custom,"","list-group",{},null),t.isedit&&(a=t.isedit),t.isdelete&&(i=t.isdelete),Ee(t.editlabel)||(n=t.editlabel),Ee(t.deletelabel)||(s=t.deletelabel));var o=e+"_actionMenu";Be(o).remove();var l='<ul id="'+o+'" class="list-group faug-ctxt-action-menu">';return a&&(l+='<li class="list-group-item" faug-data-ctxt-action="Edit">'+n+"</li>"),i&&(l+='<li class="list-group-item" faug-data-ctxt-action="Delete">'+s+"</li>"),l+="</ul>",$(l).appendTo("body"),r&&(Be(o).attr("style",r[0]),Be(o).attr("class",r[1])),o}(o,g.custom.actionsArea),G=Be(X);void 0!==g.custom.actionsArea&&void 0!==g.custom.actionsArea.custom&&void 0!==g.custom.actionsArea.custom.li&&(void 0===g.custom.actionsArea.custom.li.custom&&(g.custom.actionsArea.custom.li.custom={}),g.custom.actionsArea.custom.li.custom.attrpos="append",sca=it(g.custom.actionsArea.custom.li.custom,"","list-group-item",{},null),G.children().attr("style",sca[0]),G.children().attr("class",sca[1])),G.attr("data-viewerid",o),s.fgOn(W+".fg.18",".faug-valid-row",function(e){return function(t){t.preventDefault(),e.is(":visible")?e.hide():(Be($(this).attr("faug-data-inlfid")+"_tr").hide(),e.css("left",t.pageX),e.css("top",t.pageY),e.show(),e.attr("faug-data-rownum",$(this).attr("faug-data-rownum")),e.attr("faug-data-inlfid",$(this).attr("faug-data-inlfid")),e.attr("faug-data-thistrid",$(this).attr("id"))),t.preventDefault()}}(G)),"contextmenu"==W&&s.fgOn("click.fg.19",".faug-valid-row",(function(e){Be($(this).attr("faug-data-inlfid")+"_tr").hide(),e.preventDefault()})),G.fgOn("click.fg.20","li",function(e,t){return function(a){t.is(":visible")&&t.hide(),"Edit"==$(this).attr("faug-data-ctxt-action")?jt(e,Be($(this).parent().attr("faug-data-thistrid")),$(this)):"Delete"==$(this).attr("faug-data-ctxt-action")&&Pt(e,Be($(this).parent().attr("faug-data-thistrid")),$(this))}}(a,G))}var Y=!1,Q=!1;if(!O&&void 0!==g.isDataTable&&g.isDataTable&&(Y=!0),void 0!==g.serverPaginate&&(Q=g.serverPaginate),void 0!==n.serverPaginate&&(Q=n.serverPaginate),s.find(".faug-valid-row").data("viewerid",o),s.parent().find(".faug-edit-button").fgOn("click.fg.21",function(e){return function(){jt(e,$(this).closest(".faug-valid-row"),$(this))}}(a)),s.parent().find(".faug-delete-button").fgOn("click.fg.22",function(e){return function(){Pt(e,$(this).closest(".faug-valid-row"),$(this))}}(a)),y.length>0&&Y){var K={bDestroy:!0};Q&&(K.pagingType="simple");var Z=Ye(void 0,g.dataTableConfigFunc,[Fg.copy(g),o]);Z.valid&&void 0!==Z.result&&(K=Z.result),s.dataTable(K),Q&&0==Be(o+"_wrapper").find(".faug-trigger-read-prev-button").length&&(Be(o+"_wrapper").find("li.paginate_button.previous").removeClass("disabled"),Be(o+"_wrapper").find("li.paginate_button.previous").addClass("faug-trigger-read-prev-button"),Be(o+"_wrapper").find("li.paginate_button.next").removeClass("disabled"),Be(o+"_wrapper").find("li.paginate_button.previous").addClass("faug-trigger-read-next-button"))}if(Q){var ee=!1!==g.defaultnextprevbuttons;!Y&&ee&&s.parent().append(Fg.getString(Pe.viewer.pagination.html));var te=Y?Be(o+"_wrapper").find("li.paginate_button.previous"):s.parent().find(".faug-trigger-read-prev-button"),ae=Y?Be(o+"_wrapper").find("li.paginate_button.next"):s.parent().find(".faug-trigger-read-next-button");te.fgOn("click.fg.23",function(e,t,i){return function(r){var n=a.crud[t];n.start--,n.start<0?(n.start=0,$(this).attr("disabled","disabled")):Ot({schemaName:e,op:t},i,!0,!0)}}(a.details.name,m,o)),ae.fgOn("click.fg.24",function(e,t,i,r){return function(n){var s=a.crud[t];s.start++,0==s.start&&r.removeAttr("disabled"),Ot({schemaName:e,op:t},i,!0,!0)}}(a.details.name,m,o,te))}var ie=Ct(g.callbacks,n.callbacks,"afterDraw");Ye(ie,"afterDraw",[void 0,e,o])};var $t=this.crudOpCallback;this.refreshSchemaTemplate=function(e,t,a,i,r,n,s){if(u[e]){x[U]=void 0;var o=p[t].apply(null,[{rows:a}]);if(o){var l=Be(i);l.html(o);var d=Be(r).length>0?Be(r):l;if(d.length>0){var c=x[U];c||(c=a);for(var f=d.find(".faug-valid-row"),m=0;m<f.length;m++){var g=e+"_inlinearea_"+m,h=e+"_inlinearea_"+m+"_ttr";$(f[m]).attr("id",h),$(f[m]).attr("faug-data-inlfid",g);var v,y=$(f[m]).attr("faug-data-rownum"),b=m;void 0!==y&&!1!==y?b=y:$(f[m]).attr("faug-data-rownum",m),$(f[m]).attr("faug-data-crudopnm",n),$(f[m]).attr("faug-data-op-col-len",$(f[m]).find("td").length),$(f[m]).attr("faug-data-schemanm",e),void 0!==(y=$(f[m]).attr("faug-data-ind-sep"))&&!1!==y&&(v=y),$(f[m]).data("data",lt(c,b,v))}}n&&s&&Ye(u[e].crud[n].callbacks,s,[a])}}};this.refreshSchemaTemplate;function kt(e,a,i,r,n){p[e]&&!n||(p[e]=4!=r?t.templateEngine(a,i,!0):t.templateEngine(a,i,!0,!0))}this.rst=this.refreshSchemaTemplate,this.getTemplate=function(e,t){if(Fg.is("String",e))return e;if(e.template&&(Fg.isN(e.items)||0==e.items.length)&&(Fg.isN(e.cond)||Ue(e.cond,t)))return e.template;var a="";if(Fg.isN(e.cond)||Ue(e.cond,t)){for(var i in e.items)t[i]=Fg.getTemplate(e.items[i],t);a=e.template}return Fg.templatize(a,t,!0,null,!1)},this.templatize=function(a,i,r,n,s,o){if(s=!1!==s,r=!1!==r){if(p[a]){if(De("String",p[a]))return t.templateEngine(p[a],i,!0,!0,s).apply(null,[i]);if(De("Function",p[a]))return void 0===(l=p[d].apply(null,[i]))&&console.log("Invalid tempate "+a),l||""}return t.templateEngine(a,i,!0,!0,s).apply(null,[i])}var l,d=Fg.isN(o)?a:o;if(n||p[d]||(p[d]=t.templateEngine(a,i,!0,!1,s)),p[d])return(l=p[d].apply(null,[i]))||"";n&&e[d]&&Ke(d,function(e,t,a,i){return function(){var r=e[t].apply(null,[a]);void 0===r&&console.log("Invalid tempate "+t),i(r)}}(p,d,i,n))};var Tt=this.templatize;this.tz=this.templatize,this.templatizeByName=function(e,t,a,i){return At(e,t,a,i)};var St=this.templatizeByName;this.tzn=this.templatizeByName,this.load=function(e,t,a,i){return St(e,a,i,t)},this.templatizeSchemaTemplate=function(t,a,i,r){if(p[t]){var n=p[t].apply(null,[{rows:a,options:i}]);return void 0===n&&console.log("Invalid tempate "+t),r&&r(n),n||""}if(r&&e[t]){if(!r){var s=t,o={rows:null,options:null,row:null},l=0;De("Array",e[t])&&(s=e[t][0],o=e[t][1],l=3==e[t].length?e[t][2]:0);a=$.get(s).then();return X[s]=o?[a,3,o]:[a,l],kt(s,a,o,o?3:0),new Promise.resolve(a)}Ke(t,function(e,t,a,i,r){return function(){var n=e[t].apply(null,[{rows:a,options:i}]);void 0===n&&console.log("Invalid tempate "+t),r(n)}}(p,t,a,i,r))}};var At=this.templatizeSchemaTemplate;this.tst=this.templatizeSchemaTemplate,this.templatizeSchemaPropOptionTemplate=function(t,a,i){if(p[t])try{var r=p[t].apply(null,[a]);return void 0===r&&console.log("Invalid tempate "+t),r||""}catch(e){return console.log(e),""}else i&&e[t]&&Ke(t,function(e,t,a,i){return function(){var r=e[t].apply(null,[a]);void 0===r&&console.log("Invalid tempate "+t),i(r)}}(p,t,a,i))};var Nt=this.templatizeSchemaPropOptionTemplate;function Ct(e,t,a){return e&&e[a]?e:t&&t[a]?t:void 0}function Pt(e,a,i){var r=A;if(a.attr("faug-crud-name")&&(r=a.attr("faug-crud-name")),void 0!==e.crud[r]){var n=e.crud[r],s=a.data("viewerid"),o=e.details.__viewer[s],l=1*a.attr("faug-data-rownum"),d=c[e.details.name][l];d||(d=a.data("data"));n.url;var u=Fg.getString(Pe.viewer.deleteButton.msg);void 0!==o.deleteButton&&void 0!==o.deleteButton.msg&&""!=o.deleteButton.msg&&(u=Tt(o.deleteButton.msg,d,void 0,void 0,!1)),t.getDialogConfirm(u,function(e,t,a,i,r,n){return function(i){if(i){if(e.callbacks&&e.callbacks.beforeOp){var s=Ye(void 0,e.callbacks.beforeOp,[n,e.url,a]);s.valid&&s.result&&(u=s.result)}if(e.callbacks&&e.callbacks.onOp){var o=Ye(void 0,e.callbacks.onOp,[a]);if(o.valid)return Ye(e.callbacks,"afterOp",[void 0,void 0,a,o.result,!0]),!1}var l=t.crud,d=r,c=JSON.stringify(a,void 0,"\t"),u=Tt(l[d].url,a,void 0,void 0,!1);tt(!0,l[d].meth,u,l[d].contentType,c,l[d].headers?Fg.copy(l[d].headers):{},(function(e){Ye(l[d].callbacks,"afterOp",[void 0,void 0,a,e,!0])}),(function(e){Ye(l[d].callbacks,"failure",[a,!1,e])}))}else Ye(e.callbacks,"onCancelDialog",[n,a])}}(n,e,d,0,r,i))}}this.tspot=this.templatizeSchemaPropOptionTemplate;this.alertDialog=function(e,a){t.getDialogAlert(e,a)},this.ad=this.alertDialog;function jt(e,t,a){Dt(!0);var i=e.details,r=t.attr("faug-data-inlfid"),n=1*t.attr("faug-data-rownum"),s=i.form.id,o=i.form.showReset,l=t.attr("faug-data-op-col-len");if(i.editForm.isInline){Be((s=r)+"_tr").remove();var d=s+"_tr",f='<form id="'+s+'" class="form" role="form"></form>',g=t.prop("tagName");"tr"==g.toLowerCase()?Be(s+"_ttr").after('<tr id="'+d+'" style="display:none;background-color:#f5f5f5"><td colspan="'+l+'">'+f+"</td></tr>"):Be(s+"_ttr").after("<"+g+' id="'+d+'" style="display:none;background-color:#f5f5f5">'+f+"</"+g+">"),Be(s+"_tr").show(),o=!1}else if(i.editForm.isModal){Be((s=r)+"_tr").remove();d=s+"_tr";Bt(f='<div><form id="'+s+'" class="form" role="form"></form></div>',s+"_tr","Edit "+i.name,!0,void 0,!1),Be(s+"_tr").modal({show:!0}),Be(s+"_tr").show(),o=!1}else!0===i.editForm.create&&i.editForm.form_cont&&Ut("form",i.editForm,"width:95%;","form",{role:"form",id:i.editForm.id},null,!1,!0,!0);!function(e,t,a,i,r){var n;Ye(u[e].details.editForm.callbacks,"beforeDraw",[e]),m[e]=!0,u[e].details.form.custom&&u[e].details.form.custom.properties&&(n=u[e].details.form.custom.properties),u[e].details.editForm.custom&&u[e].details.editForm.custom.properties&&(n=u[e].details.editForm.custom.properties),Be(a).html(st(u[e],u[e].details,u[e],0,"","",[c[e][t]],!1,!0,"",n,0,!1,!1,!0)),Be(a).data("data",c[e][t]),Et(void 0,u[e].details,a),ut(void 0===u[e].details.editForm.submit||void 0===u[e].details.editForm.submit.label?Fg.getString(Pe.form.submitButton.editlabel):u[e].details.editForm.submit.label,u[e],u[e].crud,S,a,i,u[e].details.editForm,r,n),Ye(u[e].details.editForm.callbacks,"afterDraw",[void 0,c[e][t],a]),u[e].details.editForm.callbacks&&u[e].details.editForm.callbacks.transformElements&&Ye(void 0,u[e].details.editForm.callbacks.transformElements,[]).valid,Et(void 0,u[e].details,u[e].details.editForm.id)}(i.name,n,s,o,t),Dt(!1)}function It(e,t,a,i,r){if(t&&t.op){var n=a[1],s=u[t.schemaName].crud[t.op];if(!s)return!1;var o=n?n.closest(".faug-valid-row"):$(""),l=a[0],d=void 0,f=s.viewerId;if(!f&&t.viewerId&&(f=t.viewerId),n&&n.find(f).length>0&&(d=n.find(f)),n&&"next-relative"==t.viewerPos&&n.next().length>0&&n.next().find(f).length>0?d=n.next().find(f).first():n&&"prev-relative"==t.viewerPos&&n.next().length>0&&n.prev().find(f).length>0?d=n.prev().find(f).first():n&&"relative"==t.viewerPos&&n.find(f).length>0?d=n.find(f).first():"absolute"==t.viewerPos&&$(f).length>0&&(d=$(f).first()),!f&&u[t.schemaName].details&&u[t.schemaName].details.viewer&&u[t.schemaName].details.viewer[0]&&(f=u[t.schemaName].details.viewer[0].id),!Ee(t)&&!0===t.related&&o.length>0){var m=o.attr("faug-data-schemanm"),g=1*o.attr("faug-data-rownum"),h=c[m][g];if(s.inline){f=o.attr("faug-data-inlfid");var p=o.attr("faug-data-op-col-len"),v=f+"_tr";Be(v).remove();var y=o.prop("tagName"),b={callbacks:{},custom:{}};t.viewer&&(b=t.viewer);var _=Ut("table",b,"width:100%;","table table-striped table-bordered table-hover",{id:f},null,!0,!1,!1,"div");"tr"==y.toLowerCase()?o.after('<tr id="'+v+'" style="background-color:#f5f5f5"><td colspan="'+p+'">'+_+"</td></tr>"):o.after("<"+y+' id="'+v+'" style="background-color:#f5f5f5">'+_+"</"+y+">"),u[t.schemaName].details.__viewer[f]=b}if(f)return l&&l.stopPropagation(),Ot(t,f,!0,!0,h,!1,d),!1}else if(!Ee(t)){if(l&&l.stopPropagation(),!0!==s.showdropdownmenu){b={callbacks:{},custom:{}};u[t.schemaName].details.__viewer[f]||(t.viewer&&(b=t.viewer),u[t.schemaName].details.__viewer[f]=b),Ot(t,f,!0,!0,null,!1,d)}else{f="dd_"+t.schemaName+"_"+t.op,Be(f).length>0&&Be(f).remove();b={callbacks:{},custom:{}};t.viewer&&(b=t.viewer),u[t.schemaName].details.__viewer[f]=b,i=Ee(i)?'" faug-data-ddtrgcls="'+r+'"':'" faug-data-ddtrgid="'+i+'"';var w=$('<div class="dropdown" id="'+f+i+"></div>");n.after(w),w.css({position:"absolute",bottom:0}),Ot(t,f,!0,!0,null,!0,void 0)}return!1}}}this.confirmDialog=function(e,a){t.getDialogConfirm(e,a)},this.cd=this.confirmDialog,this.freezeUI=function(e,t){if(t||(t=E),0==Be(t).length){var a=z;if(z||!(a=window.freezeLoaderHtml)&&Pe.freezeLoaderHtml&&(a=Fg.getString(Pe.freezeLoaderHtml)),window.freezeUiContainer)var i=Fg.templatize(window.freezeUiContainer,{freezeLoaderHtml:a},!0,void 0,!1);else if(Fg.isN(Pe.freezeUiContainer))i='<div style="z-index: 1000; border: none; margin: 0px; padding: 0px; width: 100%; \t\t\t\t\theight: 100%; top: 0px; left: 0px; cursor: wait; position: fixed; opacity: 0.323537741574588; \t\t\t\t\t"></div><div style="z-index: 1011; position: fixed; padding: 0px; margin: 0px; \t\t\t\t\twidth: 30%; top: 40%; left: 35%; text-align: center; cursor: wait; opacity: 0.539229547863922;">'+a+"</div>";else var i=Fg.templatize(Fg.getString(Pe.freezeUiContainer),{freezeLoaderHtml:a},!0,void 0,!1);$('<div id="'+E+'">'+i+"</div>").appendTo("body")}var r=Be(t);e?(r.is(":visible")||r.show(),V++):--V<=0&&(V=0,r.hide())};var Dt=this.freezeUI;this.fz=this.freezeUI,this.unFreezeUI=function(e){e||(e=E);var t=Be(e);V=0,t.hide()},this.freezeUIFor=function(e){isNaN(e)||e<100||(Fg.freezeUI(!0),setTimeout((function(){Fg.freezeUI(!1)}),e))},this.fzf=this.freezeUIFor,this.showModalForm=function(e,t,a,i,r,n,s,o,l){void 0===s&&(s="75%"),void 0===o&&(o="300px;"),this.isN(s)||(s="width: "+s+";"),this.isN(o)||(o="height: "+o+";");var d="";this.isN(a)||(d+=a),i&&(d+='<button type="button" class="close" data-dismiss="modal">&times;</button>'),""!=d&&(d='<div class="modal-header">'+d+"</div>");var c="";n&&(c='<div class="modal-footer">'+(this.isN(r)?"":r)+"</div>"),this.byId(t).remove(),$("body").append('<div id="'+t+'" class="modal fade" role="dialog"> \t\t\t\t<div class="modal-dialog" style="'+s+o+';"> \t\t\t\t<div class="modal-content"> \t\t\t\t'+d+' \t\t\t\t<div class="modal-body clearfix">'+e+"</div> \t\t\t\t"+c+" \t\t\t\t</div> \t\t\t\t</div> \t\t\t\t</div>"),l&&function(e){e.css("display","block");var t=e.find(".modal-dialog"),a=($(window).height()-t.height())/2,i=parseInt(t.css("marginBottom"),10);a<i&&(a=i),t.css("margin-top",a)}(this.byId(t))};var Bt=this.showModalForm;function Et(e,t,a,i,r,n){for(var s in r=r||!1,a&&Fg.byId(a).length>0&&(Fg.byId(a).find(".faug-comp-add-button,.faug-comp-remove-button").fgOn("click.fg.25",(function(e){return Faug.plusminuslistfunc(e,t.name,$(this)[0],$(this).hasClass("faug-comp-add-button"))})),Fg.byId(a).find(".faug-comp-max-button,.faug-comp-min-button").fgOn("click.fg.26",(function(e){var a=$(this).attr("cntid").replace(/\\'/g,"'"),i=$(this).attr("schnm").replace(/\\'/g,"'");return Faug.showHideGroupedEntity(e,$(this)[0],a,i,t.name)})),Fg.byId(a).find(".faug-load-more").fgOn("click.fg.27",(function(e){return Faug.plusminuslistfuncLoadMore(e,t.name,$(this)[0],!1)}))),g[t.name]){if(!g[t.name].hasOwnProperty(s)||void 0!==e&&0==!s.indexOf(e))continue;if(void 0!==i&&i!=s)continue;var o=g[t.name][s],l=[];for(var d in o)if(o.hasOwnProperty(d)){var c=o[d],f=d.split(","),m=!1;"defaultOnce"in o&&(m=!0);for(var h=0;h<f.length;h++)if("trigger"==f[h]){var p=u[t.name];p.__namedCallbacks&&Ye(p.__namedCallbacks,c,void 0,!1)}else if("defaultOnce"!=f[h]||r){if("default"==f[h]&&(!r&&!m||r&&m))Rt(void 0,$(document.getElementsByName(s)[0]),c,s,a,t.name);else if("defaultOnce"!=f[h]&&"default"!=f[h]){var v=document.getElementsByName(s),y=f[h]+".fg.he";$(v).fgOn(y,function(e,t,a,i,r){return function(a){Fg.isN($(this).attr("name"))||t==$(this).attr("name")||(t=$(this).attr("name")),Rt(a,$(this),e,t,i,r)}}(c,s,f[h],a,t.name))}}else l.push(d),Rt(void 0,$(document.getElementsByName(s)[0]),c,s,a,t.name)}for(h=0;h<l.length;h++)delete o[l[h]]}}function zt(e,t,a){t=(""+t).split(a=void 0===a?".":a);for(var i=0;i<t.length;i++)e.properties&&e.properties[t[i]]?e=e.properties[t[i]]:e.items&&e.items.properties&&e.items.properties[t[i]]&&(e=e.items.properties[t[i]]);return e}function Vt(e,t,a,i,r,n,s,o,l){var d=e;t.storeAs&&(f[t.storeAs]=e);var c=t.target,m=null;c?(i!=r&&(c=i+"['"+t.target+"']"),a=$(document.getElementsByName(c)[0])):c=r;var g=u[s];if(a&&a.length>0&&"select"==a.prop("tagName").toLowerCase()){var h=!1;if(m=Fg.ueh(a.parent().attr("acvalue"))){var p=m.substring(0,4);m=m.substring(4),"jsn@"==p?m=JSON.parse(m):"ind@"==p&&!isNaN(m)&&!Ee(e)&&e.length>0&&(m=e[Number(m)])}h="true"===a.parent().attr("faug-read-only"),d="",Ee(m)&&!Ee(e)&&e.length;var v=c.substring(c.indexOf("[")+2).replace(/\['/g,".properties.").replace(/'\]/g,"").replace(/(\[[0-9]*\])/g,"");T=zt(T=u[s],v),!m&&!isNaN(T.defaultIndex)&&!Ee(e)&&e.length>T.defaultIndex&&(m=e[T.defaultIndex]);var y={};for(var b in T.vars){if(T.vars.hasOwnProperty(b))(O=Me(T.vars[b],a))[0]&&(y[b]=O[1])}var _={isTransient:!0===T.transient||"true"===T.transient,elName:c,rows:e,selectedVal:m,details:g.details,vars:y};if(h)d=m;else if(T.optionTemplate)d=Tt(T.optionTemplate,_,!1);else if(T.genericOptionTemplateFile)d=Nt(T.genericOptionTemplateFile,_);else if(T.optionTemplateFile)d=Nt(T.optionTemplateFile,_);else if(!Ee(e))if(De("Array",e))for(var w=0;w<e.length;w++){var F=1==e[w].length?e[w][0]:e[w][1],x=e[w][0]==m?"selected":"";d+='<option value="'+e[w][0]+'" '+x+">"+Fg.eh(F)+"</option>"}else for(var O in e){F=e[O];d+='<option value="'+O+'" '+(x=O==m?"selected":"")+">"+Fg.eh(F)+"</option>"}if(a.html(d),m&&""!=m||(a.val(a.find("option:first").val()),a.find("option:first").attr("selected",!0)),Et(void 0,g.details,n,c,!0),void 0!==t.done)Rt(o,a,t.done,r,n,s)}else{var k=Be(c+"_cont");if((h="true"===k.attr("faug-read-only"))||a.length>0&&(a.remove(),a=void 0),(h||void 0===a||0==a.length)&&k.length>0){if(m=Fg.ueh(k.attr("acvalue"))){p=m.substring(0,4);m=m.substring(4),"jsn@"==p?m=JSON.parse(m):"ind@"==p&&!isNaN(m)&&!Ee(e)&&e.length>0&&(m=e[Number(m)])}var T;k.attr("ffead-pth"),v=c.substring(c.indexOf("[")+2).replace(/\['/g,".properties.").replace(/'\]/g,"").replace(/(\[[0-9]*\])/g,""),(T=zt(T=u[s],v)).enum;!m&&!isNaN(T.defaultIndex)&&!Ee(e)&&e.length>T.defaultIndex&&(m=e[T.defaultIndex]);y={};for(var b in T.vars){if(T.vars.hasOwnProperty(b))(O=Me(T.vars[b],a))[0]&&(y[b]=O[1])}_={isTransient:!0===T.transient||"true"===T.transient,elName:c,rows:e,selectedVal:m,details:g.details,vars:y};var S,A=!1;if(h)Fg.byName(c).html(m);else if(T.optionTemplate)d=Tt(T.optionTemplate,{isTransient:!0===T.transient||"true"===T.transient,elName:c,rows:e,selectedVal:m,details:g.details,vars:y},!1);else if(T.genericOptionTemplateFile)d=Nt(T.genericOptionTemplateFile,_);else if(T.optionTemplateFile)d=Nt(T.optionTemplateFile,_);else{var N;A=!0,(N=jQuery.extend(!0,{},T)).events&&N.events.default&&(N.events.default=void 0),N.enum=e,d=st(T,g.details,N,0,c,[{}],[m],!1,!0,t.target,void 0)}if(!h)if(""!=d)if(A)k.replaceWith(d);else(N=jQuery.extend(!0,{},T)).elementHtml=d,delete N.enum,S=u[s].details.form.custom.properties,d=st(T,g.details,N,0,c,[{}],[m],!1,!0,t.target,S),k.html($(d).html());if(Et(void 0,g.details,n,c,!0),void 0!==t.done)Rt(o,a=$(document.getElementsByName(c)[0]),t.done,r,n,s)}else{if(a.val(d),void 0!==t.done)Rt(o,a,t.done,r,n,s)}}}this.sm=this.showModalForm;var Mt=[];function Rt(e,t,a,i,r,n){for(var s=0;s<a.length;s++)if(a[s]){if("function"==typeof a[s])return void a[s](t,e);var o=void 0===a[s].show?[]:a[s].show,l=void 0===a[s].hide?[]:a[s].hide,d=void 0===a[s].values?[]:a[s].values,c=void 0===a[s].how?"display":a[s].how,f=a[s].from;if(o.length>0){-1!=(y=j=i).indexOf("[")&&"."==(y=y.substring(y.indexOf("[")).replace(/'/g,"").replace(/\[/g,"").replace(/\]/g,"."))[y.length-1]&&(y=y.substring(0,y.length-1));var m=$(document.getElementsByName(j)),g=t.val();if(m.length>1&&(g=lt(Be(r).serializeObject(n),y)),f&&f.length>1)!0===(b=Me(f,t))[0]&&(g=b[1]);else void 0===g&&Fg.byId(j+"_cont").length>0&&(g=Fg.getActualValue(Fg.byId(j+"_cont"),!0));for(var h=0;h<o.length;h++){var p=m.attr("name")+"_cont";w=-1==(w=Fg.byId(p).attr("ffead-pth")).indexOf(".")?"":w.substring(0,w.lastIndexOf(".")+1);var v=$("div[ffead-pth='"+w+o[h]+"']");if((F=$("div[ffead-pth='"+o[h]+"']")).length>0?_=F.attr("id"):v.length>0&&(_=v.attr("id")),_)if(-1!==$.inArray(g,d))Ee(c)||"display"==c?Be(_).show():Be(_).removeClass(c),(x=Be(_).find("input[_faug-tmp-req],select[_faug-tmp-req],textarea[_faug-tmp-req]")).attr("required",!0),x.removeAttr("_faug-tmp-req");else Ee(c)||"display"==c?Be(_).hide():Be(_).addClass(c),(x=Be(_).find("input[required],select[required],textarea[required]")).attr("_faug-tmp-req",!0),x.removeAttr("required")}}if(l.length>0){var y;-1!=(y=j=i).indexOf("[")&&"."==(y=y.substring(y.indexOf("[")).replace(/'/g,"").replace(/\[/g,"").replace(/\]/g,"."))[y.length-1]&&(y=y.substring(0,y.length-1));var b;m=$(document.getElementsByName(j)),g=t.val();if(m.length>1&&(g=lt(Be(r).serializeObject(n),y)),f&&f.length>1)!0===(b=Me(f,t))[0]&&(g=b[1]);else void 0===g&&Fg.byId(j+"_cont").length>0&&(g=Fg.getActualValue(Fg.byId(j+"_cont"),!0));for(h=0;h<l.length;h++){var _,w;p=m.attr("name")+"_cont";w=-1==(w=Fg.byId(p).attr("ffead-pth")).indexOf(".")?"":w.substring(0,w.lastIndexOf(".")+1);var F,x;v=$("div[ffead-pth='"+w+l[h]+"']");if((F=$("div[ffead-pth='"+l[h]+"']")).length>0?_=F.attr("id"):v.length>0&&(_=v.attr("id")),_)if(-1!==$.inArray(g,d))Ee(c)||"display"==c?Be(_).hide():Be(_).addClass(c),(x=Be(_).find("input[required],select[required],textarea[required]")).attr("_faug-tmp-req",!0),x.removeAttr("required");else Ee(c)||"display"==c?Be(_).show():Be(_).removeClass(c),(x=Be(_).find("input[_faug-tmp-req],select[_faug-tmp-req],textarea[_faug-tmp-req]")).attr("required",!0),x.removeAttr("_faug-tmp-req")}}var O=void 0===a[s].type?null:a[s].type;if("ajax"==O){function T(e,t,a,i,r,n,s){if(a[s].cond&&Fg.is("Array",a[s].cond)&&a[s].cond.length>0&&!Ue(a[s].cond,i)){void 0!==a[s].done&&Rt(e,t,a[s].done,nele,r,n)}else{var o,l=i;-1!=i.indexOf("[")?(l=i.substring(0,i.lastIndexOf("[")),o=Be(l+"_cont").serializeObject(l)):o=Be(r).serializeObject(n);var d=u[n];if(!0===d.details.__ishelper&&d.details.initObject){var c;if(De("String",d.details.initObject)){var f=Qe(d.details.initObject);f.valid&&(c=f.result)}else c=d.details.initObject;o=xt(c,o,!1)}if(a[s].udvars)for(var m in a[s].udvars)if(a[s].udvars.hasOwnProperty(m)){var g=Me(a[s].udvars[m],t);g[0]&&void 0===o[m]&&(o[m]=g[1])}var h=Tt(a[s].url,o,void 0,void 0,!1),p="";cont=a[s].content,"GET"!=a[s].meth&&cont?(cont=Tt(cont,o,void 0,void 0,!1),p="application/json"):"GET"!=a[s].meth&&(o=Be(r).serializeObject(n,!0),cont=JSON.stringify(o,void 0,"\t"),p="application/json");var v=Fg.isN(a[s].freezeUi)||!0===a[s].freezeUi||"true"===a[s].freezeUi;at(v,a[s].meth,h,p,cont,a[s].headers?Fg.copy(a[s].headers):{},a[s].cachedTime).done(function(e,t,a,i,r,n,s,o){return function(o){Vt(o,e,t,a,i,r,n,s)}}(a[s],t,l,i,r,n,e,cont)).fail((function(e){k&&alert("Cannot fetch data elements")}))}}Fg.is("String",a[s].id)&&""!=a[s].id.trim()?-1==Mt.indexOf(a[s].id.trim())&&(Mt.push(a[s].id.trim()),setTimeout(function(e,t,a,i,r,n,s,o){var l=Mt.indexOf(i[o].id.trim());return-1!==l&&Mt.splice(l,1),function(){e(t,a,i,r,n,s,o)}}(T,e,t,a,i,r,n,s),50)):T(e,t,a,i,r,n,s)}else if("func"==O){var S=void 0===a[s].func?null:a[s].func,A=void 0===a[s].fromVar?null:a[s].fromVar;if(A)P=Lt(A);else{var N,C=window[S],P=null,j=i;-1!=i.indexOf("[")?(j=i.substring(0,i.lastIndexOf("[")),N=Be(j+"_cont").serializeObject(j)):N=Be(r).serializeObject(n),P="function"==typeof C?C([t,N]):C}Vt(P,a[s],t,j,i,r,n,e)}else if("full"==O){if(He(a[s])(e,t),void 0!==a[s].done)Rt(e,t,a[s].done,i,r,n)}}}function Lt(e){return e?e in x?Fg.g(e):e in re?re[e]:e in f?f[e]:void 0:Ft(x,re,f)}function Ut(e,t,a,i,r,n,s,o,l,d,c,u){var f="";if(Ee(t)||Ee(t.custom)||void 0===t.custom.html){null==a&&(a=""),null==i&&(i=""),null==r&&(r={}),null==n&&(n="");var m=e,g=it(t?t.custom:null,a,i,r,m);a=g[0],i=g[1],r=g[2],m=g[3],f="<"+(e=ze(m,e))+' style="'+a+'" class="'+i+'" '+r+">"+n+"</"+e+">";var h=void 0;Ee(t)||Ee(t.custom)||(h=t.custom.parent),h&&(f=Ut(h.el?"div":h.el,h||null,"","",{},f,!0))}else f=t.custom.html;if(void 0!==d&&""!=d&&null!==d&&(u||(u=""),f="<"+d+" "+u+">"+f+"</"+d+">"),s)return f;if(t.hasOwnProperty("create")&&t.create){Be(t.id).remove();var p=t.position,v=Be(t.parentEleId);if(De("String",c)&&(c=Be(c)),null!=c&&c.length>0&&(v=c),v.length>0)"prepend"==p?v.prepend(f):l&&"clear"==p?v.html(f):v.append(f);else if(o&&t.isModal){var y=t.id+"_mdct";Be(t.id).remove(),Be(y).remove(),Bt(f,y,t.header,!0,void 0,!1)}}}function qt(e,t,a,i,r,n){var s=w[a],o=document.getElementById(a+"_cont"),l=1*$(o).attr("faug-curr-size");if(i||0!=l){if(!i){if(e&&e.attr("ffead-el-link")){var d=1*Fg.byId(e.attr("ffead-el-link")).parent().attr("data-pos"),c=e.attr("ffead-el-link");c=c.substr(0,c.lastIndexOf("[")),Fg.byId(e.attr("ffead-el-link")).parent().remove(),0==l&&(l=1),$(o).attr("faug-curr-size",l-1);for(var u=d+1;u<l;u++){var f=c+"["+u+"]",m=c+"["+(u-1)+"]";Fg.byId(c+"_cont").find('[id^="'+$.escapeSelector(f)+'"]').each((function(){var e=$(this).attr("id").replace(f,m);$(this).attr("id",e)})),Fg.byId(c+"_cont").find('[name^="'+$.escapeSelector(f)+'"]').each((function(){var e=$(this).attr("name").replace(f,m);$(this).attr("name",e)})),Fg.byId(m+"_cont").parent().attr("data-pos",u-1)}return}if(s.minitems&&1*s.minitems==l)return;var g=$(o).children("div[data-pos]").eq($(o).children("div[data-pos]").length-1)[0];return g.remove(),0==l&&(l=1),$(o).attr("faug-curr-size",l-1),g}if(!s.maxitems||1*s.maxitems!=l){var h=l,p=a+"["+h+"]",v=null!=w[a].isSpan&&w[a].isSpan,y=null==w[a].nolabel||!w[a].nolabel,b=st(w[a],t,w[a],-1,p,{},[r],v,y,"",n),_=Fg.getString(Pe.form.array.this.container.ele),F=Fg.getString(Pe.form.array.this.container.style),x=Fg.getString(Pe.form.array.this.container.class),O=Fg.copy(Pe.form.array.this.container.attrs),k=it(w[a].custom.container,F,x,O);F=k[0],x=k[1],O=k[2];var T="";if("object"==s.type&&(void 0===s.showMinMax||s.showMinMax)){var S="",A="",N="display:none;",C="faug-comp-min-state faug-comp-min-button",P="faug-comp-min-state",j="div";if(!0===s.itemrembutton){void 0===s.custom.remButton&&(s.custom.remButton={}),void 0===s.custom.remButton.custom&&(s.custom.remButton.custom={}),s.custom.remButton.custom.attrpos="append";var I="Remove";s.custom.remButton.text&&(I=s.custom.remButton.text),s.custom.remButton.html&&(I=s.custom.remButton.html),A=rt(Pe.form.array.this.header.remButton.ele+"",void 0,void 0,void 0,[Fg.getString(Pe.form.array.this.header.remButton.style),Fg.getString(Pe.form.array.this.header.remButton.class)+" faug-comp-remove-button",{type:"button",list_value_cls:a,"ffead-el-link":p+"_cont"}],s.custom.remButton,I,n,!1,!1,null,!1,null,!0)}if(r){if(s.summaryTemplate){var D=!(!Ee(s.summaryTemplateDynamic)&&!0!==s.summaryTemplateDynamic);S+=Tt(s.summaryTemplate,r,D)}else if(s.summaryTemplateFunc){var B=Qe(s.summaryTemplateFunc,[r]);B.valid&&(S+=B.result)}if(""==S)for(var E in s.properties)if(s.properties.hasOwnProperty(E)){var z=E;null!=z&&(z=z.substring(0,1).toUpperCase()+z.substring(1)),s.properties[E].hasOwnProperty("display")&&(z=s.properties[E].display),S=z+": "+r[E];break}void 0!==s.editMinimize&&s.editMinimize&&(N="",C="faug-comp-max-state faug-comp-max-button",P="faug-comp-max-state")}if(!1===s.nominmaxbutton){j=Fg.getString(Pe.form.array.this.header.ele),void 0!==s.custom&&(j=s.custom.el),null!=j&&""!==j||(j="div");var V=Ut(Fg.getString(Pe.form.array.this.header.minlabel.ele),s.custom.minlabel,N,null,null,S,!0,!1,!1,null,null);void 0===s.custom.minmaxbutton&&(s.custom.minmaxbutton={}),void 0===s.custom.minmaxbutton.custom&&(s.custom.minmaxbutton.custom={}),s.custom.minmaxbutton.custom.attrpos="append";var M=Xt(a+"["+h+"]","'"),R=Xt(a,"'"),L={};L["faug-comp-min-state"]=s.custom.minmaxbutton.custom["faug-comp-min-state"],L["faug-comp-max-state"]=s.custom.minmaxbutton.custom["faug-comp-max-state"],L["faug-comp-min-state"]||(L["faug-comp-min-state"]="-"),L["faug-comp-max-state"]||(L["faug-comp-max-state"]="+"),L.cntid=M,L.schnm=R,L.type="button",A+=V+=Ut(Fg.getString(Pe.form.array.this.header.minmaxButton.ele),s.custom.minmaxbutton,Fg.getString(Pe.form.array.this.header.minmaxButton.style),C,L,L[P],!0)}T+=Ut(j,s.custom,null,"clearfix",null,A,!0,!1,!1,null,null)}O+=' data-pos="'+l+'"';var U=$("<"+_+' class="'+x+'" style="'+F+'" '+O+">");return U.html(T+b),$(o).attr("faug-curr-size",l+1),U}}}this.setScopedVar=function(e){x[U]=e},this.sscv=this.setScopedVar,this.setActualValue=function(e,t,a){var i="str@"+t;De("Array",t)&&t.length>1&&(i="jsn@"+Xt(JSON.stringify(t))),(e=!0===a?e:e.parent()).attr("acvalue",Fg.eh(i))},this.getActualValue=function(e,t){e=!0===t?e:e.parent();var a=Fg.ueh(e.attr("acvalue"));if(a){var i=a.substring(0,4);return a=a.substring(4),"jsn@"==i&&(a=JSON.parse(a)),a}},this.addGlobalVar=function(e,t,a){e in x&&void 0!==a&&!0!==a||(x[e]=t,e+"_write"in O&&O[e+"_write"](x[e]))},this.ag=this.addGlobalVar,this.addGlobalReadIntercept=function(e,t){e+"_read"in O||"function"!=typeof t||(O[e+"_read"]=t)},this.addGlobalWriteIntercept=function(e,t){e+"_write"in O||"function"!=typeof t||(O[e+"_write"]=t)},this.getGlobalVar=function(e){return e+"_read"in O&&O[e+"_read"](x[e]),x[e]},this.g=this.getGlobalVar,this.existsGlobalVar=function(e){return x.hasOwnProperty(e)},this.eg=this.existsGlobalVar,this.deleteGlobalVar=function(e){delete x[e]},this.dg=this.deleteGlobalVar,this.addVar=function(e,t,a){e in re&&void 0!==a&&!0!==a||(re[e]=t)},this.av=this.addVar,this.getVar=function(e){return e in re?re[e]:x[e]},this.v=this.getVar,this.deleteVar=function(e){delete re[e]},this.dv=this.deleteVar,this.getStoreVar=function(e){return f[e]},this.gstv=this.getStoreVar,this.addStoreVar=function(e,t,a){f[e]&&void 0!==a&&!0!==a||(f[e]=t)},this.astv=this.addStoreVar,this.getSchema=function(e){return this.copy(u[e])},this.gs=this.getSchema,this.getNodeValue=function(e,t){var a=t.split(".");t="";for(var i=0;i<a.length;i++)t+="['"+a[i]+"']";var r=$(document.getElementsByName(e+t));if(r.length>0){var n=r.first().val();if(r.attr("faug-serialize-position")){var s=r.attr("faug-serialize-position");"text"==s?n=r.text():"html"==s?n=r.html():"value"!=s&&(n=r.attr(s));var o=r.attr("faug-serialize-function");if(o&&""!==o.trim()){var l=Qe(o,[n,r]);l.valid&&(n=l.result)}}return n}return null},this.gnv=this.getNodeValue,this.setNodeValue=function(e,t,a){var i=t.split(".");t="";for(var r=0;r<i.length;r++)t+="['"+i[r]+"']";var n=$(document.getElementsByName(e+t));if(n.length>0&&n.attr("faug-serialize-position")){var s=n.attr("faug-serialize-position");"text"==s?n.first().text(a):"html"==s?n.first().html(a):"value"==s?n.first().val(a):"function"!=s&&n.first().attr(s,a)}return null},this.snv=this.setNodeValue,this.showNode=function(e,t){var a=t.split(".");t="";for(var i=0;i<a.length;i++)t+="['"+a[i]+"']";var r=$(document.getElementsByName(e+t+"_cont"));if(r.length>0)return r.show()},this.shn=this.showNode,this.hideNode=function(e,t){var a=t.split(".");t="";for(var i=0;i<a.length;i++)t+="['"+a[i]+"']";var r=$(document.getElementsByName(e+t+"_cont"));if(r.length>0)return r.hide()},this.hdn=this.hideNode,this.getNode=function(e,t){var a=t.split(".");t="";for(var i=0;i<a.length;i++)t+="['"+a[i]+"']";return $(document.getElementsByName(e+t))},this.gn=this.getNode,this.getNodeContainer=function(e,t){var a=t.split(".");t="";for(var i=0;i<a.length;i++)t+="['"+a[i]+"']";return $(document.getElementsByName(e+t+"_cont"))},this.gnc=this.getNodeContainer,this.getFormContainer=function(e){return $(document.getElementById(e+"_cont"))},this.gfc=this.getFormContainer,this.getForm=function(e){if(u[e]&&u[e].details&&u[e].details.form)return Fg.byId(u[e].details.form.id)},this.gf=this.getForm,this.formBind=function(e){if(u[e]&&u[e].details&&u[e].details.form&&"function"==typeof FgBind)return Fg.byId(u[e].details.form.id).data("fg-bind")},this.fd=this.formData,this.formData=function(e){if(u[e]&&u[e].details&&u[e].details.form)return Fg.byId(u[e].details.form.id).serializeObject(e)},this.fd=this.formData,this.formSerialize=function(e){if(u[e]&&u[e].details&&u[e].details.form)return Fg.byId(u[e].details.form.id).serializeObject(e)},this.fs=this.formSerialize,this.o=function(e){var t={form:function(){return Fg.gf(e)},data:function(){return Fg.fd(e)},bind:function(){return Fg.fb(e)},formContainer:function(){return Fg.gfc(e)},serialize:function(){return Fg.fs(e)},property:function(t){var a=Fg.getNode(e,t),i={get:function(){return a},change:function(e,t){a.val(e),t=Fg.isN(t)?"change":t,a.trigger(t)},val:function(e){if(void 0===e){var t;if(a.length>1)for(var i=0;i<a.length;i++){var r=$(a[i]);if("radio"==r.attr("type"))a[i].checked&&(t=r);else{var n=a.val();r.val()==n&&(t=r)}}else t=a;var s=t.val();if(t.attr("faug-serialize-position")){var o=t.attr("faug-serialize-position");"text"==o?s=t.text():"html"==o?s=t.html():"value"!=o&&(s=t.attr(o));var l=t.attr("faug-serialize-function");if(l&&""!==l.trim()){var d=Fg.execFunc(l,[s,t]);d.valid&&(s=d.result)}}return s}a.val(e)},text:function(){if(!(a.length>1))return""==(i=a.text())&&""!=a.parent().text()?a.parent().text():i;for(var e=0;e<a.length;e++){var t=$(a[e]);if("radio"==t.attr("type")){if(a[e].checked)return""==(i=t.text())&&""!=t.parent().text()?t.parent().text():i}else{var i,r=a.val();if(t.val()==r)return i=t.text()}}}};return i.g=i.get,i.c=i.change,i.v=i.val,i.t=i.text,i}};return t.f=t.form,t.fd=t.data,t.fb=t.bind,t.f=t.form,t.fc=t.formContainer,t.p=t.property,t.s=t.serialize,t},this.clearSchemaActivityArea=function(e,t,a){Ee(t)&&(t=!0),Ee(a)&&(a=!0);var i=u[e];if(null!=i){if(void 0!==i.details.form&&t){var r=i.details.form.id;Be(r).hide()}if(a&&!Ee(i.details.viewer)&&0!=i.details.viewer.length)for(var n=0;n<i.details.viewer.length;n++){var s=i.details.viewer[n];0!=Be(s.id).length&&$.fn.DataTable.fnIsDataTable(Be(s.id))?(Be(s.id).dataTable().fnDestroy(),Be(s.id).off(),Be(s.id).empty(),Be(s.id).parent().hide()):Be(s.id).length>0&&(Be(s.id).empty(),Be(s.id).parent().hide())}}},this.plusminuslistfuncLoadMore=function(e,t,a){if("a"==a.nodeName.toLowerCase()||"button"==a.nodeName.toLowerCase()){var i=$(document.getElementById(a.getAttribute("list_value_cls")+"_cont")),r=a.getAttribute("list_value_cls"),n=r,s=1*i.attr("faug-tot-size"),o=1*i.attr("faug-curr-size"),l=i.attr("faug-offset");"."==(n=(n=(n=(n=n.replace(t,"")).replace(/\[/g,"")).replace(/\]/g,".")).replace(/'/g,"")).charAt(n.length-1)&&(n=n.substr(0,n.length-1));var d=F[r];if(o<d.length){var c=1*o+1*l;c>d.length&&(c=d.length);for(var f=o;f<c;f++){var m;u[t].details.form.custom&&u[t].details.form.custom.properties&&(m=u[t].details.form.custom.properties),qt(void 0,u[t].details,r,!0,d[f],m).insertBefore(a);var g=o;Et(a.getAttribute("list_value_cls")+"["+g+"]",u[t].details)}Et(a.getAttribute("list_value_cls")+"["+c-1+"]",u[t].details,a.getAttribute("list_value_cls")+"_cont"),c==s?(a.setAttribute("current",c),i.attr("faug-curr-size",c),$(a).remove()):(a.setAttribute("current",c),i.attr("faug-curr-size",c))}}return e.preventDefault(),!1},this.pmlflm=this.plusminuslistfuncLoadMore,this.plusminuslistfunc=function(e,t,a,i){if("a"==a.nodeName.toLowerCase()||"button"==a.nodeName.toLowerCase()){var r=$(document.getElementById(a.getAttribute("list_value_cls")+"_cont")),n=a.getAttribute("list_value_cls"),s=w[n];if(s.callbacks&&s.callbacks.isAddRemove)if((c=Fg.execFunc(s.callbacks.isAddRemove,[i,t])).valid&&!1===c.result)return!1;var o,l=1*r.attr("faug-curr-size");u[t].details.form.custom&&u[t].details.form.custom.properties&&(o=u[t].details.form.custom.properties);var d=null;if(i&&s.callbacks)if(s.callbacks.initDataGvar&&Fg.g(s.callbacks.initDataGvar))d=Fg.g(s.callbacks.initDataGvar);else if(s.callbacks.initData){var c;(c=Fg.execFunc(s.callbacks.initData,[])).valid&&c.result&&(d=c.result)}var f=qt($(e.currentTarget),u[t].details,n,i,d,o);if(i){$(document.getElementById(n+"_cont")).append(f);var m=l;Fg.execCallBack(s.callbacks,"addItem",[!0,f]),Et(a.getAttribute("list_value_cls")+"["+m+"]",u[t].details,a.getAttribute("list_value_cls")+"_cont")}else{m=l;Fg.execCallBack(s.callbacks,"removeItem",[!1,f]),Et(a.getAttribute("list_value_cls")+"["+m+"]",u[t].details,a.getAttribute("list_value_cls")+"_cont")}}return e.preventDefault(),!1},this.pmlf=this.plusminuslistfunc,this.getPropValue=function(e,t){var a=e.serializeObject();return-1!=t.indexOf("[")&&(t=t.replace(/\[/g,".").replace(/\]/g,"").replace(/'/g,"")),lt(a,t)};var Ht=this.getPropValue;this.validateElement=function(e,t,a,i){if(!a&&u[e]&&u[e].details&&u[e].details.form&&(a=Fg.byId(u[e].details.form.id)).length>0&&a.removeClass("faug-form-error"),u[e]){var r=u[e];r=zt(r,t);var n=t.split("."),s=e;if(""!=t.trim())for(var o=0;o<n.length;o++)s+="['"+n[o]+"']";if(r)if("object"==r.type||"array"==r.type){var l=r.properties;i=!0===i?i&&r.validateHiddenElements:r.validateHiddenElements;var d=!1;for(var c in!l&&r.items&&(l=r.items.properties,d=!0),l)if(l.hasOwnProperty(c)){var f=l[c];if(!f)continue;if("object"==f.type||"array"==f.type){Jt(e,t&&""!=t?t+"."+c:c,a);continue}var m=_[s];if(m>=0&&d)for(o=0;o<m;o++){var g=$(document.getElementsByName(s+"["+o+"]['"+c+"']")),h=Be(s+"["+o+"]['"+c+"']_cont");if((i||h.is(":visible"))&&f.validations){var p=g.length>0?Ht(h,s+"."+o+"."+c):void 0;if(!/true|yes|1/.test(f.required)&&Fg.isN(p))continue;var v=g.length>0?[!0,Ht(h,s+"."+o+"."+c)]:void 0;if((w=qe(f.validations,g,v))[0]){if("helpText"==f.validations.errorselector){F=h.find(".help-block");h.removeClass("has-error"),h.addClass("has-success")}}else{a.addClass("faug-form-error");var y=w[1],b="";for(o=0;o<y.length;o++)if(y[o]){b+=y[o]+"<br/>";break}if("helpText"==f.validations.errorselector)(F=h.find(".help-block")).html(b),F.show(),h.addClass("has-error"),h.removeClass("has-success");1!=g.length||"text"!=g.attr("type")&&"number"!=g.attr("type")&&"url"!=g.attr("type")&&"email"!=g.attr("type")||g.val("")}}}else{g=$(document.getElementsByName(s+"['"+c+"']")),h=Be(s+"['"+c+"']_cont");if(!i&&!h.is(":visible"))continue;if(f.validations){p=g.length>0?Ht(h,s+"."+c):void 0;if(!/true|yes|1/.test(f.required)&&Fg.isN(p))continue;v=g.length>0?[!0,Ht(h,s+"."+c)]:void 0;if((w=qe(f.validations,g,v))[0]){if("helpText"==f.validations.errorselector){F=h.find(".help-block");h.removeClass("has-error"),h.addClass("has-success")}}else{a.addClass("faug-form-error");for(y=w[1],b="",o=0;o<y.length;o++)if(y[o]){b+=y[o]+"<br/>";break}if("helpText"==f.validations.errorselector)(F=h.find(".help-block")).html(b),F.show(),h.addClass("has-error"),h.removeClass("has-success");1!=g.length||"text"!=g.attr("type")&&"number"!=g.attr("type")&&"url"!=g.attr("type")&&"email"!=g.attr("type")||g.val("")}}}}}else{g=$(document.getElementsByName(s)),h=Be(s+"_cont");if(i||h.is(":visible")){if(r.validations){var w;p=g.length>1?Ht(h,s+"."+c):void 0;if(/true|yes|1/.test(r.required)||!Fg.isN(p))if((w=qe(r.validations,g,v))[0]){if("helpText"==r.validations.errorselector){F=h.find(".help-block");h.removeClass("has-error"),h.addClass("has-success")}}else{a.addClass("faug-form-error");var F;for(y=w[1],b="",o=0;o<y.length;o++)if(y[o]){b+=y[o]+"<br/>";break}if("helpText"==r.validations.errorselector)(F=h.find(".help-block")).html(b),F.show(),h.addClass("has-error"),h.removeClass("has-success");1!=g.length||"text"!=g.attr("type")&&"number"!=g.attr("type")&&"url"!=g.attr("type")&&"email"!=g.attr("type")||g.val("")}}}else;}}return!a.hasClass("faug-form-error")};var Jt=this.validateElement;this.ve=this.validateElement,$.fn.serializeAnything=function(e,t,a){var i=!t||!1===t,r=[],n={},s=!0===a,o=s?$(this).find("[name]").get():$(this).find(":input").get();for(var l in $.each(o,(function(){if(("yes"===$(this).attr("faug-transient")&&i||!$(this).attr("faug-transient"))&&$(this).attr("name")&&(s||this.checked||/select|textarea/i.test(this.nodeName)||/text|number|email|url|hidden|file|password/i.test(this.type)||"DIV"==this.nodeName&&"true"===$(this).parent().attr("faug-read-only"))){var t=$(this);/select/i.test(this.nodeName)&&!0!==t.prop("multiple")&&(t=$(this.options[this.selectedIndex>-1?this.selectedIndex:0]));var a=t.val();if("true"===$(this).parent().attr("faug-read-only"))a=t.html();else if($(this).attr("faug-serialize-position")){var r=$(this).attr("faug-serialize-position");"text"==r?a=t.text():"html"==r?a=t.html():"value"!=r&&(a=t.attr(r));var o=t.attr("faug-serialize-function");if(o&&""!==o.trim()){var l=Qe(o,[a,$(this)]);l.valid&&(a=l.result)}}var d=$(this).attr("name");if(d||"true"!==$(this).parent().attr("faug-read-only")||(d=$(this).attr("name")),void 0!==e&&""!=e){if(0!=d.indexOf(e))return;d=d.replace(e,"")}"["==d.charAt(0)&&"'"==d.charAt(1)&&(d=d.replace("['","").replace("']","")),void 0!==this.data&&(a=this.data),this.checked&&!0===t.prop("multiple")&&(De("Array",n[d])?n[d].push(a):a=[a]),n[d]||(n[d]=a)}})),n)n.hasOwnProperty(l)&&r.push({name:l,value:n[l]});return r},$.fn.serializeObject=function(e,t,a){for(var i=!t||!1===t,r=$(this).find("input[name],textarea[name],select[name]"),n={},s=0;s<r.length;s++){var o=r.eq(s),l=o.prop("tagName");if(("INPUT"!=l||!/radio|checkbox/i.test(o.attr("type"))||o[0].checked)&&("yes"===o.attr("faug-transient")&&i||!o.attr("faug-transient"))){var d=o.attr("name");e&&-1!=d.indexOf(e)&&(d=d.replace(e,"")),"SELECT"==l&&!0!==o.prop("multiple")&&(o=$(o[0].options[o[0].selectedIndex>-1?o[0].selectedIndex:0]));var c=o.val();if(o.length>0&&void 0!==o[0].data&&(c=o[0].data),o.attr("faug-serialize-position")){var u=o.attr("faug-serialize-position");"text"==u?c=o.text():"html"==u?c=o.html():"value"!=u&&(c=o.attr(u));var f=o.attr("faug-serialize-function");if(f&&""!==f.trim()){var m=Fg.execFunc(f,[c,o]);m.valid&&(c=m.result)}}var g=o.length>0&&o[0].checked&&!0===o.prop("multiple");if(""==c||null==c)continue;for(var h=d.split(/\[|\]/).filter((function(e){return e})),p=n,v=0;v<h.length-1;v++)-1!=h[v].indexOf("'")&&(h[v]=h[v].replace(/'/g,"")),isNaN(h[v+1])?p[h[v]]=p[h[v]]||{}:p[h[v]]=p[h[v]]||[],p=p[h[v]];-1!=h[h.length-1].indexOf("'")&&(h[h.length-1]=h[h.length-1].replace(/'/g,"")),isNaN(h[v])?g?De("Array",p[h[h.length-1]])?p[h[h.length-1]].push(c):p[h[h.length-1]]=[c]:p[h[h.length-1]]=c:g?De("Array",p[1*h[h.length-1]])?p[1*h[h.length-1]].push(c):p[1*h[h.length-1]]=[c]:p[1*h[h.length-1]]=c}}return n},$.fn.serializeAnyObject=function(e,t,a){for(var i=!t||!1===t,r=$(this).find((a||"")+"[name]"),n={},s=0;s<r.length;s++){var o=r.eq(s);if("yes"===o.attr("faug-transient")&&i||!o.attr("faug-transient")){var l=o.attr("name");e&&-1!=l.indexOf(e)&&(l=l.replace(e,""));var d=o.val();if(o.length>0&&void 0!==o[0].data&&(d=o[0].data),o.attr("faug-serialize-position")){var c=o.attr("faug-serialize-position");"text"==c?d=o.text():"html"==c?d=o.html():"value"!=c&&(d=o.attr(c));var u=o.attr("faug-serialize-function");if(u&&""!==u.trim()){var f=Fg.execFunc(u,[d,o]);f.valid&&(d=f.result)}}var m=o.length>0&&!0===o.prop("multiple");if(""==d||null==d)continue;for(var g=l.split(/\[|\]/).filter((function(e){return e})),h=n,p=0;p<g.length-1;p++)-1!=g[p].indexOf("'")&&(g[p]=g[p].replace(/'/g,"")),isNaN(g[p+1])?h[g[p]]=h[g[p]]||{}:h[g[p]]=h[g[p]]||[],h=h[g[p]];-1!=g[g.length-1].indexOf("'")&&(g[g.length-1]=g[g.length-1].replace(/'/g,"")),isNaN(g[p])?m?De("Array",h[g[g.length-1]])?h[g[g.length-1]].push(d):h[g[g.length-1]]=[d]:h[g[g.length-1]]=d:m?De("Array",h[1*g[g.length-1]])?h[1*g[g.length-1]].push(d):h[1*g[g.length-1]]=[d]:h[1*g[g.length-1]]=d}}return n},$.fn.serializeAttrs=function(e,t,a,i,r){for(var n=a?{}:[],s=i?$(this.find("*")):$(this),o=0;o<s.length;o++){for(var l=s[o].attributes,d=a?n:{},c=0;c<l.length;c++)if((!r||!/class|style|id|name|type|require|autocomplete/i.test(l[c].nodeName))&&(Ee(e)||l[c].nodeName.startsWith(e))){var u=Ee(e)?l[c].nodeName:l[c].nodeName.substring(e.length);dt(d,u,l[c].nodeValue,t)}a||n.push(d)}return n},this.fileDownload=function(e,t){if(t){var a=document.createElement("a"),i=document.createEvent("MouseEvents");a.href=e,a.download=e.slice(e.lastIndexOf("/")+1),i.initMouseEvent("click",!0,!1,self,0,0,0,0,0,!1,!1,!1,!1,0,null),a.dispatchEvent(i)}else{e="data:application/octet-stream,"+e;$("<iframe/>").attr("src",e).hide().appendTo("body")}};this.fileDownload;this.fld=this.fileDownload,this.uploadMultipartForm=function(e,t,a,i,r,n,s,o){var l=$(document.getElementById(s));const d=new FormData(document.getElementById(e));var c={url:t,method:"POST",type:"POST",data:d,cache:!1,contentType:!1,processData:!1,success:r,error:n,headers:a,xhr:function(){return myXhr=$.ajaxSettings.xhr(),d.fake&&(myXhr.send=xhr.sendAsBinary,c.contentType="multipart/form-data; boundary="+data.boundary,c.data=d.toString()),myXhr.upload&&l.length>0&&myXhr.upload.addEventListener("progress",function(e,t){return function(a){if(a.lengthComputable){var r=a.loaded/a.total,n=void 0;i&&i.callbacks&&i.callbacks.hanldeUpdateProgress&&(n=Ye(void 0,i.callbacks.hanldeUpdateProgress,t)),n&&n.valid&&!n.result||("progress"==e.prop("tagName").toLowerCase()?e.attr("value",100*r):e.css("width",100*r+"%"))}}}(l,o),!1),myXhr}};return $.ajax(c),!1};var Wt=this.uploadMultipartForm;function Xt(e,t){return De("String",e)?(t&&'"'!=t?"'"==t&&(e=e.replace(/'/g,"\\'")):e=e.replace(/"/g,"&#34;"),e):e}function Gt(e,t){return this.d=new Date,e&&(t?(this.d=Fg.parseDate(e,t),this.d||(this.d=new Date)):e?Fg.is("Date",e)?isNaN(e.getTime())||(this.d=new Date(e.getTime())):isNaN(e)||(this.d=new Date(parseInt(e))):this.d=new Date),this.elaspsedString=function(e,t,a,i,r){i=!0===i,r=!0===r;var n=!0,s=!0,o=!0,l=!0,d=!0,c=!0,u=!0,f=!0,m=!0,g=!0,h="ago",p="later",v=!1,y=!1;Fg.isN(t)||(n=!0===t.y,s=!0===t.m,o=!0===t.w,l=!0===t.d,d=!0===t.h,c=!0===t.mi,u=!0===t.s,f=!0===t.ms,m=!0===t.sd||!0===n||!0===s||!0===o||!0===l,g=!0===t.st||!0===d||!0===c||!0===u||!0===f,h=void 0===t.pastCode||""==t.pastCode.trim()?"ago":t.pastCode.trim(),p=void 0===t.futureCode||""==t.futureCode.trim()?"later":t.futureCode.trim(),v=!0===t.pastPrefix,y=!0===t.futurePrefix);var b=Fg.getDateUtil().diff(e,a||new Date),_=b.isNegative(),w=_?p:h,F=_?y:v;y===v&&(F=!1,w="");var x="";if(m){n&&Math.abs(b.years())>=1&&(x+=Math.abs(b.years()),x+=r?"y ":" years"),s&&Math.abs(b.months())>=1&&(x+=(i&&x.length>0?", ":"")+Math.abs(b.months()),x+=r?"m ":" months");var O=Math.abs(b.days());if(o&&Math.abs(b.weeks())>=1){var $=Math.floor(b.weeks());x+=(i&&x.length>0?", ":"")+$,x+=r?"w ":" weeks",O=7*(Math.abs(b.weeks())-$)}l&&O>=1&&(x+=(i&&x.length>0?", ":"")+Math.floor(O),x+=r?"d ":" days")}return g&&(d&&Math.abs(b.hours())>=1&&(x+=(i&&x.length>0?", ":"")+Math.abs(b.hours()),x+=r?"h ":" hrs"),c&&Math.abs(b.minutes())>=1&&(x+=(i&&x.length>0?", ":"")+Math.abs(b.minutes()),x+=r?m?"mi ":"m ":" mins"),u&&Math.abs(b.seconds())>=1&&(x+=(i&&x.length>0?", ":"")+Math.abs(b.seconds()),x+=r?"s ":" sec"),f&&Math.abs(b.milliseconds())>=1&&(x+=(i&&x.length>0?", ":"")+Math.abs(b.milliseconds()),x+=r?"ms ":" ms")),(F?w+" ":"")+x+(F?"":" "+w)},this.day=function(t){if(!t)return this.d.getDay();e.setDate(t)},this.month=function(t){if(!t)return this.d.getMonth();e.setMonth(t)},this.year=function(t){if(!t)return this.d.getFullYear();e.setFullYear(t)},this.hour=function(t){if(!t)return this.d.getHours();e.setHours(t)},this.minute=function(t){if(!t)return this.d.getMinutes();e.setMinutes(t)},this.second=function(t){if(!t)return this.d.getSeconds();e.setSeconds(t)},this.millisecond=function(t){if(!t)return this.d.getMilliseconds();e.setMilliseconds(t)},this.toDate=function(){return this.d},this.date=function(){return this.d},this.diff=function(e,t){var a=e,i=t;t||(t=e,e=this),e&&void 0!==e.toDate&&(a=e.toDate()),t&&void 0!==t.toDate&&(i=t.toDate());var r=!1,n=new Date(i-a);if(n.toISOString().slice(0,4)-1970<0){var s=i;i=a,a=s,n=new Date(i-a),r=!0}return new function(e,t){var r=e,n=0,s=0,o=0,l=0,d=0,c=0,u=0,f=e.getTime()/864e5;if(De("Date",r)&&!isNaN(r.getTime())){if(Math.abs(r.getTime())<864e5){var m=Math.abs(r.getTime());n=0,s=0,o=0,m-=36e5*(l=Math.floor(m/36e5)*(t?-1:1)),m-=6e4*(d=Math.floor(m/6e4)*(t?-1:1)),c=Math.floor(m/1e3)*(t?-1:1),u=m-1e3*c*(t?-1:1)}else 864e5==Math.abs(r.getTime())?(n=0,s=0,o=t?-1:1,l=0,d=0,c=0,u=0):(n=(r.toISOString().slice(0,4)-1970)*(t?-1:1),s=r.getMonth()*(r.getMonth()>0&&t?-1:1),o=r.getDate()*(r.getDate()>0&&t?-1:1),l=r.getHours()*(r.getHours()>0&&t?-1:1),d=r.getMinutes()*(r.getMinutes()>0&&t?-1:1),c=r.getSeconds()*(r.getSeconds()>0&&t?-1:1),u=r.getMilliseconds()*(r.getMilliseconds()>0&&t?-1:1),a.getYear()!=i.getYear()?(a.getDate()==i.getDate()&&(o=0),a.getMonth()==i.getMonth()&&(s=0)):a.getMonth()==i.getMonth()?(s=0,o=i.getDate()-a.getDate()):(s=i.getMonth()-a.getMonth(),i.getDate()<a.getDate()?(s-=1,o=a.getDate()-i.getDate()):o=i.getDate()-a.getDate()));t&&s>0&&(s=-s),t&&o>0&&(o=-o)}return this.isNegative=function(){return t},this.years=function(e){return!0===e?f/365:n},this.months=function(e){return!0===e?f/4380:s},this.weeks=function(e){return(!0===e?f/30660:o/7)*(t?-1:1)},this.days=function(e){return!0===e?f:o},this.hours=function(e){return!0===e?24*this.days(e):l},this.minutes=function(e){return!0===e?60*this.hours(e):d},this.seconds=function(e){return!0===e?60*this.minutes(e):c},this.milliseconds=function(e){return!0===e?1e3*this.seconds(e):u},this}(n,r)},this.add=function(e,t){e=parseInt(e);var a=0;switch(t){case"days":a=24*e,this.add(a,"hours");break;case"hours":a=60*e,this.add(a,"minutes");break;case"weeks":a=7*e,this.add(a,"days");break;case"minutes":a=60*e,this.add(a,"seconds");break;case"seconds":a=1e3*e,this.add(a,"milliseconds");break;case"months":(e+=this.d.getUTCMonth())/12>0&&(this.add(e/12,"years"),e%=12),this.d.setUTCMonth(e);break;case"milliseconds":this.d.setTime(this.d.getTime()+e);break;case"years":this.d.setFullYear(this.d.getUTCFullYear()+e);break;default:throw new Error("Invalid date increment passed")}return this},this.plus=function(e,t){return this.add(e,t),this},this.subtract=function(e,t){return this.add(-e,t),this},this.minus=function(e,t){return this.add(-e,t),this},this.format=function(e){return Fg.getDate(this.d,e)},this.startOfDay=function(){var e=new Date(this.d.getTime());return e.setHours(0,0,0,0),e},this.endOfDay=function(){var e=new Date(this.d.getTime());return e.setHours(23,59,59,999),e},this.calculateAge=function(e){var t,a=new Date;return a.setHours(0,0,0,0),e.setHours(0,0,0,0),((t={years:(t=diff(e,a)).years(),months:t.months(),days:t.days()}).years>0||0==t.months)&&1==t.days&&(t.days=0),t},this}this.umf=this.uploadMultipartForm,this.check=null,this.__check=function(){var e=!0;for(var t in this.base64Files)this.base64Files.hasOwnProperty(t)&&(e&=this.base64Files[t].status);e?clearTimeout(this.check):this.check=setTimeout(this.__check,500)},this.eventEnergize=function(e,t,a,i){u[e]&&Ye(u[e].crud[t].callbacks,a,[i])},this.evz=this.eventEnergize,this.convertDate=function(e){return Fg.getDate(new Date(e),C)},this.parseDate=function(e,a){return a||(a=C),t.parseDate(e,a)},this.getDateFromFmt=function(e,a,i){return i=i||C,e=t.parseDate(e,i),Fg.getDate(e,a)},this.gdff=this.getDateFromFmt,this.getDateUtil=function(e,t){return new Gt(e,t)},this.date=this.getDateUtil,this.d=this.getDateUtil,this.dateDiff=function(e,t){return new Gt(e).diff(t)},this.elapsedDuration=function(e,t,a){return new Gt(e).diff(t).elaspsedString(a)},this.getDate=function(e,a){a||C||(a=C);var i=t.formatDate(e,a);return!a||-1==a.indexOf("HH:")&&-1==a.indexOf("mm:")||-1==i.indexOf(".")||(i=i.replace(/\./g,":")),i},this.gd=this.getDate,this.getDateTime=function(e){fmt||(fmt=C);var a=t.formatDate(e,P);return-1==fmt.indexOf("HH:")&&-1==fmt.indexOf("mm:")||-1==a.indexOf(".")||(a=a.replace(/\./g,":")),a},this.gdt=this.getDateTime,this.formatNumber=function(e){return isNaN(e)?e:(e*=1,t.formatNumber(e))},this.parseNumber=function(e){return t.parseNumber(e)},this.formatCurrency=function(e,a,i){return isNaN(e)?e:(e*=1,t.formatNumber(e,a||ae,i))},this.getTime=function(e){fmt||(fmt=C);var a=t.formatDate(e,j);return-1==fmt.indexOf("HH:")&&-1==fmt.indexOf("mm:")||-1==a.indexOf(".")||(a=a.replace(/\./g,":")),a},this.gt=this.getTime;var Yt=function(e){var t=$("");return e&&(t=e.closest(".faug-valid-row")),t.data("data")};this.getFaugValidRowData=Yt,this.gfvrd=this.getFaugValidRowData,this.includeTemplate=function(e,t){var a=p[e].apply(null,[t]);return a||""};var Qt=this.includeTemplate;this.getModel=function(e){return this.ele=e,this.data=Yt(e),this.update=function(e,t,a){(a||this.ele).replaceWith(Qt(e,t))},this};this.getModel;this.gm=this.getModel;var Kt=void 0;this.routeTo=function(e,t){if(e&&""!=e.trim()){var a=document.location+"";if(0==e.indexOf("#")&&(e=e.substring(1)),-1!=a.indexOf("#")&&e){var i=a.substring(a.indexOf("#")+1);if(a=a.substring(0,a.indexOf("#")),a+="#"+e,i==e)return aa(void 0),void(t&&t());document.location=a}else a+="#"+e,document.location=a;t&&(Kt=t)}};var Zt=this.routeTo;this.r=this.routeTo,this.getRoute=function(e){var t=document.location+"";return t=-1!=t.indexOf("#")?t.substring(t.indexOf("#")+1):"",!0===e?t:Fe&&-1!=t.indexOf(":")?t.substring(t.indexOf(":")+1):t};this.getRoute;this.gr=this.routeTo,this.getPrevRoute=function(e){var t=a;return t?(t=-1!=t.indexOf("#")?t.substring(t.indexOf("#")+1):"",!0===e?t:Fe&&-1!=t.indexOf(":")?t.substring(t.indexOf(":")+1):t):""},this.defaultRoute=function(){""!=D.defaultroute&&void 0!==D.defaultroute&&null!==D.defaultroute&&Zt(D.defaultroute)};var ea=this.defaultRoute;this.df=this.defaultRoute,this.firstRoute=function(){""!=D.firstroute&&void 0!==D.firstroute&&null!==D.firstroute&&Zt(D.firstroute)};this.firstRoute;this.fr=this.firstRoute,this.prevRoute=function(){Zt(a)};this.prevRoute;this.pr=this.prevRoute,this.getUrlParameters=function(e){var t={};return(e=e||location.search).substr(1).split("&").forEach((function(e){var a=e.split("="),i=a[0],r=a[1]&&decodeURIComponent(a[1]);i in t?t[i].push(r):t[i]=[r]})),t};this.getUrlParameters;this.gup=this.getUrlParameters,this.getUrlParameterByName=function(e){var t=RegExp("[?&]"+e+"=([^&]*)").exec(window.location.search);return t&&decodeURIComponent(t[1].replace(/\+/g," "))};var ta=this.getUrlParameterByName;this.gupbn=this.getUrlParameterByName,this.getCookies=function(){var e={};return document.cookie.split("&").forEach((function(t){var a=t.split("="),i=a[0],r=a[1]&&decodeURIComponent(a[1]);i in e?e[i].push(r):e[i]=[r]})),e};this.getCookies;this.gcs=this.getCookies,this.getCookie=function(e){var t=RegExp("[;]*"+e+"=([^;]*)").exec(document.cookie);return t&&decodeURIComponent(t[1].replace(/\+/g," "))};this.getCookie;this.gc=this.getCookie,this.getXPath=function(e){var t=[];if(e.attr("id"))return'//*[@id="'+e.attr("id")+'"]';for(var a=e.parents(),i=0;i<a.length;i++){if($(a[i]).attr("id")){t.push('*[@id="'+$(a[i]).attr("id")+'"]');break}if(i+1<a.length&&$(a[i+1]).children($(a[i]).prop("tagName")).length>1){var r=$(a[i+1]).children($(a[i]).prop("tagName")),n=-1;for(n=0;n<r.length&&$(r[n])[0]!=$(a[i])[0];n++);t.push($(a[i]).prop("tagName")+"["+(n+1)+"]")}else t.push($(a[i]).prop("tagName"))}if(e.parent()&&e.parent().children(e.prop("tagName")).length>1){r=e.parent().children(e.prop("tagName")),n=-1;for(n=0;n<r.length&&$(r[n])[0]!=e[0];n++);t.unshift(e.prop("tagName")+"["+(n+1)+"]")}else t.unshift(e.prop("tagName"));return t.reverse(),"//"+t.join("/")},this.xpathToCssSelector=function(e){return e.replace(/\[(\d+?)\]/g,(function(e,t){return"["+t+"]"})).replace(/\/{2}/g,"").replace(/\/+/g," > ").replace(/@/g,"").replace(/\[(\d+)\]/g,":nth-of-type($1)").replace(/^\s+/,"")},this.handleRoute=function(e,t){t||(t=!1);var a,i=document.location+"",n=(i=-1!=i.indexOf("#")?i.substring(i.indexOf("#")+1):"").split("/"),s={},o=void 0,l=D.routes[n[0]];if(De("Array",l)){for(var d,c,u=0;u<l.length;u++){var f=D.fragments[n[0]][u];if(void 0===d&&(d=f.length,c=u,s={},a=void 0,o=void 0),f.length<d&&(d=f.length,c=u,s={},a=void 0,o=void 0),p=f.length==n.length-1)for(var m=1;m<f.length+1;m++){var g=n[m];-1!=(h=f[m-1]).indexOf("a:")?s[h.substring(h.indexOf("a:")+2)]=decodeURI(n[m]):p&=h=="v:"+g}if(p){a=l[u],o=n[0];break}}a||(a=l[c],o=n[0])}else if(l){if(a=l,o=n[0],(f=D.fragments[n[0]]).length>0&&n.length>1)for(u=1;u<f.length+1;u++){var h;g=n.length>u?n[u]:void 0;if(-1!=(h=f[u-1]).indexOf("a:"))s[h.substring(h.indexOf("a:")+2)]=decodeURI(n[u]);else var p=h=="v:"+g}}return a&&(!1===a.secure||Ee(D.secure)||!1===D.secure||!0===D.secure&&!Ee(b))?(t||(x[Y]=s,r=o,D.process&&window[D.process]?Fg.execFunc(D.process,[He(a),e],!0):He(a)(e)),[!0,a.secure]):(t||(r=o,ea()),[!1,void 0])};var aa=this.handleRoute;this.hr=this.handleRoute,this.handleRouteEvent=function(e){Z=void 0,a=i,i=location.hash,Faug.handleRoute(e),Faug.execFunc("onRouteChange",[a,location.hash,e])};this.handleRouteEvent;this.hre=this.handleRouteEvent,this.loadLocale=function(e,a){t.reInitIntlLib(e,a)};this.loadLocale;function ia(e,t){if("string"==typeof t){for(var a=t,i=0;-1!=a.indexOf("%%Fg.g(",i);){var r=a.indexOf("%%Fg.g(",i);if(r>=0){var n=a.indexOf(")",r+7),s=a.substring(r+7,n);void 0!==x[s]&&""!=x[s]&&(a=a.substring(0,r)+x[s]+a.substring(n+1))}i=r+1}for(i=0;-1!=a.indexOf("%%Fg.t(",i);){if((r=a.indexOf("%%Fg.t(",i))>=0){n=a.indexOf(")",r+7),s=a.substring(r+7,n);a=a.substring(0,r)+Fg.t(s)+a.substring(n+1)}i=r+1}return a}return t}function ra(e,t,a,i){let r=!1;if(t.compressedSchemas&&De("String",t.compressedSchemas)&&""!=t.compressedSchemas.trim()&&t.compressedSchemaHtmlTemplates&&De("String",t.compressedSchemaHtmlTemplates)&&""!=t.compressedSchemaHtmlTemplates.trim()||t.compressedCompiledSchemaHtmlTemplates&&De("String",t.compressedCompiledSchemaHtmlTemplates)&&""!=t.compressedCompiledSchemaHtmlTemplates.trim()){try{var n=JSON.parse(t.compressedSchemas);if(a&&a.schemas)for(var s in n)n.hasOwnProperty(s)&&a.schemas[s]&&(n[s].details.name=a.schemas[s],n[a.schemas[s]]=n[s],delete n[s]);for(var s in n)if(n.hasOwnProperty(s)){var o=JSON.stringify(n[s],ia);try{o=JSON.parse(o);try{bt(o,!1,!1,!1,!1,!1,!1)}catch(e){console.log("Problem in onSchemaLoad for schema "+s+", error = "+e)}}catch(e){console.log("Problem templatizing schema "+s+", error = "+e)}}}catch(e){console.log("Problem parsing compressed schema"),u={}}if(t.compressedCompiledSchemaHtmlTemplates)try{var l=JSON.parse(t.compressedCompiledSchemaHtmlTemplates);for(var d in r=!0,l)if(l.hasOwnProperty(d)&&!(d in p)){var c=l[d][0];0==(f=l[d][1])?kt(d,c,{rows:null,options:null}):1==f||2==f?kt(d,c,{isTransient:null,elName:null,rows:null,selectedVal:null,details:null,vars:null,options:null}):3==f||5==f?kt(d,c,l[d][2]):4==f?kt(d,c,l[d][2],4):6==f&&kt(d,c,{})}}catch(e){console.log("Problem parsing compressedCompiledSchemaHtmlTemplates")}else try{l=JSON.parse(t.compressedSchemaHtmlTemplates);for(var d in r=!0,l)if(l.hasOwnProperty(d)&&!(d in p)){c=l[d][0];0==(f=l[d][1])?kt(d,c,{rows:null,options:null}):1==f||2==f?kt(d,c,{isTransient:null,elName:null,rows:null,selectedVal:null,details:null,vars:null,options:null}):3==f||5==f?kt(d,c,l[d][2]):4==f?kt(d,c,l[d][2],4):6==f&&kt(d,c,{})}}catch(e){console.log("Problem parsing compressed schema HTML templates")}}if(t.compressedSchemas&&De("String",t.compressedSchemas)&&""!=t.compressedSchemas.trim())try{n=JSON.parse(t.compressedSchemas);if(a&&a.schemas)for(var s in n)n.hasOwnProperty(s)&&a.schemas[s]&&(n[s].details.name=a.schemas[s],n[a.schemas[s]]=n[s],delete n[s]);for(var s in n)if(n.hasOwnProperty(s))try{o=JSON.stringify(n[s],ia);o=JSON.parse(o);try{bt(o,!1,!1,!1,!1,!1,!1)}catch(e){console.log("Problem in onSchemaLoad for schema "+s+", error = "+e)}}catch(e){console.log("Problem templatizing schema "+s+", error = "+e)}u=Ft(u,n)}catch(e){console.log("Problem parsing compressed schema"),u={}}if(t.compressedSchemaHtmlTemplates&&De("String",t.compressedSchemaHtmlTemplates)&&""!=t.compressedSchemaHtmlTemplates.trim()||t.compressedCompiledSchemaHtmlTemplates&&De("String",t.compressedCompiledSchemaHtmlTemplates)&&""!=t.compressedCompiledSchemaHtmlTemplates.trim())if(t.compressedCompiledSchemaHtmlTemplates)try{l=JSON.parse(t.compressedCompiledSchemaHtmlTemplates);for(var d in r=!0,l)if(l.hasOwnProperty(d)&&!(d in p)){c=l[d][0];0==(f=l[d][1])?kt(d,c,{rows:null,options:null}):1==f||2==f?kt(d,c,{isTransient:null,elName:null,rows:null,selectedVal:null,details:null,vars:null,options:null}):3==f||5==f?kt(d,c,l[d][2]):4==f?kt(d,c,l[d][2],4):6==f&&kt(d,c,{})}}catch(e){console.log("Problem parsing compressedCompiledSchemaHtmlTemplates")}else try{l=JSON.parse(t.compressedSchemaHtmlTemplates);for(var d in r=!0,l)if(l.hasOwnProperty(d)&&!(d in p)){var f;c=l[d][0];0==(f=l[d][1])?kt(d,c,{rows:null,options:null}):1==f||2==f?kt(d,c,{isTransient:null,elName:null,rows:null,selectedVal:null,details:null,vars:null,options:null}):3==f||5==f?kt(d,c,l[d][2]):4==f?kt(d,c,l[d][2],4):6==f&&kt(d,c,{})}}catch(e){console.log("Problem parsing compressed schema HTML templates")}var m;if(t.schemas||t.templates){if(!ie&&t.schemas&&De("Object",t.schemas))for(var g in m=[],t.schemas)t.schemas.hasOwnProperty(g)&&m.push(t.schemas[g]);if(t.lazySchemas&&De("Object",t.schemas))for(var g in t.lazySchemas)t.lazySchemas.hasOwnProperty(g)&&(L[g]=t.lazySchemas[g]);!ie&&t.templates&&De("Array",t.templates)&&t.templates.length>0&&(l=t.templates)}if(!r&&!0!==t.compressedCompiledSchemaHtmlTemplatesFile&&t.router&&t.router.routes){l||(l=[]);for(const e in t.router.routes){const a=t.router.routes[e];if(Fg.is("Array",a))for(const e of a)e.load&&e.load.template&&l.push([e.load.template,"html",!0,0]);else a.load&&a.load.template&&l.push([a.load.template,"html",!0,0])}}if(m&&m.length>0){var h=function(e,t,a,i){if(t)try{var r=JSON.parse(a.responseText);try{var n=JSON.stringify(r,ia);r=JSON.parse(n)}catch(e){e+=" ("+i[0]+")",console.log("Problem templatizing schema "+e)}var s=bt(r,!1,!1,!1,!1,!1,!1);l=l.concat(s)}catch(e){e+=" ("+i[0]+")",console.log("Problem parsing schema "+e)}};Fg.freezeUI(!0),$.fetchMultipleFilesRawMT(m,h).done((function(){if(Fg.freezeUI(!1),a&&a.schemas)for(var e in u)u.hasOwnProperty(e)&&a.schemas[e]&&(u[e].details.name=a.schemas[e],u[a.schemas[e]]=u[e],delete u[e]);if(l.length>0){for(var t=[],r=0;r<l.length;r++){var n=l[r],s={rows:null,options:null,row:null},o=0;De("Array",l[r])&&("html"==l[r][1]?(n=l[r][0],o=l[r][3]):(n=l[r][0],s=l[r][1],o=l[r].length>2?l[r][2]:0,Fg.isN(l[r][1])||(o=3))),t.push([n,"html",!0,o,s])}Fg.freezeUI(!0),$.fetchMultipleFilesRawMT(t,(function(e,t,a,i){if(t){var r=i[0],n=a.responseText,s=i[3],o=i[4];0==s?kt(r,n,{rows:null,options:null}):1==s||2==s?kt(r,n,{isTransient:null,elName:null,rows:null,selectedVal:null,details:null,vars:null,options:null}):3==s?kt(r,n,o):4==s?kt(r,n,o,4):6==s&&kt(r,n,{})}})).done((function(){Fg.freezeUI(!1),i()})).fail((function(){Fg.freezeUI(!1)}))}else i()})).fail((function(){Fg.freezeUI(!1)}))}else if(l&&l.length>0){for(var v=[],y=0;y<l.length;y++){var b=l[y],_={rows:null,options:null,row:null},w=0;De("Array",l[y])&&("html"==l[y][1]?(b=l[y][0],w=l[y][3]):(b=l[y][0],_=l[y][1],w=l[y].length>2?l[y][2]:0,Fg.isN(l[y][1])||(w=3))),v.push([b,"html",!0,w,_])}h=function(e,t,a,i){if(t){var r=i[0],n=a.responseText,s=i[3],o=i[4];0==s?kt(r,n,{rows:null,options:null}):1==s||2==s?kt(r,n,{isTransient:null,elName:null,rows:null,selectedVal:null,details:null,vars:null,options:null}):3==s?kt(r,n,o):4==s&&kt(r,n,o,4)}};Fg.freezeUI(!0),$.fetchMultipleFilesRawMT(v,h).done((function(){Fg.freezeUI(!1),i()})).fail((function(){Fg.freezeUI(!1)}))}else i()}this.extension=function(){return t},this.registerComponent=function(e,t){if(!e)throw"No name defined for component";if(!t)throw"No component defined";if(t.init&&"function"!=typeof t.init)throw"Init method should be a function if defined";if(t.type&&(!De("String",t.type)||!/schema|viewer|general/.test(t.type)))throw"Type should be one of schema, viewer or general";if("function"!=typeof t.use)throw"No use method defined for component";if(t.destroy&&"function"!=typeof t.destroy)throw"Destroy method should be a function if defined";ue[e]=t},this.initLib=function(){var e=[];(t=new FaugExtensionFactory(Faug)).registerLocale("en");var a=t.getDateLib();if(De("String",a)&&""!=a.trim()&&e.push([a.trim()]),De("Array",a)&&a.length>0)for(var i=0;i<a.length;i++)De("String",a[i])&&""!=a[i].trim()&&e.push([a[i].trim()]);Fg.freezeUI(!0),$.fetchMultipleFilesMT(e).done((function(){Fg.freezeUI(!1),t.registerCurrency("USD"),t.initDateLib(),t.initDateTimePickerLib(),t.initNumCurrLib(),t.initUnitLib(),t.initDialogLib(),t.initIntlLib(ee),t.initTemplateEngineLib(),t.initDomDiff()})).fail((function(e){Fg.freezeUI(!1),alert("Problem loading required files")}))};var na=[];if(this.initRouter=function(r,n){var s=(t=new FaugExtensionFactory(Faug)).getDateFormats();s.dateformat&&(C=s.dateformat),s.datetimeformat&&(P=s.datetimeformat),s.timeformat&&(j=s.timeformat),s.timestampformat&&(I=s.timestampformat);var c=window.layerFile;if(r&&Object.keys(r).length>0){r.dependencies&&Ie(r.dependencies.list,r.dependencies.override),r.settings&&(Fg.is("Boolean",r.settings.debugEnabled)&&(k=r.settings.debugEnabled),r.settings.crudcreatename&&(T=r.settings.crudcreatename),r.settings.crudreadname&&r.settings.crudreadname,r.settings.crudupdatename&&(S=r.settings.crudupdatename),r.settings.cruddeletename&&(A=r.settings.cruddeletename),r.settings.crudreadallname&&(N=r.settings.crudreadallname),r.settings.dateformat&&(C=r.settings.dateformat),r.settings.datetimeformat&&(P=r.settings.datetimeformat),r.settings.timeformat&&(j=r.settings.timeformat),r.settings.timestampformat&&(I=r.settings.timestampformat),Fg.is("Boolean",r.settings.honourLocale)&&(B=r.settings.honourLocale),r.settings.freezeLoaderId&&(E=r.settings.freezeLoaderId),r.settings.freezeLoaderHtml&&(z=r.settings.freezeLoaderHtml),r.settings.initialLoaderScreen&&(R=r.settings.initialLoaderScreen),r.settings.numApiWebWorkers&&(W=r.settings.numApiWebWorkers),r.settings.defaultLanguage&&(Q=r.settings.defaultLanguage),Fg.is("Boolean",r.settings.schemaIntlEnabled)&&(te=r.settings.schemaIntlEnabled),r.settings.defCurrency&&(ae=r.settings.defCurrency),Fg.is("Boolean",r.settings.crossDomain)&&(oe=r.settings.crossDomain),r.settings.prefilterRegex&&(le=r.settings.prefilterRegex),window.prefilterRegex&&(le=window.prefilterRegex),r.settings.baseUrl&&(ne=r.settings.baseUrl),window.baseUrl&&(ne=window.baseUrl),r.settings.routerUrl&&(se=r.settings.routerUrl),window.routerUrl&&(se=window.routerUrl),Fg.is("Boolean",r.settings.isRecord)&&(ce=r.settings.isRecord),Fg.is("Boolean",r.settings.recordSilently)&&r.settings.recordSilently,Fg.is("Boolean",r.settings.lazyLoad)&&(ie=r.settings.lazyLoad),Fg.is("Boolean",r.settings.disableContextMenu)&&(ve=r.settings.disableContextMenu),r.settings.layerFile&&(c=r.settings.layerFile),Fg.is("Boolean",r.settings.disableBackForwardButton)&&(ye=r.settings.disableBackForwardButton),Fg.is("Boolean",r.settings.disableBackForwardButtonCompletely)&&(be=r.settings.disableBackForwardButtonCompletely),r.settings.generateCorrelationId&&(de=r.settings.generateCorrelationId),Fg.is("Boolean",r.settings.enableRouteModules)&&(Fe=r.settings.enableRouteModules),Fg.is("Boolean",r.settings.compressedModuleFiles)&&(me=r.settings.compressedModuleFiles),Fg.is("Boolean",r.settings.catchApiUncaughtExceptions)&&(ge=r.settings.catchApiUncaughtExceptions),Fg.is("Boolean",r.settings.tablePagingInfiniteEnabled)&&(Ne=r.settings.tablePagingInfiniteEnabled),r.settings.interceptUncaughtErrors&&(window.onerror=function(e,t,a,i,r){const n=r||e,s=Faug.execFunc("onInterceptError",[n],!0);if(!s.valid)return s.result}),r.settings.interceptConsoleErrors&&(window._console_error_orig=window.console.error,window.console.error=e=>{Faug.execFunc("onInterceptConsoleError",[e],!0),window._console_error_orig(e)})),!0===ye&&(!0===be?(window.history.pushState(null,null,document.URL),window.addEventListener("popstate",(function(){window.history.pushState(null,null,document.URL)}))):window.onbeforeunload=function(){return"Do you really want to navigate away from the application?"}),r.globals&&(x=Ft(x,r.globals)),n&&(x=Ft(x,n)),r.router&&(D=r.router),r.intlmap&&Object.keys(r.intlmap).length>0&&(ee=r.intlmap),r.overrides&&De("Object",r.overrides)&&(pe=r.overrides);var f=!0===window.onlyFaugCore?[]:je;!0===r.compressedScript&&(f=[])}!0!==window.onlyFaugCore||isNaN(window.numApiWebWorkers)||(W=window.numApiWebWorkers),void 0!==sa&&W>0&&!o?o=new sa("w-api-call.js",W,"ApiWorkerPool",(function(e,t){t&&Dt(!1)})):W=0;var m=D.routes;for(var g in D.fragments={},D.aliases)if(D.aliases.hasOwnProperty(g)&&De("Array",D.aliases[g]))for(var h=0;h<D.aliases[g].length;h++)m[D.aliases[g][h]]=m[g];for(var g in m)if(m.hasOwnProperty(g)){var v=m[g];if(!0===v.isTemplate&&De("Array",v.options)&&v.options.length>0&&De("Object",v.routes)){var y=v.routes,_=v.options;for(var w in y)if(y.hasOwnProperty(w)){var F=y[w].props;for(h=0;h<_.length;h++){var O=Fg.copy(y[w]);O.props=void 0;var V={};if(De("Array",_[h]))for(var M=0;M<_[h].length;M++)V["arg"+(M+1)]=_[h][M];else V={arg1:_[h]};var U=Fg.templatize(w,V,!0,void 0,!1);if(De("Array",F)&&F.length>0)for(M=0;M<F.length;M++){var q=lt(O,F[M]);De("String",q)&&(q=Fg.templatize(q,V,!0,void 0,!1),dt(O,F[M],q))}m[U]=O}}delete m[g]}}for(var g in m)if(m.hasOwnProperty(g)){var H=g.split("/"),J=[];for(h=1;h<H.length;h++){var X;H[h]=H[h].trim(),0==H[h].indexOf(":")&&H[h].length>1?(X="a:"+H[h].substring(1),J.push(X)):H[h].length>1&&(X="v:"+H[h],J.push(X))}if(m[H[0]]&&H[0]!==g){var G=m[g];delete m[g],De("Array",m[H[0]])?(m[H[0]].push(G),D.fragments[H[0]].push(J)):(m[H[0]]=[m[H[0]],G],D.fragments[H[0]]=[D.fragments[H[0]],J])}else{G=m[g];delete m[g],m[H[0]]=G,D.fragments[H[0]]=J}}if(!0!==r.compressedScript){var Y=t.getDateLib(B);if(De("String",Y)&&""!=Y.trim()&&f.push([Y.trim()]),De("Array",Y)&&Y.length>0)for(h=0;h<Y.length;h++)De("String",Y[h])&&""!=Y[h].trim()&&f.push([Y[h].trim()]);var K=t.getNumCurrLib();if(De("String",K)&&""!=K.trim()&&f.push([K.trim()]),De("Array",K)&&K.length>0)for(h=0;h<K.length;h++)De("String",K[h])&&""!=K[h].trim()&&f.push([K[h].trim()]);var Z=t.getUnitLib();if(De("String",Z)&&""!=Z.trim()&&f.push([Z.trim()]),De("Array",Z)&&Z.length>0)for(h=0;h<Z.length;h++)De("String",Z[h])&&""!=Z[h].trim()&&f.push([Z[h].trim()]);var ue=t.getDateTimePickerLib();if(De("String",ue)&&""!=ue.trim()&&f.push([ue.trim()]),De("Array",ue)&&ue.length>0)for(h=0;h<ue.length;h++)De("String",ue[h])&&""!=ue[h].trim()&&f.push([ue[h].trim()]);var fe=t.getDialogLib();if(De("String",fe)&&""!=fe.trim()&&f.push([fe.trim()]),De("Array",fe)&&fe.length>0)for(h=0;h<fe.length;h++)De("String",fe[h])&&""!=fe[h].trim()&&f.push([fe[h].trim()]);var he=t.getIntlLib();if(De("String",he)&&""!=he.trim()&&f.push([he.trim()]),De("Array",he)&&he.length>0)for(h=0;h<he.length;h++)De("String",he[h])&&""!=he[h].trim()&&f.push([he[h].trim()]);var _e=t.getTemplateEngineLib();if(De("String",_e)&&""!=_e.trim()&&f.push([_e.trim()]),De("Array",_e)&&_e.length>0)for(h=0;h<_e.length;h++)De("String",_e[h])&&""!=_e[h].trim()&&f.push([_e[h].trim()]);var we=t.getDomDiffLib();if(De("String",we)&&""!=we.trim()&&f.push([we.trim()]),De("Array",we)&&we.length>0)for(h=0;h<we.length;h++)De("String",we[h])&&""!=we[h].trim()&&f.push([we[h].trim()]);if(r.modules&&r.modules.length>0){!0;for(h=0;h<r.modules.length;h++)if(De("String",r.modules[h])&&""!=r.modules[h].trim()&&f.push([r.modules[h].trim()]),De("Array",r.modules[h])&&r.modules[h].length>0)for(M=0;M<r.modules[h].length;M++)De("String",r.modules[h][M])&&""!=r.modules[h][M].trim()&&f.push([r.modules[h][M].trim()])}if(!Q){var Pe=$("html").attr("lang");void 0!==Pe&&""!=Pe.trim()&&(Q=Pe)}Q||(Q="en");var Be=$("html").attr("data-faug-module");if(void 0!==Be&&""!=Be.trim()){!0;var Ee=Be.split(",");for(h=0;h<Ee.length;h++)De("String",Ee[h])&&""!=Ee[h].trim()&&f.push([Ee[h].trim()+".js"])}}function ze(e,t){Fg.freezeUI(!0),$.fetchMultipleFilesRawMT([[e]]).done((function(e){Fg.freezeUI(!1);let a=e[0][2].responseJSON;if(!e[0][2].responseJSON)try{a=JSON.parse(e[0][2].responseText)}catch(e){}Fg.setProperty("cdfs",a),a.table.search&&a.table.search.regex&&(ke=new RegExp(a.table.search.regex),a.table.search.errorFunc&&(Te=a.table.search.errorFunc)),a.search&&a.search.regex&&(xe=a.search.selector,Oe=new RegExp(a.search.regex),a.search.errorFunc&&($e=a.search.errorFunc)),a.input&&a.input.regex&&(Se=new RegExp(a.input.regex),Ae=a.input.errorFunc,Se&&Ae&&$(document).fgOn("input.fg.28","input,textarea",(function(e){if("1"!=$(this).attr("data-rgo"))if($(this).attr("data-regex")&&Ae){if(""!=$(this).val()&&"file"!=$(this).prop("type")&&!new RegExp($(this).attr("data-regex")).test($(this).val()))return Fg.execFunc(Ae,[$(this)]),e.stopPropagation(),!1}else if(""!=$(this).val()&&"file"!=$(this).prop("type")&&!Se.test($(this).val()))return Fg.execFunc(Ae,[$(this)]),e.stopPropagation(),!1}))),a.form.file&&a.form.file.maxSizeMb&&a.form.file.errorFunc&&(l=a.form.file.maxSizeMb,d=a.form.file.errorFunc),t()})).fail((function(e){Fg.freezeUI(!1),alert("Problem loading Faug layer file")}))}if(!0===window.onlyFaugCore)return Faug.execFunc("onBeforeInit",[]),void(De("String",c)&&-1!=c.indexOf(".json")?ze(c,(function(){Faug.init()})):Faug.init());var Ve=$("html").attr("data-route-modules");void 0!==Ve&&/true|1|yes|y|no|false|0/.test(Ve.toLowerCase())&&(Fe=/true|1|yes|y/.test(Ve.toLowerCase())),Fg.isN(ne)||0!=ne.toLowerCase().indexOf("http://")&&0!=ne.toLowerCase().indexOf("https://")||Fg.isN(le)||!(le.length>0)?(le=void 0,ne="",$.ajaxPrefilter((function(e){Faug.execFunc("onBeforeAjaxCall",[e]),!0===oe&&(e.crossDomain=oe)}))):(le=new RegExp(le),$.ajaxPrefilter((function(e){Faug.execFunc("onBeforeAjaxCall",[e]),!Fg.isN(ne)&&le.test(e.url)&&0!=e.url.indexOf(ne)&&(0==e.url.indexOf("/")?e.url=ne+e.url:e.url=ne+"/"+e.url),!0===oe&&(e.crossDomain=oe)})));var Me=function(a,i){if(a&&a.length>0)for(var r=0;r<a.length;r++)if("_schema_config_"==a[r][3][1])try{u={};var n=JSON.parse(a[r][2].responseText);if(n.data){for(var s in n=JSON.parse(n.data))if(n.hasOwnProperty(s)){var o=JSON.stringify(n[s],ia);try{o=JSON.parse(o);try{bt(o,!1,!1,!1,!1,!1,!1)}catch(e){console.log("Problem in onSchemaLoad for schema "+s+", error = "+e)}}catch(e){console.log("Problem templatizing schema "+s+", error = "+e)}}if(pe&&pe.schemas)for(var s in u)u.hasOwnProperty(s)&&pe.schemas[s]&&(u[s].details.name=pe.schemas[s],u[pe.schemas[s]]=u[s],delete u[s])}}catch(e){console.log("Problem parsing compressed schema"),u={}}else if("_tmpl_config_"==a[r][3][1])try{var l=JSON.parse(a[r][2].responseText);if(l.data)for(var d in l=JSON.parse(l.data)){o=l[d];De("String",o)?p[d]=new Function("arg",o):De("Array",o)&&(p[d]=o[0])}}catch(e){console.log("Problem parsing _tmpl_config_"),u={}}else $.globalEval(a[r][2].responseText);if(ie){L=Ft(i.lazySchemas,i.schemas),e={};for(r=0;r<i.templates.length;r++){var c=i.templates[r];De("Array",i.templates[r])&&(c=i.templates[r][0]),e[c]=i.templates[r]}}if(Faug.execFunc("onBeforeInit",[]),ot){ra(0,i,pe,g=function(){var e=Faug.handleRoute(void 0,!0);!1!==e[1]||i.router.firstroute===Faug.getRoute()?(Faug.init(),Faug.firstRoute()):0==e[1]&&Faug.handleRoute(void 0)})}else{var f=ta("flocale");f&&""!=f.trim()&&(Q=f);var m=Q,g=function(){var e=Faug.handleRoute(void 0,!0);!1!==e[1]||i.router.firstroute===Faug.getRoute()?(Faug.init(),Faug.firstRoute()):0==e[1]&&Faug.handleRoute(void 0)},h=function(e,t,a){return function(){ra(0,e,t,a)}},v=t.setInitCompleteCb(h(i,pe,g));t.registerLocale(m),t.registerCurrency(ae),t.initDateLib(),t.initDateTimePickerLib(),t.initNumCurrLib(),t.initUnitLib(),t.initDialogLib(),t.initIntlLib(ee),t.initTemplateEngineLib(),t.initDomDiff(),v||h(i,pe,g)}};if($(window).on("hashchange",(function(e){if(re={},Ce.i&&Ce.i.length>0){for(const e of Ce.i);Ce.i=[],Ce.m={}}Ce={o:null,i:[],pid:null,m:{}};let t=Faug.execFunc("onBeforeRouteChange",[a,location.hash,e,!1]);if(t&&t.valid&&!1===t.result)Fg.alertDialog("Permission Error");else{if(Fe){var r=location.hash.substring(1,location.hash.indexOf(":"));if(""!=r&&-1==na.indexOf(r))return na.push(r),void function(e,t){if(me){let a="fjs-config_"+e+"_s.json",i="fjs-config_"+e+"_t.json";$.fetchMultipleFilesRawMT([[a,"json",!0],[i,"json",!0]]).done((function(e){if(0==e[0][0])try{var a=JSON.parse(e[0][2].responseText);for(var i in a=JSON.parse(a.data))if(a.hasOwnProperty(i)){var r=JSON.stringify(a[i],ia);try{r=JSON.parse(r);try{bt(r,!1,!1,!1,!1,!1,!1)}catch(e){console.log("Problem in onSchemaLoad for schema "+i+", error = "+e)}}catch(e){console.log("Problem templatizing schema "+i+", error = "+e)}}if(pe&&pe.schemas)for(var i in u)u.hasOwnProperty(i)&&u.schemas[i]&&(u[i].details.name=u.schemas[i],u[pe.schemas[i]]=u[i],delete u[i])}catch(e){console.log("Problem parsing compressed schema"),u={}}if(1==e[1][0])try{var n=JSON.parse(e[1][2].responseText);for(var s in n=JSON.parse(n.data))s in p||(r=n[s],De("String",r)?p[s]=new Function("arg",r):De("Array",r)&&(p[s]=r[0]))}catch(e){console.log("Problem parsing templates"),u={}}t()})).fail((function(e){alert("Problem loading compressed module files")}))}else{var a="",i={};b&&("queryparam"==b.aTokenWhere?a="?"+b.aTokenName+"="+b.aTokenValue:"header"!=b.aTokenWhere||i.hasOwnProperty(b.aTokenName)||(i[b.aTokenName]=b.aTokenValue));let r="fjs-config_"+e+".json"+a;$.fetchMultipleFilesRawMT([[r]]).done(function(e,t){return function(e){if(!e[0][2].responseJSON)try{e[0][2].responseJSON=JSON.parse(e[0][2].responseText)}catch(e){}ra(0,e[0][2].responseJSON,void 0,t)}}(0,t)).fail((function(e){alert("Problem loading module files")}))}}(r,function(e,t){return function(){a=i,i=t,Faug.handleRoute(e),Faug.execFunc("onRouteChange",[a,t,e]),Kt&&(Kt(),Kt=void 0)}}(e,location.hash));a=i,i=location.hash,Faug.handleRoute(e),Faug.execFunc("onRouteChange",[a,location.hash,e])}else a=i,i=location.hash,Faug.handleRoute(e),Faug.execFunc("onRouteChange",[a,location.hash,e]);Kt&&(Kt(),Kt=void 0)}})),Faug.getProperty("initialLoaderScreen")&&Fg.freezeUI(!1),!0===r.compressedSchemasFile){delete r.compressedSchemas,delete r.schemas;let e="fjs-config_s.json";f.push([e,"_schema_config_"])}if(!0===r.compressedCompiledSchemaHtmlTemplatesFile){delete r.compressedCompiledSchemaHtmlTemplates,delete r.templates;let e="fjs-config_t.json";f.push([e,"_tmpl_config_"])}De("String",c)&&-1!=c.indexOf(".json")?ze(c,(function(){0==f.length?Me(void 0,r):$.fetchMultipleFilesRawMT(f).done(function(e){return function(t){Me(t,e)}}(r)).fail((function(e){Faug.getProperty("initialLoaderScreen")&&Fg.freezeUI(!1),alert("Problem loading required files")}))})):0==f.length?Me(void 0,r):$.fetchMultipleFilesRawMT(f).done(function(e){return function(t){Me(t,e)}}(r)).fail((function(e){Faug.getProperty("initialLoaderScreen")&&Fg.freezeUI(!1),alert("Problem loading required files")}))},this.FetchFilesPromise=function(e,t){var a,i,r=[],n=e?e.length:0,s=void 0,o=void 0,l=[],d=[];function c(e,t,a,i,r,n,s){if(t&&0!=t.length)for(var o=0;o<t.length;o++){var l=t[o],d=!(l.length>2)||l[2],c=c||{};if(b&&l[0].startsWith("fjs-config")&&l[0].endsWith(".json"))if("queryparam"==b.aTokenWhere)-1==(f=l[0]).indexOf("?")?f+="?"+b.aTokenName+"="+b.aTokenValue:"?"==f[f.length-1]?f+=b.aTokenName+"="+b.aTokenValue:f+="&"+b.aTokenName+"="+b.aTokenValue,l[0]=f;else"header"!=b.aTokenWhere||c.hasOwnProperty(b.aTokenName)||(c[b.aTokenName]=b.aTokenValue);if(De("String",de)){var u=Fg.execFunc(de,[l[0],"GET"]);if(u.valid&&u.result){var f=l[0];c["X-Correlation-Id"]=u.result,-1==f.indexOf("?")?f+="?X_Correlation_Id="+u.result:"?"==f[f.length-1]?f+="X_Correlation_Id="+u.result:f+="&X_Correlation_Id="+u.result,l[0]=f}}Fg.freezeUI(!0),$.ajax({type:"GET",url:l[0],dataType:"text",headers:c,success:function(t,a,i,r,n,s,o){return function(o,l,d){Fg.freezeUI(!1),r.push([i,!0,d,t]),a&&a(i,!0,d,t),n==r.length&&(r.sort((function(e,t){return e[0]-t[0]})),0==s.length?e.done():e.fail())}}(l,a,o,i,r,n,0),error:function(t,a,i,r,n,s,o){return function(o,l,d){Fg.freezeUI(!1),r.push([i,!1,o,t,l,d]),s.push(1),a&&a(i,!1,o,t,l,d),n==r.length&&(r.sort((function(e,t){return e[0]-t[0]})),0==s.length?e.done():e.fail())}}(l,a,o,i,r,n,0),cache:d,async:!0})}}De("Array",e)&&!De("Array",e[0])&&(e=[e],n=1),this.repeat=function(e,t,r,n,s){return i[0]=r?1*r:-1,i[1]=0,a=setInterval(function(e,t,a,i,r){return function(){e.push(t).proceed(undefined,r),a[0]>0&&(a[1]=a[1]+1,a[0]==a[1]&&e.stop())}}(this,e,n,0,s),t),this},this.stop=function(){return a&&clearInterval(a),this},this.schedule=function(e,t,a,i,r){var n=t;return a&&(t=Fg.getDateUtil(t,a).date().getTime(),n=(new Date).getTime()-t),setTimeout(function(e,t,a,i){return function(){e.push(t).proceed(a,i)}}(this,e,i,r),n),this},this.push=function(e){return d.push(e),this},this.proceed=function(e,t){return d.length>0&&(n=d.length,c(this,d,e,r,n,l,!0===t)),d=[],this},this.done=function(e){return s?(s(r),this):(s=e,this)},this.fail=function(e){return o?(o(r),this):(o=e,this)},c(this,e,t,r,n,l)},this.ApisPromise=function(e,t,a,i){var r,n,s=[],o=e?e.length:0,l=void 0,d=void 0,c=[],u=!0===a,f=[];function m(e,t,a,i,r,n,s,o){if(t&&0!=t.length)for(var l=0;l<t.length;l++){var d=t[l];d[0]&&Fg.freezeUI(!0);var c=d.length>5?d[5]:{};if(b)if("queryparam"==b.aTokenWhere)-1==(f=d[2]).indexOf("?")?f+="?"+b.aTokenName+"="+b.aTokenValue:"?"==f[f.length-1]?f+=b.aTokenName+"="+b.aTokenValue:f+="&"+b.aTokenName+"="+b.aTokenValue,d[2]=f;else"header"!=b.aTokenWhere||c.hasOwnProperty(b.aTokenName)||(c[b.aTokenName]=b.aTokenValue);if(De("String",de)){var u=Fg.execFunc(de,[d[2],d[1]]);if(u.valid&&u.result){var f=d[2];c["X-Correlation-Id"]=u.result,-1==f.indexOf("?")?f+="?X_Correlation_Id="+u.result:"?"==f[f.length-1]?f+="X_Correlation_Id="+u.result:f+="&X_Correlation_Id="+u.result,d[2]=f}}/get/i.test(d[1])&&(content=void 0,d.length>3&&(d[3]=void 0),d.length>4&&(d[4]=void 0)),$.ajax({headers:c,type:d[1],processData:!1,url:d[2],contentType:d.length>3?d[3]:void 0,data:d.length>4?d[4]:void 0,success:function(t,a,i,r,n,s,o,l){return function(d,c,u){t[0]&&Fg.freezeUI(!1),r.push(o?[i,!0,l?u.responseJSON?u.responseJSON:u.responseText:u]:1),a&&a(i,!0,l?u.responseJSON?u.responseJSON:u.responseText:u),n==r.length&&(o&&r.sort((function(e,t){return e[0]-t[0]})),0==s.length?e.done():e.fail())}}(d,a,l,i,r,n,s,o),error:function(t,a,i,r,n,s,o){return function(l,d,c){t[0]&&Fg.freezeUI(!1),r.push(o?[i,!1,l,d,c]:0),s.push(1),a&&a(i,!1,l,d,c),n==r.length&&(o&&r.sort((function(e,t){return e[0]-t[0]})),0==s.length?e.done():e.fail())}}(d,a,l,i,r,n,s)})}}De("Array",e)&&!De("Array",e[0])&&(e=[e],o=1),this.repeat=function(e,t,a,i,s){n[0]=a?1*a:-1,n[1]=0,r=setInterval(function(e,t,a,i,r){return function(){e.push(t).proceed(undefined,r),a[0]>0&&(a[1]=a[1]+1,a[0]==a[1]&&e.stop())}}(this,e,i,0,s),t)},this.stop=function(){r&&clearInterval(r)},this.schedule=function(e,t,a,i,r){var n=t;a&&(n=(t=Fg.getDateUtil(t,a).date().getTime())-(new Date).getTime()),n<=0&&(n=0),setTimeout(function(e,t,a,i){return function(){e.push(t).proceed(a,i)}}(this,e,i,r),n)},this.push=function(e){return f.push(e),this},this.proceed=function(e,t,a){return f.length>0&&(o=f.length,m(this,f,e,s,o,c,u=!0===t,a)),f=[],this},this.done=function(e){return l?(u?l(s):l(),this):(l=e,this)},this.fail=function(e){return d?(u?d(s):d(),this):(d=e,this)},m(this,e,t,s,o,c,u,i)},this.ApisPromiseMT=function(e,t,a,i,r){var n,s=[],o=e?e.length:0,l=void 0,d=void 0,c=[],u=!0===a,f=[],m=[],g=[0];function h(e,t,a,i,r,n,s,o,l){if(t&&0!=t.length)for(var d=0;d<t.length;d++){var c=t[d],u=l.length>d?l[d]:void 0;at.apply(void 0,c).done(function(t,a,i,r,n,s,o,l,d){return function(t,c,u){r.push(o?[i,!0,l?u.responseJSON?u.responseJSON:u.responseText:u,d]:1),a&&a(i,!0,l?u.responseJSON?u.responseJSON:u.responseText:u,d),n==r.length&&(o&&r.sort((function(e,t){return e[0]-t[0]})),0==s.length?e.done():e.fail())}}(0,a,d,i,r,n,s,o,u)).fail(function(t,a,i,r,n,s,o,l){return function(t,d){r.push(o?[i,!1,d,l,d.statusText]:0),s.push(1),a&&a(i,!1,d,l,d.statusText),n==r.length&&(o&&r.sort((function(e,t){return e[0]-t[0]})),0==s.length?e.done():e.fail())}}(0,a,d,i,r,n,s,u))}}De("Array",e)&&!De("Array",e[0])&&(e=[e],o=1),De("Array",r)&&!De("Array",r[0])&&(r=[r]),this.repeat=function(e,t,a,i,r){g[0]=a?1*a:-1,g[1]=0,n=setInterval(function(e,t,a,i,r){return function(){e.push(t).proceed(i,r),a[0]>0&&(a[1]=a[1]+1,a[0]==a[1]&&e.stop())}}(this,e,i,g,r),t)},this.stop=function(){n&&clearInterval(n)},this.schedule=function(e,t,a,i,r){var n=t;a&&(t=Fg.getDateUtil(t,a).date().getTime(),n=(new Date).getTime()-t),setTimeout(function(e,t,a,i){return function(){e.push(t).proceed(a,i)}}(this,e,i,r),n)},this.push=function(e,t){return f.push(e),m.push(t),this},this.proceed=function(e,t,a){return f.length>0&&(o=f.length,h(this,f,e,s,o,c,u=!0===t,a,m)),f=[],m=[],this},this.done=function(e){return l?(u?l(s):l(),this):(l=e,this)},this.fail=function(e){return d?(u?d(s):d(),this):(d=e,this)},h(this,e,t,s,o,c,u,i,r)},this.columnCount=function(e){if(Fg.is("String",e)&&(e=$(e)),!e||0==e.length)return 0;var t=0;return $("tr:nth-child(1) th").each((function(){$(this).attr("colspan")?t+=+$(this).attr("colspan"):t++})),0==t&&$("tr:nth-child(1) td").each((function(){$(this).attr("colspan")?t+=+$(this).attr("colspan"):t++})),t},this.moveColumn=function(e,t,a,i){var r;t!=a&&e.find("tr").each((function(){var e=(r=$(this).children("th, td")).eq(t).is(":visible");!1===i&&e?r.eq(t).addClass("hidden"):!0!==i||e||r.eq(t).removeClass("hidden"),r.eq(t).detach().insertBefore(r.eq(a))}))},this.table=function(e){var t;function a(e,t,i){if(e&&0!=e.length){var r,n=e.state(),s=n.pagenum*n.count,o=s+n.count,l=e.find("._t_tb");e.closest("._t_mc").children("._t_gc").addClass("hidden");var d=e.closest("._t_mc").data("config");if(!0!==n.nodata){if(r=n.data.length,o=o>n.data.length?n.data.length:o,l.html(""),!0===n.sort){var c=[].concat(n.data);e.find('._t_hc[faug-sort-dir="asc"],._t_hc[faug-sort-dir="desc"],._t_hc[faug-sort-dir="none"]').each((function(){var e="none"!==$(this).attr("faug-sort-dir");e?(e="asc"===$(this).attr("faug-sort-dir"),$(this).parent().find("i").removeClass(),e?$(this).parent().find("i").addClass("fa fa-fw fa-sort-asc"):$(this).parent().find("i").addClass("fa fa-fw fa-sort-desc")):(e=void 0,$(this).parent().find("i").removeClass(),$(this).parent().find("i").addClass("fa fa-fw fa-sort"));var t=$(this).attr("faug-sort-fnc"),a=$(this).attr("faug-sort-prop");c.sort((function(i,r){var n=i[a],s=r[a];return"number"==t&&(n=parseInt(n),s=parseInt(s)),void 0===e||!0===e?n<s?-1:n>s?1:0:n>s?-1:n<s?1:0}))}))}for(var u=s;u<o;u++){var f=$(Fg.templatize(Pe.table.items.tbodytr,{},!1,void 0,void 0,"tbodytr"));f.attr("faug-row-pos",u);for(var m=0;m<n.cols.length;m++){var g=n.cols[m];if(!0===g.isLoT)f.append(Fg.templatize(Pe.table.items.tbodytd,{content:c[u][g.ct]},!1,void 0,void 0,"tbodytd"));else{var h=Fg.templatize(g.ct,{row:c[u]},!0);f.append(h)}}l.append(f)}}else{var p=e.find(">tbody>tr").not(".faug-hiden-old").not(".faug-hiden-srch");o=o>(r=p.length)?r:o;var v=(r%n.count>0?1:0)+Math.floor(r/n.count);if(!0===d.pagination.invokeApiOnChange&&(r<n.count?e.closest("._t_mc").find("._t_f31,.next").addClass("hidden"):e.closest("._t_mc").find("._t_f31,.next").removeClass("hidden")),n.pagenum>=v&&!0!==d.pagination.invokeApiOnChange)return 0==r?(e.closest("._t_mc").find("._t_fc").addClass("hidden"),e.closest("._t_mc").children("._t_gc").removeClass("hidden")):(e.closest("._t_mc").find("._t_fc").removeClass("hidden"),e.closest("._t_mc").children("._t_gc").addClass("hidden")),void F(e,d);!0===d.pagination.invokeApiOnChange&&(s=0,o=d.count);for(u=0;u<s;u++)void 0===$(p[u]).attr("faug-row-pos")&&$(p[u]).attr("faug-row-pos",u),$(p[u]).addClass("hidden");for(u=s;u<o;u++)void 0===$(p[u]).attr("faug-row-pos")&&$(p[u]).attr("faug-row-pos",u),$(p[u]).removeClass("hidden");for(u=o;u<r;u++)void 0===$(p[u]).attr("faug-row-pos")&&$(p[u]).attr("faug-row-pos",u),$(p[u]).addClass("hidden");!0===n.sort&&e.find('._t_hc[faug-sort-dir="asc"],._t_hc[faug-sort-dir="desc"],._t_hc[faug-sort-dir="none"]').each((function(){var a=1*$(this).attr("faug-tbl-pos");if(t==a){var i="none"!==$(this).attr("faug-sort-dir");i?(i="asc"===$(this).attr("faug-sort-dir"),$(this).closest("._t_hc").find("i").removeClass(),i?$(this).closest("._t_hc").find("i").addClass("fa fa-fw fa-sort-asc"):$(this).closest("._t_hc").find("i").addClass("fa fa-fw fa-sort-desc")):(i=void 0,$(this).closest("._t_hc").find("i").removeClass(),$(this).closest("._t_hc").find("i").addClass("fa fa-fw fa-sort"));var r=$(this).attr("faug-sort-fnc");$(this).attr("faug-sort-prop");p.sort((function(e,t){var n=void 0===i?1*$(e).attr("faug-row-pos"):$($(e).children("tbody tr td")[a]).text(),s=void 0===i?1*$(t).attr("faug-row-pos"):$($(t).children("tbody tr td")[a]).text();return"number"!=r&&(isNaN(n)||isNaN(s))||(n=parseInt(n),s=parseInt(s)),void 0===i||!0===i?n<s?-1:n>s?1:0:n>s?-1:n<s?1:0})),$.each(p,(function(e,t){$(t).detach()})),$.each(p,(function(t,a){e.find(">tbody").append(a)}))}}))}F(e,d);var y=e.closest("._t_mc").find("._t_f21");v=(r%n.count>0?1:0)+Math.floor(r/n.count);i&&(e.state("pagenum",0),n.pagenum=0);var b=v>0?n.pagenum+1:0,_=(b+"").length<=2?2:(b+"").length;y.find("._t_f211").css("width",10*_+"px"),y.find("._t_f211").val(b),y.find("._t_f212").html(v),y.find("._t_f211").off();if(y.find("._t_f211").fgOn("keypress.fg.31",function(e,t){return function(i){var r=i.keyCode||i.which,n=$(this).val();r=i.keyCode||i.which;if(n+=r=String.fromCharCode(r),isNaN(n))return $(this).val(e),!1;if((n*=1)>t||n<0||n==e)return $(this).val(e),!1;var s=$(this).closest("._t_mc").data("config"),o=$(this).closest("._t_mc").find("._t_tl"),l=n-1,d=1*o.state("count"),c=o.state("data"),u=o.state("nodata"),f=1*o.state("tcount");if(c&&l*d<c.length||u&&l*d<f||u&&!0===s.pagination.invokeApiOnChange)if(!0===s.pagination.invokeApiOnChange){var m=l;o.state("pagenum",m);var g=d,h=m*g;Fg.ic(s.schemaName,{_f_start:h,_f_count:g,_f_pagenum:m,_f_search_text:""},s.op)}else{l=l;var p=$("._t_mc").find("._t_ps").val();o.state("pagenum",l),a(o),$("._t_mc").find("._t_ps").val(p)}return!1}}(b,v)),0==r?(e.closest("._t_mc").find("._t_fc").addClass("hidden"),e.closest("._t_mc").children("._t_gc").removeClass("hidden")):(e.closest("._t_mc").find("._t_fc").removeClass("hidden"),e.closest("._t_mc").children("._t_gc").addClass("hidden")),d&&d.afterPaintCb&&Fg.execFunc(d.afterPaintCb,[e]),d&&d.stickyHdrOffsetFn){var w=Fg.execFunc(d.stickyHdrOffsetFn,[e]);w.valid&&w.result&&!isNaN(w.result)&&($.fn.stickyTableHeaders?e.stickyTableHeaders({fixedOffset:w.result}):console.warn("Please include jquery.stickytableheaders.min.js script"))}}function F(e,t){if(e.find("thead>tr").eq(0).find("th").length>0){var a=e.data("col-settings");function i(e,t){if(e&&Object.keys(e).length>0){var a=[];t.find("thead>tr").eq(0).find("th").each((function(e){a.push($(this).text().trim())}));var i=t.find("tr");i.each((function(){for(var t=$(this).children("th, td"),i=0;i<a.length;i++){t.eq(i).data("op",e[a[i]][0]);var r=!t.eq(e[a[i]][0]).hasClass("hidden");!e[a[i]][1]&&r?t.eq(e[a[i]][0]).addClass("hidden"):e[a[i]][1]&&!r&&t.eq(e[a[i]][0]).removeClass("hidden")}})),i.html((function(e){return $(this).children().sort((function(e,t){return $(e).data("op")-$(t).data("op")}))})),t.data("col-settings",e)}}if(!a){var r=(Fg.isN(Fg.getRoute())?location.href+"":Fg.getRoute())+(e.attr("id")?e.attr("id"):e.attr("class"));if(t.tblSettingsIdFunc){var n=Fg.execFunc(t.tblSettingsIdFunc,[e]);n.valid&&n.result&&(r=n.result);var s=localStorage.getItem(r);if(s)try{a=JSON.parse(s),Fg.freezeUI(!0),i(a,e),Fg.freezeUI(!1)}catch(e){}}else t.tblSettingsFunc&&Fg.execFunc(t.tblSettingsFunc,[e,i])}}}}function i(e,t,i,r,n,s,o,l,d){if(n=n||{},Fg.is("String",i)&&(i=$(i)),i&&0!=i.length){s.ttbl=i;var c=i.parent().hasClass("_t_bc"),u=void 0===e.download||!0===e.download.enabled,f=void 0===e.downloadpdf||!0===e.downloadpdf.enabled;if(Pe.table.container.items.header.items.itemperpage_yes.items={options:""},Pe.table.container.items.header.items.searchdownload.items.search.items={_f_search_text:""},e.search&&e.search.enabled&&(Pe.table.container.items.header.items.searchdownload.items.search.items._f_search_text=n._f_search_text?n._f_search_text:""),c)p=i.closest("._t_mc"),v=i.closest("._t_hc"),y=i.closest("._t_bc"),b=i.closest("._t_gc"),i.closest("._t_fc");else{var m={page_enabled:e.pagination&&!0===e.pagination.enabled,search_enabled:e.search&&e.search.enabled,dwnld_enabled:u,dwnldpdf_enabled:f,invoke_apionchange:e.pagination&&!0===e.pagination.invokeApiOnChange,options:""};if(m.page_enabled)if(Ne&&!1!==e.pagination.infinite);else if(e.pagination.numpages){r=e.pagination.numpages[0],n&&n._f_count&&n._f_count>0&&(r=n._f_count),n&&!isNaN(n._f_count)&&0==n._f_count&&(r=0);for(var g=0;g<e.pagination.numpages.length;g++){var h=0==e.pagination.numpages[g]?"All":e.pagination.numpages[g];Pe.table.container.items.header.items.itemperpage_yes.items.options+=Fg.templatize(Pe.table.items.pagelistitem,{display:h,pagenum:e.pagination.numpages[g],selected:1*r===e.pagination.numpages[g]?"selected":""},!1,void 0,void 0,"pagelistitem")}}var p,v=(p=$(Fg.templatize(Fg.getTemplate(Pe.table.container,m),{},!1))).find("._t_hc"),y=p.find("._t_bc"),b=p.find("._t_gc");p.find("._t_fc");Pe.table.container.items.header.items.itemperpage_yes.items={options:""},Pe.table.container.items.header.items.searchdownload.items.search.items={search_text:""}}p.data("config",e);var _;r=-1;if(e.tFunc){var w=Fg.execFunc(e.tFunc,[t]);w.valid&&w.result&&Fg.is("Array",w.result)&&(t=w.result)}if(t&&Fg.is("Array",t)){if(0==t.length)i.closest("._t_mc").find("._t_fc").addClass("hidden"),b.removeClass("hidden");else{i=Fg.templatize(Pe.table.items.table,{},!1,void 0,void 0,"table");r=r<=0?t.length:r,i.state({pagenum:0,count:r,cols:e.columns,data:t,sort:e.sort&&e.sort.enabled}),y.append(i);if(e.columns){var F=Fg.getString(Pe.table.items.thead),x=Fg.getString(Pe.table.items.theadtr);F.append(x),i.append(F);for(g=0;g<e.columns.length;g++){var O=e.columns[g],k=$(Fg.templatize(Pe.table.items.theadth,{},!1,void 0,void 0,"theadth"));if(k.attr("faug-tbl-pos",g),k.html(O.ht+"-"),e.sort&&e.sort.enabled&&e.sort.fields){for(var T=!1,S="",A="",N=0;N<e.sort.fields.length;N++)if(-1!=e.sort.fields[N].indexOf(g+1)){T=!0,A=e.sort.fields[N][1],S=e.sort.fields[N].length>2?e.sort.fields[N][2]:"";break}T&&(k.attr("faug-sort-dir","none"),k.attr("faug-sort-fnc",S),k.attr("faug-sort-prop",A))}x.append(k)}var C=Fg.templatize(Pe.table.items.tbody,{},!1,void 0,void 0,"tbody");i.append(C),a(i)}}$(e.parent).append(p)}else{i.addClass("_t_tl"),i.find(">thead").addClass("_t_th"),i.find(">thead>tr").addClass("_t_hr"),i.find(">thead>tr>th").addClass("_t_hc"),i.find(">tbody").addClass("_t_tb"),i.find(">tbody>tr").addClass("_t_rw");i.find(">tbody>tr").length,i.find(">tbody>tr.hidden").length;i.find(">tbody>tr").removeClass("faug-hiden-old"),i.find(">tbody>tr.hidden").addClass("faug-hiden-old");var P=i.parent();c||(i.appendTo(y),P.append(p));var j=0;i.find(">thead>tr>th").each((function(){$(this).attr("faug-tbl-pos",j++),$(this).attr("faug-sort-dir","none"),$(this).attr("faug-sort-fnc",""),$(this).attr("faug-sort-prop",""),c||$(this).append(Pe.table.items.sorthtml)}));let t=n._f_count?n._f_count:e.pagination.numpages[0];Ne&&!1!==e.pagination.infinite&&(t=e.pagination.infi_items_count?e.pagination.infi_items_count:10,t=n._f_count?n._f_count:t),i.state({pagenum:n._f_pagenum?n._f_pagenum:0,count:t,sort:e.sort&&e.sort.enabled,nodata:!0,tcount:i.find(">tbody>tr").not("faug-hiden-old").length,"infi-index":n._f_infi_index}),Ne&&!1!==e.pagination.infinite&&(n._f_count=e.pagination.infi_items_count?e.pagination.infi_items_count:10),a(i)}if(u&&v.find("._t_dw").fgOn("click.fg.32",function(e){return function(){e.download()}}(s)),f&&v.find("._t_dwpdf").fgOn("click.fg.33",function(e){return function(){e.downloadPdf()}}(s)),p.find("._t_stg").fgOn("click.fg.34",function(e){return function(){var t=e.data("config"),a=e.find("._t_tl"),i="",r=[];if(a.find("th").length>0){var n=a.data("col-settings");if(n){for(var s=Object.keys(n).length,o=0;o<s;o++)for(var l in n)if(n.hasOwnProperty(l)&&o==n[l][0]){r.push(l);var d={name:l,active:n[l][1]?"active":""};i+=Fg.templatize(Pe.table.settings.items.itemshtml.template,d,!1);break}}else a.find("thead>tr").eq(0).find("th").each((function(){r.push($(this).text().trim());var e={name:$(this).text().trim(),active:$(this).is(":visible")?"active":""};i+=Fg.templatize(Pe.table.settings.items.itemshtml.template,e,!1)}));var c=Pe.table.settings.template.replace("<%itemshtml%>",i);Fg.showModalForm(c,"_table_settings_","<h5>Column Settings</h5>",!0,"",!1),$("#_table_settings_").find("._t_stg_lst").sortable({revert:!0}),$("#_table_settings_").find("._t_stg_lst").find("li").dblclick((function(){$(this).toggleClass("active")})),$("#_table_settings_").find("._t_stg_but").fgOn("click.fg.44",(function(){var e=0,i=[],r={};$("#_table_settings_").find("._t_stg_lst").find("li").each((function(){r[$(this).text().trim()]=[e++,$(this).hasClass("active")]}));i=[];a.find("thead>tr").eq(0).find("th").each((function(e){i.push($(this).text().trim())}));var n=a.find("tr");n.each((function(){for(var e=$(this).children("th, td"),t=0;t<i.length;t++){e.eq(t).data("op",r[i[t]][0]);var a=!e.eq(r[i[t]][0]).hasClass("hidden");!r[i[t]][1]&&a?e.eq(r[i[t]][0]).addClass("hidden"):r[i[t]][1]&&!a&&e.eq(r[i[t]][0]).removeClass("hidden")}})),n.html((function(e){return $(this).children().sort((function(e,t){return $(e).data("op")-$(t).data("op")}))})),a.data("col-settings",r);var s=(Fg.isN(Fg.getRoute())?location.href+"":Fg.getRoute())+(a.attr("id")?a.attr("id"):a.attr("class"));if(t.tblSettingsIdFunc){var o=Fg.execFunc(t.tblSettingsIdFunc,[a]);o.valid&&o.result&&(s=o.result,localStorage.setItem(s,JSON.stringify(r)))}else t.onTblSettingsSave&&Fg.execFunc(t.onTblSettingsSave,[a,JSON.stringify(r)]);$("#_table_settings_").modal("hide")})),$("#_table_settings_").modal("show")}}}(p)),e.sort&&e.sort.enabled&&p.find("._t_hc[faug-sort-dir]").fgOn("click.fg.35",(function(e,t){var i=$(this).attr("faug-sort-dir");"none"==i?$(this).attr("faug-sort-dir","asc"):"asc"==i?$(this).attr("faug-sort-dir","desc"):$(this).attr("faug-sort-dir","none"),a($(this).closest("._t_mc").find("._t_tl"),1*$(this).attr("faug-tbl-pos"))})),e.search&&e.search.enabled&&e.search.fields){var I=p.find("._t_sb"),D=p.find("._t_sb");if(!0===e.search.invokeApiOnChange&&e.search.events){if(e.search.selector&&$(e.search.selector).length>0?(I.off(),I.addClass("hidden"),$(e.search.selector).off(),I=$(e.search.selector)):I.off(),n&&"search"===n._f_originated_from){I.focus();var B=I[0].value;I.val("").val(B)}for(var E in e.search.retainSearchVal,e.search.events)if(e.search.events.hasOwnProperty(E))for(var z=e.search.events[E],V=E.split(","),M=0;M<V.length;M++)I.fgOn(V[M]+".fg.se",function(e,t,a){return function(i){if($(this).attr("data-regex")&&Ae){if(""!=$(this).val()&&"file"!=$(this).prop("type")&&!new RegExp($(this).attr("data-regex")).test($(this).val()))return Fg.execFunc(Ae,[$(this)]),i.stopPropagation(),!1}else if(Se&&Ae){if(""!=$(this).val()&&"file"!=$(this).prop("type")&&!Se.test($(this).val()))return Fg.execFunc(Ae,[$(this)]),i.stopPropagation(),!1}else if(ke&&"file"!=$(this).prop("type")&&""!=$(this).val()&&!ke.test($(this).val()))return Fg.execFunc(Te,[$(this)]),i.stopPropagation(),!1;var r=t.parent().parent().parent().parent().find("._t_tl").state();e.crudop&&(e.crudop.vars||(e.crudop.vars={}),e.crudop.vars._f_start="value@0",e.crudop.vars._f_count="value@"+r.count,e.crudop.vars._f_pagenum="value@1",e.crudop.vars._f_search_text="value@"+$(this).val(),e.crudop.vars._f_originated_from="value@search"),t.val($(this)[0].value);var n=function(e,t,a){He(e)(t,a)||""!=a.val()||He(e)(t,a,void 0,void 0,!0)};"keyup"!=a.toLowerCase()&&"keydown"!=a.toLowerCase()&&"keypress"!=a.toLowerCase()||(n=function(e,t,a){clearTimeout(Ge),Ge=setTimeout(function(e,t,a){return function(){He(e)(t,a)||""!=a.val()||He(e)(t,a,void 0,void 0,!0)}}(e,t,a),1e3)}),n(e,i,t)}}(z,D,V[M]))}else Fg.useComponent("search-filter-table-rows",[[I,D],"keyup",function(e){return e.closest("._t_mc").find("._t_tl").find("._t_rw")},function(e){return e.children("td")},e.search.type,(_=e.search.fields,function(e,t){return-1!=_.indexOf(t+1)}),function(e){var t=e[0].closest("._t_mc").find("._t_tl");t.find(">tbody>tr").not(".hidden").removeClass("faug-hiden-srch"),t.find(">tbody>tr.hidden").addClass("faug-hiden-srch"),a(t,void 0,!0),e[0].focus()},[ke,Te]])}e.pagination&&!0===e.pagination.enabled&&(Ne&&!1!==e.pagination.infinite?(Ce.o||(Ce.o=new IntersectionObserver((e=>{e.forEach((e=>{if(e.isIntersecting){var t=$(e.target).closest("._t_mc").data("config"),i=$(e.target).closest("._t_mc").find("._t_tl"),r=1*i.state("pagenum"),n=1*i.state("count"),s=i.state("data"),o=i.state("nodata"),l=1*i.state("tcount");if(s&&(r+1)*n<s.length||o&&(r+1)*n<=l)if(!0===t.pagination.invokeApiOnChange){var d=r+1;i.state("pagenum",d);var c=n,u=d*c;Fg.ic(t.schemaName,{_f_infi_index:i.state("infi-index"),_f_start:u,_f_count:c,_f_pagenum:d,_f_search_text:$(e.target).closest("._t_mc").find("._t_sb").val()},t.op)}else{r+=1;var f=$("._t_mc").find("._t_ps").val();i.state("pagenum",r),a(i),$("._t_mc").find("._t_ps").val(f)}Ce.o.unobserve(e.target)}}))}))),i.find("._t_rw:visible").length>0&&l>0&&(void 0===i.state("infi-index")||null===i.state("infi-index")?(i.state("infi-index",Ce.i.length),Ce.i.push([i.find("._t_rw:visible").last(),o])):Ce.i[i.state("infi-index")][0]=i.find("._t_rw:visible").last(),d&&(Ce.m[d[0]]=d[1]),Ce.o.observe(i.find("._t_rw:visible").last()[0])),$("._t_ps").addClass("hidden"),$("._t_f1").addClass("hidden"),$("._t_f3").addClass("hidden")):(e.pagination.numpages&&p.find("._t_ps").fgOn("change.fg.36",(function(){var e=$(this).closest("._t_mc").data("config"),t=$(this).closest("._t_mc").find("._t_tl"),i=1*t.state("pagenum"),r=1*$(this).val(),n=t.state("data"),s=t.state("nodata"),o=1*t.state("tcount");if((n&&n.length/r<=i||s&&o/r<=i||s&&!0===e.pagination.invokeApiOnChange)&&(i=0),t.state("count",r),!0===e.pagination.invokeApiOnChange){t.state("pagenum",1);var l=r;Fg.ic(e.schemaName,{_f_start:0,_f_count:l,_f_pagenum:0,_f_search_text:$(this).closest("._t_mc").find("._t_sb").val()},e.op)}else t.state("pagenum",i),a(t)})),p.find("._t_f31").fgOn("click.fg.37",(function(){var e=$(this).closest("._t_mc").data("config"),t=$(this).closest("._t_mc").find("._t_tl"),i=1*t.state("pagenum"),r=1*t.state("count"),n=t.state("data"),s=t.state("nodata"),o=1*t.state("tcount");if(n&&(i+1)*r<n.length||s&&(i+1)*r<o||s&&!0===e.pagination.invokeApiOnChange)if(!0===e.pagination.invokeApiOnChange){var l=i+1;t.state("pagenum",l);var d=r,c=l*d;Fg.ic(e.schemaName,{_f_start:c,_f_count:d,_f_pagenum:l,_f_search_text:$(this).closest("._t_mc").find("._t_sb").val()},e.op)}else{i+=1;var u=$("._t_mc").find("._t_ps").val();t.state("pagenum",i),a(t),$("._t_mc").find("._t_ps").val(u)}})),p.find("._t_f11").fgOn("click.fg.38",(function(){var e=$(this).closest("._t_mc").data("config"),t=$(this).closest("._t_mc").find("._t_tl"),i=1*t.state("pagenum"),r=1*t.state("count");if(i>0||!0===e.pagination.invokeApiOnChange&&t.state("pagenum")&&t.state("pagenum")>0)if(!0===e.pagination.invokeApiOnChange){var n=i-1;t.state("pagenum",n);var s=r,o=n*s;Fg.ic(e.schemaName,{_f_start:o,_f_count:s,_f_pagenum:n,_f_search_text:$(this).closest("._t_mc").find("._t_sb").val()},e.op)}else{i-=1;var l=$("._t_mc").find("._t_ps").val();t.state("pagenum",i),a(t),$("._t_mc").find("._t_ps").val(l)}}))))}}function r(e,a,i){if(a&&a.id&&(e="#"+a.id),!e&&t)return t;if(Fg.is("String",e)&&(e=$(e)),e){e.parent();var r=0;e.find(">thead").length>0?0==(r=e.find(">thead>tr>th").length)&&(r=e.find(">thead>tr>td").length):r=e.find(">tbody>tr>td").length}if(a?(a.sort||(a.sort={enabled:!0,fields:[],invokeApiOnChange:!1}),a.search||(a.search={enabled:!0,fields:[],type:"ci",invokeApiOnChange:!1}),a.pagination||(a.pagination={enabled:!0,numpages:[10,25,50,100,200],invokeApiOnChange:!1})):a={sort:{enabled:!0,fields:[],invokeApiOnChange:!1},search:{enabled:!0,fields:[],type:"ci",invokeApiOnChange:!1},pagination:{enabled:!0,numpages:[10,25,50,100,200],invokeApiOnChange:!1}},e){if(!a.sort.fields||Fg.is("Array",a.sort.fields)&&0==a.sort.fields.length){a.sort.fields=[];for(var n=0;n<r;n++)a.sort.fields.push(n+1)}if(!a.search.fields||Fg.is("Array",a.search.fields)&&0==a.search.fields.length){a.search.fields=[];for(n=0;n<r;n++)a.search.fields.push(n+1)}}return t=a}return this.fromHtml=function(e,a){r(e,t)&&i(t,void 0,e,a,void 0,this,null)},this.paint=function(e,a,r,n,s,o){t&&(t.id&&(e="#"+t.id),i(t,a,e,void 0,r,this,n,s,o))},this.download=function(e,a){t&&(Fg.isN(e)&&(e="data_"+(new Date).getTime()+".csv"),Fg.tableToCSV(this.ttbl,e,a))},this.downloadPdf=function(e,a,i,r,n,s,o,l){t&&Fg.downloadPdf(this.ttbl,e,a,i,r,n,s,o,l)},this.c=r(void 0,e),this},this.tableToCSV=function(e,t,a,i,r){var n=Fg.isN(t)?"report.csv":t;r=!1!==r,i=!i||i.length>1?",":i;var s=[];a&&""!==a&&""!=a.trim()&&s.push(a+"\n\n\n");for(var o=e.children("thead").children("tr"),l=e.children("tbody").children("tr"),d=0;d<1;d++){for(var c=[],u=$(o[d]).children("td, th"),f=0;f<u.length;f++){-1!=(m=u[f].innerText).indexOf("\n")&&(m=m.replace(/\n/g,"\\n")),-1!=m.indexOf('"')&&(m=m.replace(/"/g,'\\"')),c.push((r?'"':"")+m+(r?'"':""))}s.push(c.join(i))}for(d=0;d<l.length;d++){for(c=[],u=$(l[d]).children("td, th"),f=0;f<u.length;f++){var m;-1!=(m=u[f].innerText).indexOf("\n")&&(m=m.replace(/\n/g,"\\n")),r&&-1!=m.indexOf('"')&&(m=m.replace(/"/g,'\\"')),m.indexOf(i),m.trim().startsWith("=")&&(m="'"+m),c.push((r?'"':"")+m+(r?'"':""))}s.push(c.join(i))}var g=new Blob([s.join("\n")],{type:"text/csv"}),h=document.createElement("a");h.download=n,h.href=window.URL.createObjectURL(g),h.style.display="none",document.body.appendChild(h),h.click()},this.paintTable=function(e,t){var a=t||{};$(e).closest("._t_mc").data("config")&&(a=$(e).closest("._t_mc").data("config")),new Fg.table(a).fromHtml(e)},this.downloadPdf=function(e,t,a,i,r,n,s,o,l){Fg.isN(a)&&(a=""),(Fg.isN(t)||isNaN(t))&&(t=e.children("thead").children("tr")?e.children("thead").children("tr").eq(0).find("th").length>0?e.children("thead").children("tr").eq(0).find("th").length:e.children("thead").children("tr").eq(0).find("td").length:e.children("tbody").children("tr")?e.children("tbody").children("tr").eq(0).find("td").length:11);var d,c=t&&t>10?new jsPDF("l"):new jsPDF;d=t&&t>10?{html:Fg.is("String",e)?"#"+e:e[0],theme:"grid",didDrawPage:function(e){c.setFontSize(20),c.setTextColor(40),c.setFontStyle("normal"),i&&c.addImage(i,"JPEG",e.settings.margin.left,15,10,10),c.text(a,e.settings.margin.left,22);var t="Page "+c.internal.getNumberOfPages();"function"==typeof c.putTotalPages&&(t+=" of {total_pages_count_string}"),c.setFontSize(10);var r=c.internal.pageSize,n=r.height?r.height:r.getHeight();c.text(t,e.settings.margin.left,n-10)},styles:{overflow:"linebreak",cellWidth:12,minCellWidth:5,fontSize:5},margin:{top:30}}:{html:Fg.is("String",e)?"#"+e:e[0],theme:"grid",didDrawPage:function(e){c.setFontSize(20),c.setTextColor(40),c.setFontStyle("normal"),i&&c.addImage(i,"JPEG",e.settings.margin.left,15,10,10),c.text(a,e.settings.margin.left,22);var t="Page "+c.internal.getNumberOfPages();"function"==typeof c.putTotalPages&&(t+=" of {total_pages_count_string}"),c.setFontSize(10);var r=c.internal.pageSize,n=r.height?r.height:r.getHeight();c.text(t,e.settings.margin.left,n-10)},margin:{top:30}},Fg.isN(n)||(d.didDrawPage=n),Fg.isN(s)||(d.styles=s),Fg.isN(o)||(d.theme=o),Fg.isN(l)||(d.margin=l),c.autoTable(d),"function"==typeof c.putTotalPages&&c.putTotalPages("{total_pages_count_string}"),c.save(Fg.isN(r)?"report.pdf":r)},"undefined"!=typeof Promise&&(this.FgRecorder=function(e){this.silent=!0===e,this.cmdlist=[],this.typedValue="",this.target,this.event,this.commands=[],this.lat,this.st=0;var t,a=(t=this,function(a){var i=a.target;if(""!=t.typedValue){var r='type "'+t.typedValue+"\" xpath@'"+Fg.getXPath($(t.target))+"'";e?t.cmdlist.push(r):console.log(r)}var n=(new Date).getTime();t.lat&&n-t.lat>100&&(r="sleep "+(n-t.lat)/1e3,t.silent?t.cmdlist.push(r):console.log(r)),t.typedValue="",t.target=i,t.event="click",t.lat=(new Date).getTime(),i.options&&i.options.selectedIndex?(t.event="select",r="select index@"+(i.options.selectedIndex-1)+" xpath@'"+Fg.getXPath($(i))+"'",t.silent?t.cmdlist.push(r):console.log(r)):(r="click xpath@'"+Fg.getXPath($(i))+"'",t.silent?t.cmdlist.push(r):console.log(r))}),i=function(e){return function(t){var a=t.target,i=t.keyCode;if(8==i)e.typedValue.length>0&&(e.typedValue=e.typedValue.substring(0,e.typedValue.length-1));else if(9==i){if(""!=e.typedValue){var r=(new Date).getTime();if(e.lat&&r-e.lat>100){var n="sleep "+(r-e.lat)/1e3;e.silent?e.cmdlist.push(n):console.log(n)}n='type "'+e.typedValue+"\" xpath@'"+Fg.getXPath($(e.target))+"'";e.silent?e.cmdlist.push(n):console.log(n)}e.typedValue=""}e.target=a,e.event="keyup",13!=i&&(e.lat=(new Date).getTime())}}(this),r=function(e){return function(t){var a=t.target;e.target=a,e.typedValue+=String.fromCharCode(t.which),e.event="keypress",13!=t.keyCode&&(e.lat=(new Date).getTime())}}(this);this.startRecording=function(){this.cmdlist.length=0,this.silent?this.cmdlist.push("open chrome"):console.log("open chrome"),this.silent?this.cmdlist.push("goto "+document.location):console.log("goto "+document.location),document.addEventListener("click",a,!0),document.addEventListener("keyup",i,!0),document.addEventListener("keypress",r,!0)},this.stopRecording=function(){this.silent||this.emit();var e=Fg.copy(this.cmdlist);return this.cmdlist.length=0,document.removeEventListener("click",a,!0),document.removeEventListener("keyup",i,!0),document.removeEventListener("keypress",r,!0),this.typedValue="",this.target=null,this.event="",this.lat=null,e};var n=/type "((?:[^"\\]|\\.)*)" xpath@"((?:[^"\\]|\\.)*)"/,s=/type "((?:[^"\\]|\\.)*)" xpath@'((?:[^'\\]|\\.)*)'/,o=/type '((?:[^"\\]|\\.)*)' xpath@"((?:[^"\\]|\\.)*)"/,l=/type '((?:[^'\\]|\\.)*)' xpath@'((?:[^'\\]|\\.)*)'/,d=/click xpath@"((?:[^"\\]|\\.)*)"/,c=/click xpath@((?:[^'\\]|\\.)*)'/,u=/select index@([0-9]+) xpath@"((?:[^"\\]|\\.)*)"/,f=/select index@([0-9]+) xpath@'((?:[^'\\]|\\.)*)'/,m=/sleep ([0-9\.]+)/;function g(e){return n.test(e)?n:s.test(e)?s:o.test(e)?o:l.test(e)?l:void 0}function h(e){return d.test(e)?d:c.test(e)?c:void 0}function p(e){return u.test(e)?u:f.test(e)?f:void 0}return this.emit=function(){console.log(this.cmdlist.join("\n"))},this.play=function(e){if(Fg.is("Array",e)){this.st=0;var t=Promise.resolve(),a=this;e.forEach((function(e){t=t.then((function(){return a.execInt(e)})).then((function(e){e&&console.log(e)}))}))}else Fg.is("String",e)&&this.execute(e)},this.execute=function(e){this.execInt(e).then((function(e){e&&console.log(e)}))},this.execInt=function(e){var t="Invalid command";if(m.test(e)){if(i=m.exec(e)){var a=1*i[1];this.st+=a,t=void 0}}else if(g(e)){var i=g(e).exec(e),r=this.st;if(this.st=0,i){a=i[1];var n=i[2];if(s=document.evaluate(n,document,null,XPathResult.ANY_TYPE,null).iterateNext())return new Promise((function(e){r<=0?($(s).focus(),$(s).val(a),$(s).blur(),e('type "'+a+"\" xpath@'"+n+"'")):(console.log("sleep "+1e3*r),setTimeout(function(e,t,a,i){return function(){$(e).focus(),$(e).val(t),$(e).blur(),i('type "'+t+"\" xpath@'"+a+"'")}}(s,a,n,e),1e3*r))}))}}else if(h(e)){i=h(e).exec(e),r=this.st;if(this.st=0,i){n=i[1];if(s=document.evaluate(n,document,null,XPathResult.ANY_TYPE,null).iterateNext())return new Promise((function(e){r<=0?($(s).click(),$(s).focus(),e("click xpath@'"+n+"'")):(console.log("sleep "+1e3*r),setTimeout(function(e,t,a){return function(){$(e).click(),$(e).focus(),a("click xpath@'"+t+"'")}}(s,n,e),1e3*r))}))}}else if(p(e).test(e)){i=p(e).exec(e),r=this.st;if(this.st=0,i){var s;a=1*i[1];if(n=(n=i[2]).replace(/\\'/g,"'"),s=document.evaluate(n,document,null,XPathResult.ANY_TYPE,null).iterateNext())return new Promise((function(e){r<=0?($(s)[0].selectedIndex=a,e("select index@"+a+" xpath@'"+n+"'")):(console.log("sleep "+1e3*r),setTimeout(function(e,t,a,i){return function(){$(e)[0].selectedIndex=t,i("select index@"+t+" xpath@'"+a+"'")}}(s,a,n,e),1e3*r))}))}}return new Promise((function(e){e(t)}))},this}),"undefined"!=typeof Worker&&(this.FaugWebWorker=function(e,t,a){var i,r,n=e,s=t,o=a;try{i=new Worker(n)}catch(e){if(!(e instanceof DOMException))throw e;var l=function(e){var t,a='importScripts("'+e+'");';try{t=new Blob([a],{type:"application/javascript"})}catch(e){var i=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder);i.append(a),t=i.getBlob("application/javascript")}return t}(workerUrl),d=d||webkitURL,c=d.createObjectURL(l);i=new Worker(c),d.revokeObjectURL(c)}this.setObject=function(e){r=e},this.getObject=function(){return r},this.getName=function(){return s},this.send=function(e){i.postMessage(e)},this.setOnMsgCallback=function(e){(o=e)&&i.addEventListener("message",(function(e){o(e)}),!1)},this.stop=function(){i.terminate()}}),"undefined"!=typeof Worker){var sa=function(e,t,a,i){var r=t||2,n=a||"UNWP-"+(new Date).getTime(),s=e,o=[],l=[];function d(e,t){var a,i,r=e,n=[],s=0;this.done=function(e){return s>0&&!n[s-1][3]?n[s-1][3]=e:a=e,this},this.fail=function(e){return s>0&&!n[s-1][4]?n[s-1][4]=e:i=e,this},this.__continue=function(e,t){s=e,n=t},this.resolve=function(e){if(a&&a.apply(void 0,e),s>0){s--;var t=n[e[3]];n.splice(e[3],1);var i=t[1].apply(t[0],t[2]);i.__continue(s,n),t[3]&&(i=i.done(t[3])),t[4]&&(i=i.fail(t[4]))}},this.reject=function(e){if(i&&i.apply(void 0,e),s>0){s--;var a=n[e[3]];n.splice(e[3],1);var r=a[0].apply(t,a[1]);r.__continue(s,n),a[2]&&(r=r.done(a[2])),a[3]&&(r=r.fail(a[3]))}},this.then=function(e){s++;var t=arguments;return t.push(s-1),n.push([r,r.execute,t,void 0,void 0]),this},this.get=function(e){return s++,(e=arguments).push(s-1),n.push([t,t.get,e,void 0,void 0]),this},this.put=function(e){return s++,(e=arguments).push(s-1),n.push([t,t.put,e,void 0,void 0]),this},this.post=function(e){return s++,(e=arguments).push(s-1),n.push([t,t.post,e,void 0,void 0]),this},this.del=function(e){return s++,(e=arguments).push(s-1),n.push([t,t.del,e,void 0,void 0]),this},this.api=function(e){return s++,(e=arguments).push(s-1),n.push([t,t.api,e,void 0,void 0]),this}}this.execute=function(e){var t=new d(this,Fg);if(o.length>0){var a=o.shift();a.setObject({t:e,f:t}),a.send(e)}else l.push({t:e,f:t});return t};for(var c=0;c<r;c++){var u=new Fg.FaugWebWorker(s,n+"-ApiWorker"+(c+1));u.setOnMsgCallback(function(e,t,a,i,r){return function(a){var n=a.data,s=n.shift();if(!0===s[0])if(Faug.execFunc("onAjaxCallDone",[et(n[1])]),!0===Fg.gp("catchApiUncaughtExceptions"))try{i.getObject().f.resolve([n[0],n[1].statusText,n[1]])}catch(a){console.error(a),n[2]&&console.log(n[2])}else i.getObject().f.resolve([n[0],n[1].statusText,n[1]]);else{if(499==n[1].status){var o=atob(n[1].responseText),l=i.getObject().t[1];return i.getObject().t[1].startsWith("/")?i.getObject().t[1]=o+i.getObject().t[1]:i.getObject().t[1]=i.getObject().t[1].replace(Fg.gp("pbaseUrl"),o),console.log(l+" ---\x3e "+i.getObject().t[1]),Fg.sp("baseUrl",o),void i.send(i.getObject().t)}if(Faug.execFunc("onAjaxCallFail",[et(n[1])]),!0===Fg.gp("catchApiUncaughtExceptions"))try{i.getObject().f.reject([n[0],n[1]])}catch(a){console.error(a),n[2]&&console.log(n[2])}else i.getObject().f.reject([n[0],n[1]])}if("function"==typeof r&&r(s[0],s[1]),0==e.length&&t.length>0){var d=t.shift();i.setObject(d),i.send(d.t)}else e.push(i)}}(o,l,0,u,i)),o.push(u)}return this};this.WorkerPool=sa}return this.dotify=function(e){var t={};return function e(a,i){for(var r in a){var n=a[r],s=i?i+"."+r:r;n&&"object"==typeof n?e(n,s):t[s]=n}}(e),t},this.design=function(e,t){return s.render(e,t),s},this.useComponent=function(e,t,a){var i=ue[e];i&&(i.init&&i.init.apply(void 0,a),i.use.apply(void 0,t),i.destroy&&i.destroy())},this.testEquality=function(e,t){var a=[];return function e(t,i){if(t===i)return!0;if(!(t instanceof Object&&i instanceof Object))return!1;if(t.constructor!==i.constructor)return!1;for(var r in t)if(t.hasOwnProperty(r)){if(!i.hasOwnProperty(r))return!1;if(t[r]===i[r])continue;if("object"!=typeof t[r])return!1;if(-1!==a.indexOf(t[r]))throw new Error("Cannot compare some cyclical objects");if(a.push(t[r]),!e(t[r],i[r]))return!1}for(r in i)if(i.hasOwnProperty(r)&&!t.hasOwnProperty(r))return!1;return!0}(e,t)},this.diff=function(e,a){return t.getDomDiff(e,a)},this.compareAndApplyDiff=function(e,a,i){return t.compareDomAndApplyDiff(e,a,i)},this.applyDiff=function(e,a){return t.applyDomDiff(e,a)},s=new function(){var e={display:1,show:[["true","Yes"],["false","No"]],custom:1,required:[["true","Yes"],["false","No"]],attrs:1,style:1,stylepos:["append","prepend","clear"],classpos:["append","prepend","clear"],attrpos:["append","prepend","clear"],header:1,icon:1,label:1,helptext:1,customTemplate:1,showlabel:[["true","Yes"],["false","No"]],showicon:[["true","Yes"],["false","No"]],showhelptext:[["true","Yes"],["false","No"]],autocomplete:[["on","Yes"],["off","No"]],maxlength:1,placeholder:1,readonly:[["true","Yes"],["false","No"]]};function t(a,i,r,n,s,o,l,d){var c=a,u="";if(c=Fg.is("Object",i)&&i.display?i.display:a.substring(0,1).toUpperCase()+a.substring(1),Fg.is("Object",i)){u="hidden"!==i.ui&&i.show+""!="false"?'style="background-color: #bed !important;"':("hidden"!==i.ui&&i.show+""!="false"||i.required+""!="false")&&i.required+""=="false"?'style="background-color: white !important;"':'style="background-color: yellow !important;"',n>1&&(u='style="background-color: inherit !important;"');var f=[];for(var m in r=[],i)i.hasOwnProperty(m)&&(f.push(i[m]),r.push(m));i=f}var g=s;1==n?g=d+"_"+a+"_id":n>1&&(g="");for(var h='<div id="'+g+'" key="'+a+'" '+u+' class="jsonTitleCls col-md-'+(0==n?"12":"3")+" "+(0==n?"tab-pane fade "+(o?"in active":""):"conf_prop "+(1==n?"":"hidden"))+'" draggable="'+(1==n?"true":"false")+'" data-open="0" data-level="'+n+'" null>'+(0==n?"":c+'<span class="tglCls"></span><div class="clearfix addBorderCls"></div>'),p=!1,v=0;v<i.length;v++){var y=i[v],b=l+"['"+(m=r[v])+"']";if((!(n>0)||e[m])&&(0!=n||"hidden"!==y.ui))if(Fg.is("Object",y)){var _=t(m,y,null,n+1,void 0,void 0,b,s);""!=_&&(p=!0,h+=_)}else{if(p=!0,h+='<div class="conf_prop col-md-12 jsonLableWrap hidden" data-level="'+(n+1)+'" data-open="0" null><div class="conf_name" style="">'+m+':&nbsp;</div><div class="conf_value form-group" style="display:inline-block;">',1==e[m])h+='<input type="text" name="'+b+'" class="form-control" style="width:300px" value="'+Fg.eh(y)+'"/>';else{h+='<select class="form-control" name="'+b+'" style="width:300px">';for(var w=0;w<e[m].length;w++){var F=Fg.is("Array",e[m][w])?e[m][w][0]:e[m][w],x=Fg.is("Array",e[m][w])?e[m][w][1]:e[m][w];h+='<option value="'+F+'" '+(F+""==y+""?"selected":"")+">"+Fg.eh(x)+"</option>"}h+="</select>"}h+="</div></div>"}}return p?h+"</div>":""}function a(e,a,i,r){var n=[],s=[];if(i&&i.length>0)for(var o=0;o<i.length;o++)e[i[o]]&&(n.push(e[i[o]]),s.push(i[o]));else{for(var l in e)e.hasOwnProperty(l)&&"hidden"!==e[l].ui&&e[l].show+""!="false"&&"false"!==e[l].required&&(n.push(e[l]),s.push(l));for(var l in e)e.hasOwnProperty(l)&&-1==s.indexOf(l)&&"false"===e[l].required&&(n.push(e[l]),s.push(l));for(var l in e)e.hasOwnProperty(l)&&-1==s.indexOf(l)&&(n.push(e[l]),s.push(l))}return t("",n,s,0,"spec"+r,a,"properties")}var i=!1;this.renderOld=function(e,t){var r=Fg.getSchema(e),n=r.properties,s=r.dynamicAspects,o=(r.propertyOrder,"");if(s&&s.length>0){o='<ul class="nav nav-tabs jsonTabsWrap">';var l=1;o+='<li class="col-lg-3 col-md-4 col-sm-6 col-xs-12 colnopad '+(1==l?"active":"")+'"><a class="jsonTitleTruncateCls" data-toggle="tab" href="#spec'+l+++'">Default</a></li>';for(var d=0;d<s.length;d++){var c=!1;for(var u in s[d].valueset)s[d].valueset.hasOwnProperty(u)&&("propertyOrder"==u||-1!=u.indexOf("properties."))&&(c=!0);if(c){var f=s[d].cond;Fg.is("String",s[d].name)&&""!=s[d].name.trim()&&(f=s[d].name.trim()),o+='<li class="col-lg-3 col-md-4 col-sm-6 col-xs-12 colnopad '+(1==l?'class="active"':"")+'"><a class="jsonTitleTruncateCls" data-toggle="tab" title="'+f+'" href="#spec'+l+++'">'+f+"</a></li>"}}o+="</ul>",o+='<div class="tab-content col-padng-5" schemaName="'+e+'">',l=1,o+=a(n,!0,r.propertyOrder,1);var m,g=jQuery.extend({},n);for(d=0;d<s.length;d++){c=!1;for(var u in s[d].valueset)if(s[d].valueset.hasOwnProperty(u))if("propertyOrder"==u)c=!0,m=s[d].valueset[u];else if(-1!=u.indexOf("properties.")){c=!0;var h=u.replace("properties.","");Fg.setrefNewObj(g,h,s[d].valueset[u])}c&&(o+=a(g,!1,m,++l))}o+="</div>"}else o+='<div class="col-padng-5" schemaName="'+e+'">',o+=a(n,!0,r.propertyOrder,1),o+="</div>";t?$(t).html(o):$("body").html(o),$(".conf_prop").fgOn("click.fg.39",(function(e){e.stopPropagation();var t=1*$(this).attr("data-level")+1;"0"==$(this).attr("data-open")?($(this).attr("data-open","1"),$(this).find("div[data-level="+t+"]").removeClass("hidden")):($(this).attr("data-open","0"),$(this).find("div[data-level="+t+"]").addClass("hidden"))})),$(".jsonTitleCls").fgOn("dragstart.fg.40",(function(e){e.dataTransfer=e.originalEvent.dataTransfer,$("#"+e.target.id).removeClass("jsonTitleBorderCls"),$("#"+e.target.id).addClass("jsonTitleBorderCls"),i||(i=!0,e.dataTransfer.setData("text/plain",e.target.id),e.dropEffect="move",console.log(e.target.id))})),$(".jsonTitleCls").fgOn("dragover.fg.41",(function(e){e.preventDefault(),e.dataTransfer=e.originalEvent.dataTransfer,e.dataTransfer.dropEffect="move",$("#"+e.target.id).removeClass("jsonTitleBorderCls")})),$(".jsonTitleCls").fgOn("drop.fg.42",(function(e){if(i){i=!1,e.preventDefault(),e.dataTransfer=e.originalEvent.dataTransfer;var t=e.dataTransfer.getData("text/plain");console.log(t),$("#"+t).removeClass("jsonTitleBorderCls");var a=$(document.getElementById(t)),r=$(e.target),n=$("<div>").insertAfter(r);r.insertAfter(a),a.insertBefore(n),n.remove();var s=$(e.target).attr("id");$("#"+s).removeClass("jsonTitleBorderCls")}}))},this.toSchema=function(){$(".jsonTitleCls.active").serializeObject();var e=$(".jsonTitleCls.active").parent().attr("schemaName");Fg.getSchema(e)},this.render=function(e){1==$('[faug-sch-name="'+e+'"]').length&&($(".fg-designer").remove(),$('[faug-sch-name="'+e+'"]').find("div[ffead-pth]").each((function(){if(0==$(".fg-designer").length&&$("body").append('<div class="fg-designer"/>'),0==$(this).children("label").length)return;let t=$(this).find("[name]").attr("name");t&&(t=t.replace(/\[/g,".[").replace(/\[([0-9]+)\]/g,"[$1]").replace(/\[/g,"").replace(/\]/g,"").replace(/'/g,"").replace(e+".",""),$(".fg-designer").append('<div class="fg-design" data-path="'+t+'" style="position:absolute;top:'+($(this).offset().top-15)+"px;left:"+$(this).offset().left+"px;width:"+$(this).width()+"px;height:"+($(this).height()+15)+'px;z-index:100;border:1px solid #ccc;"><div class="pull-right"><button style="background-color:#ccc" class="fg-design-m" name="mandatory">M</button><button style="background-color:#ccc" class="fg-design-o" name="optional">S</button></div></div>'))})),$("div.fg-design").find("button").fgOn("click.fg.43",(function(){if("1"===$(this).data("state"))$(this).data("state","0"),$(this).css("background-color","#ccc"),$(this).closest("div.fg-design").data($(this).attr("name"),!1);else{if("mandatory"==$(this).attr("name")){let e=$(this).siblings("button.fg-design-o");e.data("state","0"),e.css("background-color","#ccc"),e.closest("div.fg-design").data(e.attr("name"),!1)}else{let e=$(this).siblings("button.fg-design-m");e.data("state","0"),e.css("background-color","#ccc"),e.closest("div.fg-design").data(e.attr("name"),!1)}$(this).data("state","1"),$(this).css("background-color","green"),$(this).closest("div.fg-design").data($(this).attr("name"),!0)}})))}},this.open=function(e,t,a){e.startsWith("http")||e.startsWith("www.")||Fg.isN(ne)||!le.test(e)||0==e.indexOf(ne)||(e=0==e.indexOf("/")?ne+e:ne+"/"+e),window.open(e,t,a)},this.eitherOf=function(){for(var e=0;e<arguments.length;e++)if(arguments[e])return arguments[e]},this.vEl=function(e,t,a){var i=$("<i>");for(const t in e)i.data(t,e[t]);for(const e in t)i.attr(e,t[e]);return i.html(a),i},this},Fg=Faug;function __loadfaugconfig(e){var t={};let a=Faug.getConfigPath();var i={};function r(e,t){!0===e.compressedScript?Faug.initRouter(e,t):$.fetchMultipleFilesMT([[e.settings.extensionFile?e.settings.extensionFile:"faug-ext-globalize.js"]]).done((function(){Faug.initRouter(e,t)})).fail((function(e){alert("Problem loading Faug extension library")}))}e&&("queryparam"==e.aTokenWhere?a+="?"+e.aTokenName+"="+e.aTokenValue:"header"==e.aTokenWhere&&(i[e.aTokenName]=e.aTokenValue)),$.ajax({dataType:"json",url:a,headers:i}).done((function(e){if((t=e).settings.globalsConfigPath){let e=t.settings.globalsConfigPath;window.configUrl&&(e=window.configUrl+"/"+t.settings.globalsConfigPath),$.ajax({dataType:"json",url:e,headers:i}).done((function(e){e&&Object.keys(e).length>0&&r(t,e)})).fail((function(e){console.log("Error loading global params ("+e+")")}))}else r(t)})).fail((function(e){console.log("Error loading config.json ("+e+")")}))}$(document).ready((function(){window.app&&app.initialize&&app.initialize(),"undefined"!=typeof FaugWebWorker&&($.fetchMultipleFilesWWASync=function(e,t){var a=$.Deferred(),i=new FaugWebWorker("w-fetch-file.js","FetchMultipleFiles");return i.setObject(t),i.setOnMsgCallback(function(e,t){return function(a){try{if(Faug.is("Object",a.data)){for(var i=0;i<a.data.r;i++)a.data.r[i][2]=xhrObj(a.data.r[2]);a.data.e?e.reject(a.data.r):e.resolve(a.data.r),t.stop()}else Faug.is("Array",a.data)?(a.data[2]=xhrObj(a.data[2]),t.getObject()&&t.getObject()(a.data)):e.reject(a)}catch(a){console.error(a),t.stop()}}}(a,i)),i.send(e),a}),$.fn.state=function(e,t){if(0!=$(this).length)if(void 0!==t)$(this)[0].__fs||($(this)[0].__fs={}),$(this)[0].__fs[e]=t;else{if(Fg.is("Object",e))return void($(this)[0].__fs=e);if($(this)[0].__fs)return void 0!==e?$(this)[0].__fs[e]:$(this)[0].__fs}};$.fetchMultipleFilesChained=function(e,t,a,i){var r,n=$.Deferred();return r=e.reduce((function(e,i){return e.pipe(function(e,t,a){return!0!==a&&!1!==a&&(a=!0),function(i){var r=e.length>1?e[1]:"";""==r&&(/\.json/.test(e[0])?r="json":/\.js/.test(e[0])?r="script":/\.html/.test(e[0])&&(r="html"));var n=!(e.length>2)||e[2];return $.ajax({type:"GET",url:e[0],dataType:r,error:function(e,t,a){console.log(a)},cache:n,async:a}).pipe(function(e,a){return function(i){return"script"==e?$.globalEval(i):t&&t([a[0],i,e,a.slice(3)]),null}}(r,e))}}(i,t,a))}),n.promise()),n.resolve(i),r},$.fetchFile=function(e,t,a,i,r){void 0===i&&(i=!1);var n=n||{},s=Fg.getProperty("authObject");return s&&("queryparam"==s.aTokenWhere?-1==e.indexOf("?")?e+="?"+s.aTokenName+"="+s.aTokenValue:"?"==e[e.length-1]?e+=s.aTokenName+"="+s.aTokenValue:e+="&"+s.aTokenName+"="+s.aTokenValue:"header"==s.aTokenWhere&&!n.hasOwnProperty(s.aTokenName)&&s.aTokenValue&&(n[s.aTokenName]=s.aTokenValue)),$.ajax({type:"GET",url:e,dataType:t,success:r,error:function(e,t,a){console.log(a)},headers:n,cache:a,async:i})},$.fetchMultipleFilesRawMT=function(e,t){for(var a=new Fg.ApisPromiseMT,i=0;i<e.length;i++)a.push([!0,"get",e[i][0]],e[i]);return a.proceed(t,!0)},$.fetchMultipleFilesMT=function(e,t){for(var a=new Fg.ApisPromiseMT,i=0;i<e.length;i++)a.push([!0,"get",e[i][0]],e[i]);return a.proceed(function(e,t){return function(a,i,r){if(!0===i){var n=e[a],s=n.length>1?n[1]:"";""==s&&(/\.json/.test(n[0])?s="json":/\.js/.test(n[0])?s="script":/\.html/.test(n[0])&&(s="html")),"script"==s?$.globalEval(r.responseText):t&&t([n[0],r.responseText,s,n.slice(3)])}}}(e,t),!0)};var e=$.fn.val;if($.fn.cleanVal=function(){const t=e.apply($(this),[]);return null==t||Fg.is("Array",t)?t:$("<div>").text(t).html()},$.fn.val=function(...t){if(0==t.length){var a=e.apply($(this),[]);return a&&Fg.is("String",a)?a.trim():a}return e.apply($(this),t)},this.cleanVal=function(e){return null==e?e:$("<div>").text(e).html()},$.fn.fgLoad=function(e,t){Fg.load(e,function(e,t){return function(a){e.html(a),t()}}($(this),t))},$.fn.fgOn=function(...e){$(this).off(e[0]).on.apply($(this),e)},Faug.setProperty("recorder",new Fg.FgRecorder(!0)),(t=Faug.execFunc("asLibrary",[])).valid)Faug.initLib();else{var t;(t=Faug.execFunc("onLoad",[])).valid&&Faug.sp("loadconfigafterauth",t.result);var a=!0===window.onlyFaugCore;Faug.gp("loadconfigafterauth")||a||__loadfaugconfig();var i=!0===window.noFaugExtension;a&&!i&&$.fetchMultipleFilesMT([["faug-ext-globalize.js"]]).done((function(){Faug.initRouter({})})).fail((function(e){alert("Problem loading Faug extension library")}))}})).on("deviceready",(function(){Faug.execFunc("onCordovaLoad",[])})),"function"!=typeof String.prototype.startsWith&&(String.prototype.startsWith=function(e){return 0==this.indexOf(e)}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){var a=this.toString();("number"!=typeof t||!isFinite(t)||Math.floor(t)!==t||t>a.length)&&(t=a.length),t-=e.length;var i=a.indexOf(e,t);return-1!==i&&i===t}),"undefined"!=typeof module&&module.exports&&(module.exports={Faug:Faug,Fg:Faug});